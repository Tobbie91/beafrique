(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function iv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ov={exports:{}},Ru={},av={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var la=Symbol.for("react.element"),nT=Symbol.for("react.portal"),rT=Symbol.for("react.fragment"),sT=Symbol.for("react.strict_mode"),iT=Symbol.for("react.profiler"),oT=Symbol.for("react.provider"),aT=Symbol.for("react.context"),lT=Symbol.for("react.forward_ref"),uT=Symbol.for("react.suspense"),cT=Symbol.for("react.memo"),dT=Symbol.for("react.lazy"),Yp=Symbol.iterator;function hT(t){return t===null||typeof t!="object"?null:(t=Yp&&t[Yp]||t["@@iterator"],typeof t=="function"?t:null)}var lv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uv=Object.assign,cv={};function _i(t,e,n){this.props=t,this.context=e,this.refs=cv,this.updater=n||lv}_i.prototype.isReactComponent={};_i.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};_i.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function dv(){}dv.prototype=_i.prototype;function nf(t,e,n){this.props=t,this.context=e,this.refs=cv,this.updater=n||lv}var rf=nf.prototype=new dv;rf.constructor=nf;uv(rf,_i.prototype);rf.isPureReactComponent=!0;var Jp=Array.isArray,hv=Object.prototype.hasOwnProperty,sf={current:null},fv={key:!0,ref:!0,__self:!0,__source:!0};function mv(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)hv.call(e,r)&&!fv.hasOwnProperty(r)&&(s[r]=e[r]);var u=arguments.length-2;if(u===1)s.children=n;else if(1<u){for(var c=Array(u),d=0;d<u;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)s[r]===void 0&&(s[r]=u[r]);return{$$typeof:la,type:t,key:i,ref:o,props:s,_owner:sf.current}}function fT(t,e){return{$$typeof:la,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function of(t){return typeof t=="object"&&t!==null&&t.$$typeof===la}function mT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Xp=/\/+/g;function Bc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?mT(""+t.key):e.toString(36)}function ml(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case la:case nT:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Bc(o,0):r,Jp(s)?(n="",t!=null&&(n=t.replace(Xp,"$&/")+"/"),ml(s,e,n,"",function(d){return d})):s!=null&&(of(s)&&(s=fT(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Xp,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Jp(t))for(var u=0;u<t.length;u++){i=t[u];var c=r+Bc(i,u);o+=ml(i,e,n,c,s)}else if(c=hT(t),typeof c=="function")for(t=c.call(t),u=0;!(i=t.next()).done;)i=i.value,c=r+Bc(i,u++),o+=ml(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function $a(t,e,n){if(t==null)return t;var r=[],s=0;return ml(t,r,"","",function(i){return e.call(n,i,s++)}),r}function pT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vt={current:null},pl={transition:null},gT={ReactCurrentDispatcher:vt,ReactCurrentBatchConfig:pl,ReactCurrentOwner:sf};function pv(){throw Error("act(...) is not supported in production builds of React.")}te.Children={map:$a,forEach:function(t,e,n){$a(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return $a(t,function(){e++}),e},toArray:function(t){return $a(t,function(e){return e})||[]},only:function(t){if(!of(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};te.Component=_i;te.Fragment=rT;te.Profiler=iT;te.PureComponent=nf;te.StrictMode=sT;te.Suspense=uT;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gT;te.act=pv;te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=uv({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=sf.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)hv.call(e,c)&&!fv.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];r.children=u}return{$$typeof:la,type:t.type,key:s,ref:i,props:r,_owner:o}};te.createContext=function(t){return t={$$typeof:aT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:oT,_context:t},t.Consumer=t};te.createElement=mv;te.createFactory=function(t){var e=mv.bind(null,t);return e.type=t,e};te.createRef=function(){return{current:null}};te.forwardRef=function(t){return{$$typeof:lT,render:t}};te.isValidElement=of;te.lazy=function(t){return{$$typeof:dT,_payload:{_status:-1,_result:t},_init:pT}};te.memo=function(t,e){return{$$typeof:cT,type:t,compare:e===void 0?null:e}};te.startTransition=function(t){var e=pl.transition;pl.transition={};try{t()}finally{pl.transition=e}};te.unstable_act=pv;te.useCallback=function(t,e){return vt.current.useCallback(t,e)};te.useContext=function(t){return vt.current.useContext(t)};te.useDebugValue=function(){};te.useDeferredValue=function(t){return vt.current.useDeferredValue(t)};te.useEffect=function(t,e){return vt.current.useEffect(t,e)};te.useId=function(){return vt.current.useId()};te.useImperativeHandle=function(t,e,n){return vt.current.useImperativeHandle(t,e,n)};te.useInsertionEffect=function(t,e){return vt.current.useInsertionEffect(t,e)};te.useLayoutEffect=function(t,e){return vt.current.useLayoutEffect(t,e)};te.useMemo=function(t,e){return vt.current.useMemo(t,e)};te.useReducer=function(t,e,n){return vt.current.useReducer(t,e,n)};te.useRef=function(t){return vt.current.useRef(t)};te.useState=function(t){return vt.current.useState(t)};te.useSyncExternalStore=function(t,e,n){return vt.current.useSyncExternalStore(t,e,n)};te.useTransition=function(){return vt.current.useTransition()};te.version="18.3.1";av.exports=te;var P=av.exports;const pr=iv(P);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yT=P,vT=Symbol.for("react.element"),_T=Symbol.for("react.fragment"),xT=Object.prototype.hasOwnProperty,wT=yT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ET={key:!0,ref:!0,__self:!0,__source:!0};function gv(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)xT.call(e,r)&&!ET.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:vT,type:t,key:i,ref:o,props:s,_owner:wT.current}}Ru.Fragment=_T;Ru.jsx=gv;Ru.jsxs=gv;ov.exports=Ru;var l=ov.exports,yv={exports:{}},Dt={},vv={exports:{}},_v={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,G){var J=$.length;$.push(G);e:for(;0<J;){var ce=J-1>>>1,fe=$[ce];if(0<s(fe,G))$[ce]=G,$[J]=fe,J=ce;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var G=$[0],J=$.pop();if(J!==G){$[0]=J;e:for(var ce=0,fe=$.length,nt=fe>>>1;ce<nt;){var xt=2*(ce+1)-1,W=$[xt],le=xt+1,rt=$[le];if(0>s(W,J))le<fe&&0>s(rt,W)?($[ce]=rt,$[le]=J,ce=le):($[ce]=W,$[xt]=J,ce=xt);else if(le<fe&&0>s(rt,J))$[ce]=rt,$[le]=J,ce=le;else break e}}return G}function s($,G){var J=$.sortIndex-G.sortIndex;return J!==0?J:$.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var c=[],d=[],f=1,p=null,g=3,T=!1,k=!1,C=!1,R=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E($){for(var G=n(d);G!==null;){if(G.callback===null)r(d);else if(G.startTime<=$)r(d),G.sortIndex=G.expirationTime,e(c,G);else break;G=n(d)}}function S($){if(C=!1,E($),!k)if(n(c)!==null)k=!0,Qe(V);else{var G=n(d);G!==null&&Vt(S,G.startTime-$)}}function V($,G){k=!1,C&&(C=!1,w(y),y=-1),T=!0;var J=g;try{for(E(G),p=n(c);p!==null&&(!(p.expirationTime>G)||$&&!A());){var ce=p.callback;if(typeof ce=="function"){p.callback=null,g=p.priorityLevel;var fe=ce(p.expirationTime<=G);G=t.unstable_now(),typeof fe=="function"?p.callback=fe:p===n(c)&&r(c),E(G)}else r(c);p=n(c)}if(p!==null)var nt=!0;else{var xt=n(d);xt!==null&&Vt(S,xt.startTime-G),nt=!1}return nt}finally{p=null,g=J,T=!1}}var M=!1,x=null,y=-1,I=5,b=-1;function A(){return!(t.unstable_now()-b<I)}function j(){if(x!==null){var $=t.unstable_now();b=$;var G=!0;try{G=x(!0,$)}finally{G?N():(M=!1,x=null)}}else M=!1}var N;if(typeof v=="function")N=function(){v(j)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,Te=ge.port2;ge.port1.onmessage=j,N=function(){Te.postMessage(null)}}else N=function(){R(j,0)};function Qe($){x=$,M||(M=!0,N())}function Vt($,G){y=R(function(){$(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){k||T||(k=!0,Qe(V))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function($){switch(g){case 1:case 2:case 3:var G=3;break;default:G=g}var J=g;g=G;try{return $()}finally{g=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,G){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var J=g;g=$;try{return G()}finally{g=J}},t.unstable_scheduleCallback=function($,G,J){var ce=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ce+J:ce):J=ce,$){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=J+fe,$={id:f++,callback:G,priorityLevel:$,startTime:J,expirationTime:fe,sortIndex:-1},J>ce?($.sortIndex=J,e(d,$),n(c)===null&&$===n(d)&&(C?(w(y),y=-1):C=!0,Vt(S,J-ce))):($.sortIndex=fe,e(c,$),k||T||(k=!0,Qe(V))),$},t.unstable_shouldYield=A,t.unstable_wrapCallback=function($){var G=g;return function(){var J=g;g=G;try{return $.apply(this,arguments)}finally{g=J}}}})(_v);vv.exports=_v;var TT=vv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IT=P,jt=TT;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xv=new Set,Ro={};function gs(t,e){si(t,e),si(t+"Capture",e)}function si(t,e){for(Ro[t]=e,t=0;t<e.length;t++)xv.add(e[t])}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jd=Object.prototype.hasOwnProperty,ST=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zp={},eg={};function NT(t){return jd.call(eg,t)?!0:jd.call(Zp,t)?!1:ST.test(t)?eg[t]=!0:(Zp[t]=!0,!1)}function bT(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function kT(t,e,n,r){if(e===null||typeof e>"u"||bT(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _t(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){et[t]=new _t(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];et[e]=new _t(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){et[t]=new _t(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){et[t]=new _t(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){et[t]=new _t(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){et[t]=new _t(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){et[t]=new _t(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){et[t]=new _t(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){et[t]=new _t(t,5,!1,t.toLowerCase(),null,!1,!1)});var af=/[\-:]([a-z])/g;function lf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(af,lf);et[e]=new _t(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(af,lf);et[e]=new _t(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(af,lf);et[e]=new _t(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){et[t]=new _t(t,1,!1,t.toLowerCase(),null,!1,!1)});et.xlinkHref=new _t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){et[t]=new _t(t,1,!1,t.toLowerCase(),null,!0,!0)});function uf(t,e,n,r){var s=et.hasOwnProperty(e)?et[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(kT(e,n,s,r)&&(n=null),r||s===null?NT(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Kn=IT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ba=Symbol.for("react.element"),js=Symbol.for("react.portal"),Ds=Symbol.for("react.fragment"),cf=Symbol.for("react.strict_mode"),Dd=Symbol.for("react.profiler"),wv=Symbol.for("react.provider"),Ev=Symbol.for("react.context"),df=Symbol.for("react.forward_ref"),Od=Symbol.for("react.suspense"),Vd=Symbol.for("react.suspense_list"),hf=Symbol.for("react.memo"),rr=Symbol.for("react.lazy"),Tv=Symbol.for("react.offscreen"),tg=Symbol.iterator;function Yi(t){return t===null||typeof t!="object"?null:(t=tg&&t[tg]||t["@@iterator"],typeof t=="function"?t:null)}var Ne=Object.assign,qc;function io(t){if(qc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);qc=e&&e[1]||""}return`
`+qc+t}var Hc=!1;function Wc(t,e){if(!t||Hc)return"";Hc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,u=i.length-1;1<=o&&0<=u&&s[o]!==i[u];)u--;for(;1<=o&&0<=u;o--,u--)if(s[o]!==i[u]){if(o!==1||u!==1)do if(o--,u--,0>u||s[o]!==i[u]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=u);break}}}finally{Hc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?io(t):""}function AT(t){switch(t.tag){case 5:return io(t.type);case 16:return io("Lazy");case 13:return io("Suspense");case 19:return io("SuspenseList");case 0:case 2:case 15:return t=Wc(t.type,!1),t;case 11:return t=Wc(t.type.render,!1),t;case 1:return t=Wc(t.type,!0),t;default:return""}}function Ld(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ds:return"Fragment";case js:return"Portal";case Dd:return"Profiler";case cf:return"StrictMode";case Od:return"Suspense";case Vd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ev:return(t.displayName||"Context")+".Consumer";case wv:return(t._context.displayName||"Context")+".Provider";case df:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case hf:return e=t.displayName||null,e!==null?e:Ld(t.type)||"Memo";case rr:e=t._payload,t=t._init;try{return Ld(t(e))}catch{}}return null}function CT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ld(e);case 8:return e===cf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ar(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Iv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function RT(t){var e=Iv(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function qa(t){t._valueTracker||(t._valueTracker=RT(t))}function Sv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Iv(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ml(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Md(t,e){var n=e.checked;return Ne({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ng(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ar(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Nv(t,e){e=e.checked,e!=null&&uf(t,"checked",e,!1)}function Fd(t,e){Nv(t,e);var n=Ar(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ud(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ud(t,e.type,Ar(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function rg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ud(t,e,n){(e!=="number"||Ml(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var oo=Array.isArray;function Ks(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ar(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function zd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return Ne({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function sg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(oo(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ar(n)}}function bv(t,e){var n=Ar(e.value),r=Ar(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ig(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function kv(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $d(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?kv(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ha,Av=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ha=Ha||document.createElement("div"),Ha.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ha.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Po(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var go={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},PT=["Webkit","ms","Moz","O"];Object.keys(go).forEach(function(t){PT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),go[e]=go[t]})});function Cv(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||go.hasOwnProperty(t)&&go[t]?(""+e).trim():e+"px"}function Rv(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Cv(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var jT=Ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bd(t,e){if(e){if(jT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function qd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hd=null;function ff(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wd=null,Gs=null,Qs=null;function og(t){if(t=da(t)){if(typeof Wd!="function")throw Error(U(280));var e=t.stateNode;e&&(e=Vu(e),Wd(t.stateNode,t.type,e))}}function Pv(t){Gs?Qs?Qs.push(t):Qs=[t]:Gs=t}function jv(){if(Gs){var t=Gs,e=Qs;if(Qs=Gs=null,og(t),e)for(t=0;t<e.length;t++)og(e[t])}}function Dv(t,e){return t(e)}function Ov(){}var Kc=!1;function Vv(t,e,n){if(Kc)return t(e,n);Kc=!0;try{return Dv(t,e,n)}finally{Kc=!1,(Gs!==null||Qs!==null)&&(Ov(),jv())}}function jo(t,e){var n=t.stateNode;if(n===null)return null;var r=Vu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var Kd=!1;if(Mn)try{var Ji={};Object.defineProperty(Ji,"passive",{get:function(){Kd=!0}}),window.addEventListener("test",Ji,Ji),window.removeEventListener("test",Ji,Ji)}catch{Kd=!1}function DT(t,e,n,r,s,i,o,u,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(f){this.onError(f)}}var yo=!1,Fl=null,Ul=!1,Gd=null,OT={onError:function(t){yo=!0,Fl=t}};function VT(t,e,n,r,s,i,o,u,c){yo=!1,Fl=null,DT.apply(OT,arguments)}function LT(t,e,n,r,s,i,o,u,c){if(VT.apply(this,arguments),yo){if(yo){var d=Fl;yo=!1,Fl=null}else throw Error(U(198));Ul||(Ul=!0,Gd=d)}}function ys(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Lv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ag(t){if(ys(t)!==t)throw Error(U(188))}function MT(t){var e=t.alternate;if(!e){if(e=ys(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return ag(s),t;if(i===r)return ag(s),e;i=i.sibling}throw Error(U(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,u=s.child;u;){if(u===n){o=!0,n=s,r=i;break}if(u===r){o=!0,r=s,n=i;break}u=u.sibling}if(!o){for(u=i.child;u;){if(u===n){o=!0,n=i,r=s;break}if(u===r){o=!0,r=i,n=s;break}u=u.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function Mv(t){return t=MT(t),t!==null?Fv(t):null}function Fv(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Fv(t);if(e!==null)return e;t=t.sibling}return null}var Uv=jt.unstable_scheduleCallback,lg=jt.unstable_cancelCallback,FT=jt.unstable_shouldYield,UT=jt.unstable_requestPaint,Pe=jt.unstable_now,zT=jt.unstable_getCurrentPriorityLevel,mf=jt.unstable_ImmediatePriority,zv=jt.unstable_UserBlockingPriority,zl=jt.unstable_NormalPriority,$T=jt.unstable_LowPriority,$v=jt.unstable_IdlePriority,Pu=null,fn=null;function BT(t){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(Pu,t,void 0,(t.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:WT,qT=Math.log,HT=Math.LN2;function WT(t){return t>>>=0,t===0?32:31-(qT(t)/HT|0)|0}var Wa=64,Ka=4194304;function ao(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function $l(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var u=o&~s;u!==0?r=ao(u):(i&=o,i!==0&&(r=ao(i)))}else o=n&~s,o!==0?r=ao(o):i!==0&&(r=ao(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Jt(e),s=1<<n,r|=t[n],e&=~s;return r}function KT(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function GT(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Jt(i),u=1<<o,c=s[o];c===-1?(!(u&n)||u&r)&&(s[o]=KT(u,e)):c<=e&&(t.expiredLanes|=u),i&=~u}}function Qd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Bv(){var t=Wa;return Wa<<=1,!(Wa&4194240)&&(Wa=64),t}function Gc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ua(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Jt(e),t[e]=n}function QT(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Jt(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function pf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Jt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var de=0;function qv(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Hv,gf,Wv,Kv,Gv,Yd=!1,Ga=[],gr=null,yr=null,vr=null,Do=new Map,Oo=new Map,ir=[],YT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ug(t,e){switch(t){case"focusin":case"focusout":gr=null;break;case"dragenter":case"dragleave":yr=null;break;case"mouseover":case"mouseout":vr=null;break;case"pointerover":case"pointerout":Do.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oo.delete(e.pointerId)}}function Xi(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=da(e),e!==null&&gf(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function JT(t,e,n,r,s){switch(e){case"focusin":return gr=Xi(gr,t,e,n,r,s),!0;case"dragenter":return yr=Xi(yr,t,e,n,r,s),!0;case"mouseover":return vr=Xi(vr,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Do.set(i,Xi(Do.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Oo.set(i,Xi(Oo.get(i)||null,t,e,n,r,s)),!0}return!1}function Qv(t){var e=Zr(t.target);if(e!==null){var n=ys(e);if(n!==null){if(e=n.tag,e===13){if(e=Lv(n),e!==null){t.blockedOn=e,Gv(t.priority,function(){Wv(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Jd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Hd=r,n.target.dispatchEvent(r),Hd=null}else return e=da(n),e!==null&&gf(e),t.blockedOn=n,!1;e.shift()}return!0}function cg(t,e,n){gl(t)&&n.delete(e)}function XT(){Yd=!1,gr!==null&&gl(gr)&&(gr=null),yr!==null&&gl(yr)&&(yr=null),vr!==null&&gl(vr)&&(vr=null),Do.forEach(cg),Oo.forEach(cg)}function Zi(t,e){t.blockedOn===e&&(t.blockedOn=null,Yd||(Yd=!0,jt.unstable_scheduleCallback(jt.unstable_NormalPriority,XT)))}function Vo(t){function e(s){return Zi(s,t)}if(0<Ga.length){Zi(Ga[0],t);for(var n=1;n<Ga.length;n++){var r=Ga[n];r.blockedOn===t&&(r.blockedOn=null)}}for(gr!==null&&Zi(gr,t),yr!==null&&Zi(yr,t),vr!==null&&Zi(vr,t),Do.forEach(e),Oo.forEach(e),n=0;n<ir.length;n++)r=ir[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ir.length&&(n=ir[0],n.blockedOn===null);)Qv(n),n.blockedOn===null&&ir.shift()}var Ys=Kn.ReactCurrentBatchConfig,Bl=!0;function ZT(t,e,n,r){var s=de,i=Ys.transition;Ys.transition=null;try{de=1,yf(t,e,n,r)}finally{de=s,Ys.transition=i}}function eI(t,e,n,r){var s=de,i=Ys.transition;Ys.transition=null;try{de=4,yf(t,e,n,r)}finally{de=s,Ys.transition=i}}function yf(t,e,n,r){if(Bl){var s=Jd(t,e,n,r);if(s===null)sd(t,e,r,ql,n),ug(t,r);else if(JT(s,t,e,n,r))r.stopPropagation();else if(ug(t,r),e&4&&-1<YT.indexOf(t)){for(;s!==null;){var i=da(s);if(i!==null&&Hv(i),i=Jd(t,e,n,r),i===null&&sd(t,e,r,ql,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else sd(t,e,r,null,n)}}var ql=null;function Jd(t,e,n,r){if(ql=null,t=ff(r),t=Zr(t),t!==null)if(e=ys(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Lv(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ql=t,null}function Yv(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zT()){case mf:return 1;case zv:return 4;case zl:case $T:return 16;case $v:return 536870912;default:return 16}default:return 16}}var dr=null,vf=null,yl=null;function Jv(){if(yl)return yl;var t,e=vf,n=e.length,r,s="value"in dr?dr.value:dr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return yl=s.slice(t,1<r?1-r:void 0)}function vl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Qa(){return!0}function dg(){return!1}function Ot(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Qa:dg,this.isPropagationStopped=dg,this}return Ne(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qa)},persist:function(){},isPersistent:Qa}),e}var xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_f=Ot(xi),ca=Ne({},xi,{view:0,detail:0}),tI=Ot(ca),Qc,Yc,eo,ju=Ne({},ca,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==eo&&(eo&&t.type==="mousemove"?(Qc=t.screenX-eo.screenX,Yc=t.screenY-eo.screenY):Yc=Qc=0,eo=t),Qc)},movementY:function(t){return"movementY"in t?t.movementY:Yc}}),hg=Ot(ju),nI=Ne({},ju,{dataTransfer:0}),rI=Ot(nI),sI=Ne({},ca,{relatedTarget:0}),Jc=Ot(sI),iI=Ne({},xi,{animationName:0,elapsedTime:0,pseudoElement:0}),oI=Ot(iI),aI=Ne({},xi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),lI=Ot(aI),uI=Ne({},xi,{data:0}),fg=Ot(uI),cI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=hI[t])?!!e[t]:!1}function xf(){return fI}var mI=Ne({},ca,{key:function(t){if(t.key){var e=cI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=vl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?dI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xf,charCode:function(t){return t.type==="keypress"?vl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pI=Ot(mI),gI=Ne({},ju,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mg=Ot(gI),yI=Ne({},ca,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xf}),vI=Ot(yI),_I=Ne({},xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),xI=Ot(_I),wI=Ne({},ju,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),EI=Ot(wI),TI=[9,13,27,32],wf=Mn&&"CompositionEvent"in window,vo=null;Mn&&"documentMode"in document&&(vo=document.documentMode);var II=Mn&&"TextEvent"in window&&!vo,Xv=Mn&&(!wf||vo&&8<vo&&11>=vo),pg=" ",gg=!1;function Zv(t,e){switch(t){case"keyup":return TI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function e_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Os=!1;function SI(t,e){switch(t){case"compositionend":return e_(e);case"keypress":return e.which!==32?null:(gg=!0,pg);case"textInput":return t=e.data,t===pg&&gg?null:t;default:return null}}function NI(t,e){if(Os)return t==="compositionend"||!wf&&Zv(t,e)?(t=Jv(),yl=vf=dr=null,Os=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Xv&&e.locale!=="ko"?null:e.data;default:return null}}var bI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!bI[t.type]:e==="textarea"}function t_(t,e,n,r){Pv(r),e=Hl(e,"onChange"),0<e.length&&(n=new _f("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var _o=null,Lo=null;function kI(t){h_(t,0)}function Du(t){var e=Ms(t);if(Sv(e))return t}function AI(t,e){if(t==="change")return e}var n_=!1;if(Mn){var Xc;if(Mn){var Zc="oninput"in document;if(!Zc){var vg=document.createElement("div");vg.setAttribute("oninput","return;"),Zc=typeof vg.oninput=="function"}Xc=Zc}else Xc=!1;n_=Xc&&(!document.documentMode||9<document.documentMode)}function _g(){_o&&(_o.detachEvent("onpropertychange",r_),Lo=_o=null)}function r_(t){if(t.propertyName==="value"&&Du(Lo)){var e=[];t_(e,Lo,t,ff(t)),Vv(kI,e)}}function CI(t,e,n){t==="focusin"?(_g(),_o=e,Lo=n,_o.attachEvent("onpropertychange",r_)):t==="focusout"&&_g()}function RI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Du(Lo)}function PI(t,e){if(t==="click")return Du(e)}function jI(t,e){if(t==="input"||t==="change")return Du(e)}function DI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var en=typeof Object.is=="function"?Object.is:DI;function Mo(t,e){if(en(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!jd.call(e,s)||!en(t[s],e[s]))return!1}return!0}function xg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wg(t,e){var n=xg(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xg(n)}}function s_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?s_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function i_(){for(var t=window,e=Ml();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ml(t.document)}return e}function Ef(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function OI(t){var e=i_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&s_(n.ownerDocument.documentElement,n)){if(r!==null&&Ef(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=wg(n,i);var o=wg(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var VI=Mn&&"documentMode"in document&&11>=document.documentMode,Vs=null,Xd=null,xo=null,Zd=!1;function Eg(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zd||Vs==null||Vs!==Ml(r)||(r=Vs,"selectionStart"in r&&Ef(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),xo&&Mo(xo,r)||(xo=r,r=Hl(Xd,"onSelect"),0<r.length&&(e=new _f("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Vs)))}function Ya(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ls={animationend:Ya("Animation","AnimationEnd"),animationiteration:Ya("Animation","AnimationIteration"),animationstart:Ya("Animation","AnimationStart"),transitionend:Ya("Transition","TransitionEnd")},ed={},o_={};Mn&&(o_=document.createElement("div").style,"AnimationEvent"in window||(delete Ls.animationend.animation,delete Ls.animationiteration.animation,delete Ls.animationstart.animation),"TransitionEvent"in window||delete Ls.transitionend.transition);function Ou(t){if(ed[t])return ed[t];if(!Ls[t])return t;var e=Ls[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in o_)return ed[t]=e[n];return t}var a_=Ou("animationend"),l_=Ou("animationiteration"),u_=Ou("animationstart"),c_=Ou("transitionend"),d_=new Map,Tg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(t,e){d_.set(t,e),gs(e,[t])}for(var td=0;td<Tg.length;td++){var nd=Tg[td],LI=nd.toLowerCase(),MI=nd[0].toUpperCase()+nd.slice(1);Mr(LI,"on"+MI)}Mr(a_,"onAnimationEnd");Mr(l_,"onAnimationIteration");Mr(u_,"onAnimationStart");Mr("dblclick","onDoubleClick");Mr("focusin","onFocus");Mr("focusout","onBlur");Mr(c_,"onTransitionEnd");si("onMouseEnter",["mouseout","mouseover"]);si("onMouseLeave",["mouseout","mouseover"]);si("onPointerEnter",["pointerout","pointerover"]);si("onPointerLeave",["pointerout","pointerover"]);gs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gs("onBeforeInput",["compositionend","keypress","textInput","paste"]);gs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FI=new Set("cancel close invalid load scroll toggle".split(" ").concat(lo));function Ig(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,LT(r,e,void 0,t),t.currentTarget=null}function h_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var u=r[o],c=u.instance,d=u.currentTarget;if(u=u.listener,c!==i&&s.isPropagationStopped())break e;Ig(s,u,d),i=c}else for(o=0;o<r.length;o++){if(u=r[o],c=u.instance,d=u.currentTarget,u=u.listener,c!==i&&s.isPropagationStopped())break e;Ig(s,u,d),i=c}}}if(Ul)throw t=Gd,Ul=!1,Gd=null,t}function ve(t,e){var n=e[sh];n===void 0&&(n=e[sh]=new Set);var r=t+"__bubble";n.has(r)||(f_(e,t,2,!1),n.add(r))}function rd(t,e,n){var r=0;e&&(r|=4),f_(n,t,r,e)}var Ja="_reactListening"+Math.random().toString(36).slice(2);function Fo(t){if(!t[Ja]){t[Ja]=!0,xv.forEach(function(n){n!=="selectionchange"&&(FI.has(n)||rd(n,!1,t),rd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ja]||(e[Ja]=!0,rd("selectionchange",!1,e))}}function f_(t,e,n,r){switch(Yv(e)){case 1:var s=ZT;break;case 4:s=eI;break;default:s=yf}n=s.bind(null,e,n,t),s=void 0,!Kd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function sd(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var u=r.stateNode.containerInfo;if(u===s||u.nodeType===8&&u.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;u!==null;){if(o=Zr(u),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}u=u.parentNode}}r=r.return}Vv(function(){var d=i,f=ff(n),p=[];e:{var g=d_.get(t);if(g!==void 0){var T=_f,k=t;switch(t){case"keypress":if(vl(n)===0)break e;case"keydown":case"keyup":T=pI;break;case"focusin":k="focus",T=Jc;break;case"focusout":k="blur",T=Jc;break;case"beforeblur":case"afterblur":T=Jc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":T=hg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":T=rI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":T=vI;break;case a_:case l_:case u_:T=oI;break;case c_:T=xI;break;case"scroll":T=tI;break;case"wheel":T=EI;break;case"copy":case"cut":case"paste":T=lI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":T=mg}var C=(e&4)!==0,R=!C&&t==="scroll",w=C?g!==null?g+"Capture":null:g;C=[];for(var v=d,E;v!==null;){E=v;var S=E.stateNode;if(E.tag===5&&S!==null&&(E=S,w!==null&&(S=jo(v,w),S!=null&&C.push(Uo(v,S,E)))),R)break;v=v.return}0<C.length&&(g=new T(g,k,null,n,f),p.push({event:g,listeners:C}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",T=t==="mouseout"||t==="pointerout",g&&n!==Hd&&(k=n.relatedTarget||n.fromElement)&&(Zr(k)||k[Fn]))break e;if((T||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,T?(k=n.relatedTarget||n.toElement,T=d,k=k?Zr(k):null,k!==null&&(R=ys(k),k!==R||k.tag!==5&&k.tag!==6)&&(k=null)):(T=null,k=d),T!==k)){if(C=hg,S="onMouseLeave",w="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(C=mg,S="onPointerLeave",w="onPointerEnter",v="pointer"),R=T==null?g:Ms(T),E=k==null?g:Ms(k),g=new C(S,v+"leave",T,n,f),g.target=R,g.relatedTarget=E,S=null,Zr(f)===d&&(C=new C(w,v+"enter",k,n,f),C.target=E,C.relatedTarget=R,S=C),R=S,T&&k)t:{for(C=T,w=k,v=0,E=C;E;E=bs(E))v++;for(E=0,S=w;S;S=bs(S))E++;for(;0<v-E;)C=bs(C),v--;for(;0<E-v;)w=bs(w),E--;for(;v--;){if(C===w||w!==null&&C===w.alternate)break t;C=bs(C),w=bs(w)}C=null}else C=null;T!==null&&Sg(p,g,T,C,!1),k!==null&&R!==null&&Sg(p,R,k,C,!0)}}e:{if(g=d?Ms(d):window,T=g.nodeName&&g.nodeName.toLowerCase(),T==="select"||T==="input"&&g.type==="file")var V=AI;else if(yg(g))if(n_)V=jI;else{V=RI;var M=CI}else(T=g.nodeName)&&T.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(V=PI);if(V&&(V=V(t,d))){t_(p,V,n,f);break e}M&&M(t,g,d),t==="focusout"&&(M=g._wrapperState)&&M.controlled&&g.type==="number"&&Ud(g,"number",g.value)}switch(M=d?Ms(d):window,t){case"focusin":(yg(M)||M.contentEditable==="true")&&(Vs=M,Xd=d,xo=null);break;case"focusout":xo=Xd=Vs=null;break;case"mousedown":Zd=!0;break;case"contextmenu":case"mouseup":case"dragend":Zd=!1,Eg(p,n,f);break;case"selectionchange":if(VI)break;case"keydown":case"keyup":Eg(p,n,f)}var x;if(wf)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Os?Zv(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(Xv&&n.locale!=="ko"&&(Os||y!=="onCompositionStart"?y==="onCompositionEnd"&&Os&&(x=Jv()):(dr=f,vf="value"in dr?dr.value:dr.textContent,Os=!0)),M=Hl(d,y),0<M.length&&(y=new fg(y,t,null,n,f),p.push({event:y,listeners:M}),x?y.data=x:(x=e_(n),x!==null&&(y.data=x)))),(x=II?SI(t,n):NI(t,n))&&(d=Hl(d,"onBeforeInput"),0<d.length&&(f=new fg("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:d}),f.data=x))}h_(p,e)})}function Uo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Hl(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=jo(t,n),i!=null&&r.unshift(Uo(t,i,s)),i=jo(t,e),i!=null&&r.push(Uo(t,i,s))),t=t.return}return r}function bs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Sg(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var u=n,c=u.alternate,d=u.stateNode;if(c!==null&&c===r)break;u.tag===5&&d!==null&&(u=d,s?(c=jo(n,i),c!=null&&o.unshift(Uo(n,c,u))):s||(c=jo(n,i),c!=null&&o.push(Uo(n,c,u)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var UI=/\r\n?/g,zI=/\u0000|\uFFFD/g;function Ng(t){return(typeof t=="string"?t:""+t).replace(UI,`
`).replace(zI,"")}function Xa(t,e,n){if(e=Ng(e),Ng(t)!==e&&n)throw Error(U(425))}function Wl(){}var eh=null,th=null;function nh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var rh=typeof setTimeout=="function"?setTimeout:void 0,$I=typeof clearTimeout=="function"?clearTimeout:void 0,bg=typeof Promise=="function"?Promise:void 0,BI=typeof queueMicrotask=="function"?queueMicrotask:typeof bg<"u"?function(t){return bg.resolve(null).then(t).catch(qI)}:rh;function qI(t){setTimeout(function(){throw t})}function id(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Vo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Vo(e)}function _r(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function kg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var wi=Math.random().toString(36).slice(2),hn="__reactFiber$"+wi,zo="__reactProps$"+wi,Fn="__reactContainer$"+wi,sh="__reactEvents$"+wi,HI="__reactListeners$"+wi,WI="__reactHandles$"+wi;function Zr(t){var e=t[hn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Fn]||n[hn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=kg(t);t!==null;){if(n=t[hn])return n;t=kg(t)}return e}t=n,n=t.parentNode}return null}function da(t){return t=t[hn]||t[Fn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ms(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function Vu(t){return t[zo]||null}var ih=[],Fs=-1;function Fr(t){return{current:t}}function xe(t){0>Fs||(t.current=ih[Fs],ih[Fs]=null,Fs--)}function pe(t,e){Fs++,ih[Fs]=t.current,t.current=e}var Cr={},dt=Fr(Cr),St=Fr(!1),os=Cr;function ii(t,e){var n=t.type.contextTypes;if(!n)return Cr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Nt(t){return t=t.childContextTypes,t!=null}function Kl(){xe(St),xe(dt)}function Ag(t,e,n){if(dt.current!==Cr)throw Error(U(168));pe(dt,e),pe(St,n)}function m_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(U(108,CT(t)||"Unknown",s));return Ne({},n,r)}function Gl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Cr,os=dt.current,pe(dt,t),pe(St,St.current),!0}function Cg(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=m_(t,e,os),r.__reactInternalMemoizedMergedChildContext=t,xe(St),xe(dt),pe(dt,t)):xe(St),pe(St,n)}var Cn=null,Lu=!1,od=!1;function p_(t){Cn===null?Cn=[t]:Cn.push(t)}function KI(t){Lu=!0,p_(t)}function Ur(){if(!od&&Cn!==null){od=!0;var t=0,e=de;try{var n=Cn;for(de=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Cn=null,Lu=!1}catch(s){throw Cn!==null&&(Cn=Cn.slice(t+1)),Uv(mf,Ur),s}finally{de=e,od=!1}}return null}var Us=[],zs=0,Ql=null,Yl=0,Lt=[],Mt=0,as=null,Rn=1,Pn="";function Yr(t,e){Us[zs++]=Yl,Us[zs++]=Ql,Ql=t,Yl=e}function g_(t,e,n){Lt[Mt++]=Rn,Lt[Mt++]=Pn,Lt[Mt++]=as,as=t;var r=Rn;t=Pn;var s=32-Jt(r)-1;r&=~(1<<s),n+=1;var i=32-Jt(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Rn=1<<32-Jt(e)+s|n<<s|r,Pn=i+t}else Rn=1<<i|n<<s|r,Pn=t}function Tf(t){t.return!==null&&(Yr(t,1),g_(t,1,0))}function If(t){for(;t===Ql;)Ql=Us[--zs],Us[zs]=null,Yl=Us[--zs],Us[zs]=null;for(;t===as;)as=Lt[--Mt],Lt[Mt]=null,Pn=Lt[--Mt],Lt[Mt]=null,Rn=Lt[--Mt],Lt[Mt]=null}var Pt=null,Ct=null,we=!1,Gt=null;function y_(t,e){var n=zt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Rg(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Pt=t,Ct=_r(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Pt=t,Ct=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=as!==null?{id:Rn,overflow:Pn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=zt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Pt=t,Ct=null,!0):!1;default:return!1}}function oh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ah(t){if(we){var e=Ct;if(e){var n=e;if(!Rg(t,e)){if(oh(t))throw Error(U(418));e=_r(n.nextSibling);var r=Pt;e&&Rg(t,e)?y_(r,n):(t.flags=t.flags&-4097|2,we=!1,Pt=t)}}else{if(oh(t))throw Error(U(418));t.flags=t.flags&-4097|2,we=!1,Pt=t}}}function Pg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Pt=t}function Za(t){if(t!==Pt)return!1;if(!we)return Pg(t),we=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!nh(t.type,t.memoizedProps)),e&&(e=Ct)){if(oh(t))throw v_(),Error(U(418));for(;e;)y_(t,e),e=_r(e.nextSibling)}if(Pg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ct=_r(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ct=null}}else Ct=Pt?_r(t.stateNode.nextSibling):null;return!0}function v_(){for(var t=Ct;t;)t=_r(t.nextSibling)}function oi(){Ct=Pt=null,we=!1}function Sf(t){Gt===null?Gt=[t]:Gt.push(t)}var GI=Kn.ReactCurrentBatchConfig;function to(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var u=s.refs;o===null?delete u[i]:u[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function el(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function jg(t){var e=t._init;return e(t._payload)}function __(t){function e(w,v){if(t){var E=w.deletions;E===null?(w.deletions=[v],w.flags|=16):E.push(v)}}function n(w,v){if(!t)return null;for(;v!==null;)e(w,v),v=v.sibling;return null}function r(w,v){for(w=new Map;v!==null;)v.key!==null?w.set(v.key,v):w.set(v.index,v),v=v.sibling;return w}function s(w,v){return w=Tr(w,v),w.index=0,w.sibling=null,w}function i(w,v,E){return w.index=E,t?(E=w.alternate,E!==null?(E=E.index,E<v?(w.flags|=2,v):E):(w.flags|=2,v)):(w.flags|=1048576,v)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function u(w,v,E,S){return v===null||v.tag!==6?(v=fd(E,w.mode,S),v.return=w,v):(v=s(v,E),v.return=w,v)}function c(w,v,E,S){var V=E.type;return V===Ds?f(w,v,E.props.children,S,E.key):v!==null&&(v.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===rr&&jg(V)===v.type)?(S=s(v,E.props),S.ref=to(w,v,E),S.return=w,S):(S=Sl(E.type,E.key,E.props,null,w.mode,S),S.ref=to(w,v,E),S.return=w,S)}function d(w,v,E,S){return v===null||v.tag!==4||v.stateNode.containerInfo!==E.containerInfo||v.stateNode.implementation!==E.implementation?(v=md(E,w.mode,S),v.return=w,v):(v=s(v,E.children||[]),v.return=w,v)}function f(w,v,E,S,V){return v===null||v.tag!==7?(v=ss(E,w.mode,S,V),v.return=w,v):(v=s(v,E),v.return=w,v)}function p(w,v,E){if(typeof v=="string"&&v!==""||typeof v=="number")return v=fd(""+v,w.mode,E),v.return=w,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ba:return E=Sl(v.type,v.key,v.props,null,w.mode,E),E.ref=to(w,null,v),E.return=w,E;case js:return v=md(v,w.mode,E),v.return=w,v;case rr:var S=v._init;return p(w,S(v._payload),E)}if(oo(v)||Yi(v))return v=ss(v,w.mode,E,null),v.return=w,v;el(w,v)}return null}function g(w,v,E,S){var V=v!==null?v.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return V!==null?null:u(w,v,""+E,S);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ba:return E.key===V?c(w,v,E,S):null;case js:return E.key===V?d(w,v,E,S):null;case rr:return V=E._init,g(w,v,V(E._payload),S)}if(oo(E)||Yi(E))return V!==null?null:f(w,v,E,S,null);el(w,E)}return null}function T(w,v,E,S,V){if(typeof S=="string"&&S!==""||typeof S=="number")return w=w.get(E)||null,u(v,w,""+S,V);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ba:return w=w.get(S.key===null?E:S.key)||null,c(v,w,S,V);case js:return w=w.get(S.key===null?E:S.key)||null,d(v,w,S,V);case rr:var M=S._init;return T(w,v,E,M(S._payload),V)}if(oo(S)||Yi(S))return w=w.get(E)||null,f(v,w,S,V,null);el(v,S)}return null}function k(w,v,E,S){for(var V=null,M=null,x=v,y=v=0,I=null;x!==null&&y<E.length;y++){x.index>y?(I=x,x=null):I=x.sibling;var b=g(w,x,E[y],S);if(b===null){x===null&&(x=I);break}t&&x&&b.alternate===null&&e(w,x),v=i(b,v,y),M===null?V=b:M.sibling=b,M=b,x=I}if(y===E.length)return n(w,x),we&&Yr(w,y),V;if(x===null){for(;y<E.length;y++)x=p(w,E[y],S),x!==null&&(v=i(x,v,y),M===null?V=x:M.sibling=x,M=x);return we&&Yr(w,y),V}for(x=r(w,x);y<E.length;y++)I=T(x,w,y,E[y],S),I!==null&&(t&&I.alternate!==null&&x.delete(I.key===null?y:I.key),v=i(I,v,y),M===null?V=I:M.sibling=I,M=I);return t&&x.forEach(function(A){return e(w,A)}),we&&Yr(w,y),V}function C(w,v,E,S){var V=Yi(E);if(typeof V!="function")throw Error(U(150));if(E=V.call(E),E==null)throw Error(U(151));for(var M=V=null,x=v,y=v=0,I=null,b=E.next();x!==null&&!b.done;y++,b=E.next()){x.index>y?(I=x,x=null):I=x.sibling;var A=g(w,x,b.value,S);if(A===null){x===null&&(x=I);break}t&&x&&A.alternate===null&&e(w,x),v=i(A,v,y),M===null?V=A:M.sibling=A,M=A,x=I}if(b.done)return n(w,x),we&&Yr(w,y),V;if(x===null){for(;!b.done;y++,b=E.next())b=p(w,b.value,S),b!==null&&(v=i(b,v,y),M===null?V=b:M.sibling=b,M=b);return we&&Yr(w,y),V}for(x=r(w,x);!b.done;y++,b=E.next())b=T(x,w,y,b.value,S),b!==null&&(t&&b.alternate!==null&&x.delete(b.key===null?y:b.key),v=i(b,v,y),M===null?V=b:M.sibling=b,M=b);return t&&x.forEach(function(j){return e(w,j)}),we&&Yr(w,y),V}function R(w,v,E,S){if(typeof E=="object"&&E!==null&&E.type===Ds&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Ba:e:{for(var V=E.key,M=v;M!==null;){if(M.key===V){if(V=E.type,V===Ds){if(M.tag===7){n(w,M.sibling),v=s(M,E.props.children),v.return=w,w=v;break e}}else if(M.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===rr&&jg(V)===M.type){n(w,M.sibling),v=s(M,E.props),v.ref=to(w,M,E),v.return=w,w=v;break e}n(w,M);break}else e(w,M);M=M.sibling}E.type===Ds?(v=ss(E.props.children,w.mode,S,E.key),v.return=w,w=v):(S=Sl(E.type,E.key,E.props,null,w.mode,S),S.ref=to(w,v,E),S.return=w,w=S)}return o(w);case js:e:{for(M=E.key;v!==null;){if(v.key===M)if(v.tag===4&&v.stateNode.containerInfo===E.containerInfo&&v.stateNode.implementation===E.implementation){n(w,v.sibling),v=s(v,E.children||[]),v.return=w,w=v;break e}else{n(w,v);break}else e(w,v);v=v.sibling}v=md(E,w.mode,S),v.return=w,w=v}return o(w);case rr:return M=E._init,R(w,v,M(E._payload),S)}if(oo(E))return k(w,v,E,S);if(Yi(E))return C(w,v,E,S);el(w,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,v!==null&&v.tag===6?(n(w,v.sibling),v=s(v,E),v.return=w,w=v):(n(w,v),v=fd(E,w.mode,S),v.return=w,w=v),o(w)):n(w,v)}return R}var ai=__(!0),x_=__(!1),Jl=Fr(null),Xl=null,$s=null,Nf=null;function bf(){Nf=$s=Xl=null}function kf(t){var e=Jl.current;xe(Jl),t._currentValue=e}function lh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Js(t,e){Xl=t,Nf=$s=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(It=!0),t.firstContext=null)}function Bt(t){var e=t._currentValue;if(Nf!==t)if(t={context:t,memoizedValue:e,next:null},$s===null){if(Xl===null)throw Error(U(308));$s=t,Xl.dependencies={lanes:0,firstContext:t}}else $s=$s.next=t;return e}var es=null;function Af(t){es===null?es=[t]:es.push(t)}function w_(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Af(e)):(n.next=s.next,s.next=n),e.interleaved=n,Un(t,r)}function Un(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var sr=!1;function Cf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function E_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function On(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function xr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,oe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Un(t,n)}return s=r.interleaved,s===null?(e.next=e,Af(r)):(e.next=s.next,s.next=e),r.interleaved=e,Un(t,n)}function _l(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,pf(t,n)}}function Dg(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Zl(t,e,n,r){var s=t.updateQueue;sr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,u=s.shared.pending;if(u!==null){s.shared.pending=null;var c=u,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var f=t.alternate;f!==null&&(f=f.updateQueue,u=f.lastBaseUpdate,u!==o&&(u===null?f.firstBaseUpdate=d:u.next=d,f.lastBaseUpdate=c))}if(i!==null){var p=s.baseState;o=0,f=d=c=null,u=i;do{var g=u.lane,T=u.eventTime;if((r&g)===g){f!==null&&(f=f.next={eventTime:T,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var k=t,C=u;switch(g=e,T=n,C.tag){case 1:if(k=C.payload,typeof k=="function"){p=k.call(T,p,g);break e}p=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=C.payload,g=typeof k=="function"?k.call(T,p,g):k,g==null)break e;p=Ne({},p,g);break e;case 2:sr=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,g=s.effects,g===null?s.effects=[u]:g.push(u))}else T={eventTime:T,lane:g,tag:u.tag,payload:u.payload,callback:u.callback,next:null},f===null?(d=f=T,c=p):f=f.next=T,o|=g;if(u=u.next,u===null){if(u=s.shared.pending,u===null)break;g=u,u=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(f===null&&(c=p),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=f,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);us|=o,t.lanes=o,t.memoizedState=p}}function Og(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(U(191,s));s.call(r)}}}var ha={},mn=Fr(ha),$o=Fr(ha),Bo=Fr(ha);function ts(t){if(t===ha)throw Error(U(174));return t}function Rf(t,e){switch(pe(Bo,e),pe($o,t),pe(mn,ha),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:$d(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=$d(e,t)}xe(mn),pe(mn,e)}function li(){xe(mn),xe($o),xe(Bo)}function T_(t){ts(Bo.current);var e=ts(mn.current),n=$d(e,t.type);e!==n&&(pe($o,t),pe(mn,n))}function Pf(t){$o.current===t&&(xe(mn),xe($o))}var Ie=Fr(0);function eu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ad=[];function jf(){for(var t=0;t<ad.length;t++)ad[t]._workInProgressVersionPrimary=null;ad.length=0}var xl=Kn.ReactCurrentDispatcher,ld=Kn.ReactCurrentBatchConfig,ls=0,Se=null,Ue=null,Ke=null,tu=!1,wo=!1,qo=0,QI=0;function it(){throw Error(U(321))}function Df(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!en(t[n],e[n]))return!1;return!0}function Of(t,e,n,r,s,i){if(ls=i,Se=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xl.current=t===null||t.memoizedState===null?ZI:e2,t=n(r,s),wo){i=0;do{if(wo=!1,qo=0,25<=i)throw Error(U(301));i+=1,Ke=Ue=null,e.updateQueue=null,xl.current=t2,t=n(r,s)}while(wo)}if(xl.current=nu,e=Ue!==null&&Ue.next!==null,ls=0,Ke=Ue=Se=null,tu=!1,e)throw Error(U(300));return t}function Vf(){var t=qo!==0;return qo=0,t}function cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?Se.memoizedState=Ke=t:Ke=Ke.next=t,Ke}function qt(){if(Ue===null){var t=Se.alternate;t=t!==null?t.memoizedState:null}else t=Ue.next;var e=Ke===null?Se.memoizedState:Ke.next;if(e!==null)Ke=e,Ue=t;else{if(t===null)throw Error(U(310));Ue=t,t={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},Ke===null?Se.memoizedState=Ke=t:Ke=Ke.next=t}return Ke}function Ho(t,e){return typeof e=="function"?e(t):e}function ud(t){var e=qt(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=Ue,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var u=o=null,c=null,d=i;do{var f=d.lane;if((ls&f)===f)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var p={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(u=c=p,o=r):c=c.next=p,Se.lanes|=f,us|=f}d=d.next}while(d!==null&&d!==i);c===null?o=r:c.next=u,en(r,e.memoizedState)||(It=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Se.lanes|=i,us|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function cd(t){var e=qt(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);en(i,e.memoizedState)||(It=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function I_(){}function S_(t,e){var n=Se,r=qt(),s=e(),i=!en(r.memoizedState,s);if(i&&(r.memoizedState=s,It=!0),r=r.queue,Lf(k_.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Ke!==null&&Ke.memoizedState.tag&1){if(n.flags|=2048,Wo(9,b_.bind(null,n,r,s,e),void 0,null),Ge===null)throw Error(U(349));ls&30||N_(n,e,s)}return s}function N_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Se.updateQueue,e===null?(e={lastEffect:null,stores:null},Se.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function b_(t,e,n,r){e.value=n,e.getSnapshot=r,A_(e)&&C_(t)}function k_(t,e,n){return n(function(){A_(e)&&C_(t)})}function A_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!en(t,n)}catch{return!0}}function C_(t){var e=Un(t,1);e!==null&&Xt(e,t,1,-1)}function Vg(t){var e=cn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:t},e.queue=t,t=t.dispatch=XI.bind(null,Se,t),[e.memoizedState,t]}function Wo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Se.updateQueue,e===null?(e={lastEffect:null,stores:null},Se.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function R_(){return qt().memoizedState}function wl(t,e,n,r){var s=cn();Se.flags|=t,s.memoizedState=Wo(1|e,n,void 0,r===void 0?null:r)}function Mu(t,e,n,r){var s=qt();r=r===void 0?null:r;var i=void 0;if(Ue!==null){var o=Ue.memoizedState;if(i=o.destroy,r!==null&&Df(r,o.deps)){s.memoizedState=Wo(e,n,i,r);return}}Se.flags|=t,s.memoizedState=Wo(1|e,n,i,r)}function Lg(t,e){return wl(8390656,8,t,e)}function Lf(t,e){return Mu(2048,8,t,e)}function P_(t,e){return Mu(4,2,t,e)}function j_(t,e){return Mu(4,4,t,e)}function D_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function O_(t,e,n){return n=n!=null?n.concat([t]):null,Mu(4,4,D_.bind(null,e,t),n)}function Mf(){}function V_(t,e){var n=qt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Df(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function L_(t,e){var n=qt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Df(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function M_(t,e,n){return ls&21?(en(n,e)||(n=Bv(),Se.lanes|=n,us|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,It=!0),t.memoizedState=n)}function YI(t,e){var n=de;de=n!==0&&4>n?n:4,t(!0);var r=ld.transition;ld.transition={};try{t(!1),e()}finally{de=n,ld.transition=r}}function F_(){return qt().memoizedState}function JI(t,e,n){var r=Er(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},U_(t))z_(e,n);else if(n=w_(t,e,n,r),n!==null){var s=yt();Xt(n,t,r,s),$_(n,e,r)}}function XI(t,e,n){var r=Er(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(U_(t))z_(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,u=i(o,n);if(s.hasEagerState=!0,s.eagerState=u,en(u,o)){var c=e.interleaved;c===null?(s.next=s,Af(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=w_(t,e,s,r),n!==null&&(s=yt(),Xt(n,t,r,s),$_(n,e,r))}}function U_(t){var e=t.alternate;return t===Se||e!==null&&e===Se}function z_(t,e){wo=tu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function $_(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,pf(t,n)}}var nu={readContext:Bt,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useInsertionEffect:it,useLayoutEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useMutableSource:it,useSyncExternalStore:it,useId:it,unstable_isNewReconciler:!1},ZI={readContext:Bt,useCallback:function(t,e){return cn().memoizedState=[t,e===void 0?null:e],t},useContext:Bt,useEffect:Lg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,wl(4194308,4,D_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return wl(4194308,4,t,e)},useInsertionEffect:function(t,e){return wl(4,2,t,e)},useMemo:function(t,e){var n=cn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=cn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=JI.bind(null,Se,t),[r.memoizedState,t]},useRef:function(t){var e=cn();return t={current:t},e.memoizedState=t},useState:Vg,useDebugValue:Mf,useDeferredValue:function(t){return cn().memoizedState=t},useTransition:function(){var t=Vg(!1),e=t[0];return t=YI.bind(null,t[1]),cn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Se,s=cn();if(we){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),Ge===null)throw Error(U(349));ls&30||N_(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Lg(k_.bind(null,r,i,t),[t]),r.flags|=2048,Wo(9,b_.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=cn(),e=Ge.identifierPrefix;if(we){var n=Pn,r=Rn;n=(r&~(1<<32-Jt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=qo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=QI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},e2={readContext:Bt,useCallback:V_,useContext:Bt,useEffect:Lf,useImperativeHandle:O_,useInsertionEffect:P_,useLayoutEffect:j_,useMemo:L_,useReducer:ud,useRef:R_,useState:function(){return ud(Ho)},useDebugValue:Mf,useDeferredValue:function(t){var e=qt();return M_(e,Ue.memoizedState,t)},useTransition:function(){var t=ud(Ho)[0],e=qt().memoizedState;return[t,e]},useMutableSource:I_,useSyncExternalStore:S_,useId:F_,unstable_isNewReconciler:!1},t2={readContext:Bt,useCallback:V_,useContext:Bt,useEffect:Lf,useImperativeHandle:O_,useInsertionEffect:P_,useLayoutEffect:j_,useMemo:L_,useReducer:cd,useRef:R_,useState:function(){return cd(Ho)},useDebugValue:Mf,useDeferredValue:function(t){var e=qt();return Ue===null?e.memoizedState=t:M_(e,Ue.memoizedState,t)},useTransition:function(){var t=cd(Ho)[0],e=qt().memoizedState;return[t,e]},useMutableSource:I_,useSyncExternalStore:S_,useId:F_,unstable_isNewReconciler:!1};function Wt(t,e){if(t&&t.defaultProps){e=Ne({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function uh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ne({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Fu={isMounted:function(t){return(t=t._reactInternals)?ys(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=yt(),s=Er(t),i=On(r,s);i.payload=e,n!=null&&(i.callback=n),e=xr(t,i,s),e!==null&&(Xt(e,t,s,r),_l(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=yt(),s=Er(t),i=On(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=xr(t,i,s),e!==null&&(Xt(e,t,s,r),_l(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=yt(),r=Er(t),s=On(n,r);s.tag=2,e!=null&&(s.callback=e),e=xr(t,s,r),e!==null&&(Xt(e,t,r,n),_l(e,t,r))}};function Mg(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Mo(n,r)||!Mo(s,i):!0}function B_(t,e,n){var r=!1,s=Cr,i=e.contextType;return typeof i=="object"&&i!==null?i=Bt(i):(s=Nt(e)?os:dt.current,r=e.contextTypes,i=(r=r!=null)?ii(t,s):Cr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Fu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Fg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Fu.enqueueReplaceState(e,e.state,null)}function ch(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Cf(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Bt(i):(i=Nt(e)?os:dt.current,s.context=ii(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(uh(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Fu.enqueueReplaceState(s,s.state,null),Zl(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ui(t,e){try{var n="",r=e;do n+=AT(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function dd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function dh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var n2=typeof WeakMap=="function"?WeakMap:Map;function q_(t,e,n){n=On(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){su||(su=!0,wh=r),dh(t,e)},n}function H_(t,e,n){n=On(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){dh(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){dh(t,e),typeof r!="function"&&(wr===null?wr=new Set([this]):wr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Ug(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new n2;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=g2.bind(null,t,e,n),e.then(t,t))}function zg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function $g(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=On(-1,1),e.tag=2,xr(n,e,1))),n.lanes|=1),t)}var r2=Kn.ReactCurrentOwner,It=!1;function gt(t,e,n,r){e.child=t===null?x_(e,null,n,r):ai(e,t.child,n,r)}function Bg(t,e,n,r,s){n=n.render;var i=e.ref;return Js(e,s),r=Of(t,e,n,r,i,s),n=Vf(),t!==null&&!It?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,zn(t,e,s)):(we&&n&&Tf(e),e.flags|=1,gt(t,e,r,s),e.child)}function qg(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Wf(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,W_(t,e,i,r,s)):(t=Sl(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Mo,n(o,r)&&t.ref===e.ref)return zn(t,e,s)}return e.flags|=1,t=Tr(i,r),t.ref=e.ref,t.return=e,e.child=t}function W_(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Mo(i,r)&&t.ref===e.ref)if(It=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(It=!0);else return e.lanes=t.lanes,zn(t,e,s)}return hh(t,e,n,r,s)}function K_(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},pe(qs,At),At|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,pe(qs,At),At|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,pe(qs,At),At|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,pe(qs,At),At|=r;return gt(t,e,s,n),e.child}function G_(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function hh(t,e,n,r,s){var i=Nt(n)?os:dt.current;return i=ii(e,i),Js(e,s),n=Of(t,e,n,r,i,s),r=Vf(),t!==null&&!It?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,zn(t,e,s)):(we&&r&&Tf(e),e.flags|=1,gt(t,e,n,s),e.child)}function Hg(t,e,n,r,s){if(Nt(n)){var i=!0;Gl(e)}else i=!1;if(Js(e,s),e.stateNode===null)El(t,e),B_(e,n,r),ch(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,u=e.memoizedProps;o.props=u;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Bt(d):(d=Nt(n)?os:dt.current,d=ii(e,d));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==r||c!==d)&&Fg(e,o,r,d),sr=!1;var g=e.memoizedState;o.state=g,Zl(e,r,o,s),c=e.memoizedState,u!==r||g!==c||St.current||sr?(typeof f=="function"&&(uh(e,n,f,r),c=e.memoizedState),(u=sr||Mg(e,n,u,r,g,c,d))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=d,r=u):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,E_(t,e),u=e.memoizedProps,d=e.type===e.elementType?u:Wt(e.type,u),o.props=d,p=e.pendingProps,g=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Bt(c):(c=Nt(n)?os:dt.current,c=ii(e,c));var T=n.getDerivedStateFromProps;(f=typeof T=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==p||g!==c)&&Fg(e,o,r,c),sr=!1,g=e.memoizedState,o.state=g,Zl(e,r,o,s);var k=e.memoizedState;u!==p||g!==k||St.current||sr?(typeof T=="function"&&(uh(e,n,T,r),k=e.memoizedState),(d=sr||Mg(e,n,d,r,g,k,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,k,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,k,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=k),o.props=r,o.state=k,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return fh(t,e,n,r,i,s)}function fh(t,e,n,r,s,i){G_(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Cg(e,n,!1),zn(t,e,i);r=e.stateNode,r2.current=e;var u=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ai(e,t.child,null,i),e.child=ai(e,null,u,i)):gt(t,e,u,i),e.memoizedState=r.state,s&&Cg(e,n,!0),e.child}function Q_(t){var e=t.stateNode;e.pendingContext?Ag(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ag(t,e.context,!1),Rf(t,e.containerInfo)}function Wg(t,e,n,r,s){return oi(),Sf(s),e.flags|=256,gt(t,e,n,r),e.child}var mh={dehydrated:null,treeContext:null,retryLane:0};function ph(t){return{baseLanes:t,cachePool:null,transitions:null}}function Y_(t,e,n){var r=e.pendingProps,s=Ie.current,i=!1,o=(e.flags&128)!==0,u;if((u=o)||(u=t!==null&&t.memoizedState===null?!1:(s&2)!==0),u?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),pe(Ie,s&1),t===null)return ah(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=$u(o,r,0,null),t=ss(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=ph(n),e.memoizedState=mh,t):Ff(e,o));if(s=t.memoizedState,s!==null&&(u=s.dehydrated,u!==null))return s2(t,e,o,r,u,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,u=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Tr(s,c),r.subtreeFlags=s.subtreeFlags&14680064),u!==null?i=Tr(u,i):(i=ss(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?ph(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=mh,r}return i=t.child,t=i.sibling,r=Tr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ff(t,e){return e=$u({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function tl(t,e,n,r){return r!==null&&Sf(r),ai(e,t.child,null,n),t=Ff(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function s2(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=dd(Error(U(422))),tl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=$u({mode:"visible",children:r.children},s,0,null),i=ss(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&ai(e,t.child,null,o),e.child.memoizedState=ph(o),e.memoizedState=mh,i);if(!(e.mode&1))return tl(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var u=r.dgst;return r=u,i=Error(U(419)),r=dd(i,r,void 0),tl(t,e,o,r)}if(u=(o&t.childLanes)!==0,It||u){if(r=Ge,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Un(t,s),Xt(r,t,s,-1))}return Hf(),r=dd(Error(U(421))),tl(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=y2.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ct=_r(s.nextSibling),Pt=e,we=!0,Gt=null,t!==null&&(Lt[Mt++]=Rn,Lt[Mt++]=Pn,Lt[Mt++]=as,Rn=t.id,Pn=t.overflow,as=e),e=Ff(e,r.children),e.flags|=4096,e)}function Kg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),lh(t.return,e,n)}function hd(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function J_(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(gt(t,e,r.children,n),r=Ie.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Kg(t,n,e);else if(t.tag===19)Kg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(pe(Ie,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&eu(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),hd(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&eu(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}hd(e,!0,n,null,i);break;case"together":hd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function El(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function zn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),us|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=Tr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Tr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function i2(t,e,n){switch(e.tag){case 3:Q_(e),oi();break;case 5:T_(e);break;case 1:Nt(e.type)&&Gl(e);break;case 4:Rf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;pe(Jl,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(pe(Ie,Ie.current&1),e.flags|=128,null):n&e.child.childLanes?Y_(t,e,n):(pe(Ie,Ie.current&1),t=zn(t,e,n),t!==null?t.sibling:null);pe(Ie,Ie.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return J_(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),pe(Ie,Ie.current),r)break;return null;case 22:case 23:return e.lanes=0,K_(t,e,n)}return zn(t,e,n)}var X_,gh,Z_,ex;X_=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};gh=function(){};Z_=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ts(mn.current);var i=null;switch(n){case"input":s=Md(t,s),r=Md(t,r),i=[];break;case"select":s=Ne({},s,{value:void 0}),r=Ne({},r,{value:void 0}),i=[];break;case"textarea":s=zd(t,s),r=zd(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Wl)}Bd(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var u=s[d];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ro.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(u=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==u&&(c!=null||u!=null))if(d==="style")if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ro.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ve("scroll",t),i||u===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};ex=function(t,e,n,r){n!==r&&(e.flags|=4)};function no(t,e){if(!we)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ot(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function o2(t,e,n){var r=e.pendingProps;switch(If(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(e),null;case 1:return Nt(e.type)&&Kl(),ot(e),null;case 3:return r=e.stateNode,li(),xe(St),xe(dt),jf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Za(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gt!==null&&(Ih(Gt),Gt=null))),gh(t,e),ot(e),null;case 5:Pf(e);var s=ts(Bo.current);if(n=e.type,t!==null&&e.stateNode!=null)Z_(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return ot(e),null}if(t=ts(mn.current),Za(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[hn]=e,r[zo]=i,t=(e.mode&1)!==0,n){case"dialog":ve("cancel",r),ve("close",r);break;case"iframe":case"object":case"embed":ve("load",r);break;case"video":case"audio":for(s=0;s<lo.length;s++)ve(lo[s],r);break;case"source":ve("error",r);break;case"img":case"image":case"link":ve("error",r),ve("load",r);break;case"details":ve("toggle",r);break;case"input":ng(r,i),ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ve("invalid",r);break;case"textarea":sg(r,i),ve("invalid",r)}Bd(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var u=i[o];o==="children"?typeof u=="string"?r.textContent!==u&&(i.suppressHydrationWarning!==!0&&Xa(r.textContent,u,t),s=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(i.suppressHydrationWarning!==!0&&Xa(r.textContent,u,t),s=["children",""+u]):Ro.hasOwnProperty(o)&&u!=null&&o==="onScroll"&&ve("scroll",r)}switch(n){case"input":qa(r),rg(r,i,!0);break;case"textarea":qa(r),ig(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Wl)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=kv(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[hn]=e,t[zo]=r,X_(t,e,!1,!1),e.stateNode=t;e:{switch(o=qd(n,r),n){case"dialog":ve("cancel",t),ve("close",t),s=r;break;case"iframe":case"object":case"embed":ve("load",t),s=r;break;case"video":case"audio":for(s=0;s<lo.length;s++)ve(lo[s],t);s=r;break;case"source":ve("error",t),s=r;break;case"img":case"image":case"link":ve("error",t),ve("load",t),s=r;break;case"details":ve("toggle",t),s=r;break;case"input":ng(t,r),s=Md(t,r),ve("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ne({},r,{value:void 0}),ve("invalid",t);break;case"textarea":sg(t,r),s=zd(t,r),ve("invalid",t);break;default:s=r}Bd(n,s),u=s;for(i in u)if(u.hasOwnProperty(i)){var c=u[i];i==="style"?Rv(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Av(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Po(t,c):typeof c=="number"&&Po(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ro.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ve("scroll",t):c!=null&&uf(t,i,c,o))}switch(n){case"input":qa(t),rg(t,r,!1);break;case"textarea":qa(t),ig(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ar(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ks(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ks(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Wl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ot(e),null;case 6:if(t&&e.stateNode!=null)ex(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=ts(Bo.current),ts(mn.current),Za(e)){if(r=e.stateNode,n=e.memoizedProps,r[hn]=e,(i=r.nodeValue!==n)&&(t=Pt,t!==null))switch(t.tag){case 3:Xa(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Xa(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[hn]=e,e.stateNode=r}return ot(e),null;case 13:if(xe(Ie),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(we&&Ct!==null&&e.mode&1&&!(e.flags&128))v_(),oi(),e.flags|=98560,i=!1;else if(i=Za(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(U(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(U(317));i[hn]=e}else oi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ot(e),i=!1}else Gt!==null&&(Ih(Gt),Gt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ie.current&1?$e===0&&($e=3):Hf())),e.updateQueue!==null&&(e.flags|=4),ot(e),null);case 4:return li(),gh(t,e),t===null&&Fo(e.stateNode.containerInfo),ot(e),null;case 10:return kf(e.type._context),ot(e),null;case 17:return Nt(e.type)&&Kl(),ot(e),null;case 19:if(xe(Ie),i=e.memoizedState,i===null)return ot(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)no(i,!1);else{if($e!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=eu(t),o!==null){for(e.flags|=128,no(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return pe(Ie,Ie.current&1|2),e.child}t=t.sibling}i.tail!==null&&Pe()>ci&&(e.flags|=128,r=!0,no(i,!1),e.lanes=4194304)}else{if(!r)if(t=eu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),no(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!we)return ot(e),null}else 2*Pe()-i.renderingStartTime>ci&&n!==1073741824&&(e.flags|=128,r=!0,no(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Pe(),e.sibling=null,n=Ie.current,pe(Ie,r?n&1|2:n&1),e):(ot(e),null);case 22:case 23:return qf(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?At&1073741824&&(ot(e),e.subtreeFlags&6&&(e.flags|=8192)):ot(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function a2(t,e){switch(If(e),e.tag){case 1:return Nt(e.type)&&Kl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return li(),xe(St),xe(dt),jf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Pf(e),null;case 13:if(xe(Ie),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));oi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return xe(Ie),null;case 4:return li(),null;case 10:return kf(e.type._context),null;case 22:case 23:return qf(),null;case 24:return null;default:return null}}var nl=!1,ut=!1,l2=typeof WeakSet=="function"?WeakSet:Set,H=null;function Bs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ce(t,e,r)}else n.current=null}function yh(t,e,n){try{n()}catch(r){Ce(t,e,r)}}var Gg=!1;function u2(t,e){if(eh=Bl,t=i_(),Ef(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,u=-1,c=-1,d=0,f=0,p=t,g=null;t:for(;;){for(var T;p!==n||s!==0&&p.nodeType!==3||(u=o+s),p!==i||r!==0&&p.nodeType!==3||(c=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(T=p.firstChild)!==null;)g=p,p=T;for(;;){if(p===t)break t;if(g===n&&++d===s&&(u=o),g===i&&++f===r&&(c=o),(T=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=T}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(th={focusedElem:t,selectionRange:n},Bl=!1,H=e;H!==null;)if(e=H,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,H=t;else for(;H!==null;){e=H;try{var k=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var C=k.memoizedProps,R=k.memoizedState,w=e.stateNode,v=w.getSnapshotBeforeUpdate(e.elementType===e.type?C:Wt(e.type,C),R);w.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(S){Ce(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,H=t;break}H=e.return}return k=Gg,Gg=!1,k}function Eo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&yh(e,n,i)}s=s.next}while(s!==r)}}function Uu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function vh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function tx(t){var e=t.alternate;e!==null&&(t.alternate=null,tx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[hn],delete e[zo],delete e[sh],delete e[HI],delete e[WI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function nx(t){return t.tag===5||t.tag===3||t.tag===4}function Qg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||nx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _h(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Wl));else if(r!==4&&(t=t.child,t!==null))for(_h(t,e,n),t=t.sibling;t!==null;)_h(t,e,n),t=t.sibling}function xh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(xh(t,e,n),t=t.sibling;t!==null;)xh(t,e,n),t=t.sibling}var Ye=null,Kt=!1;function er(t,e,n){for(n=n.child;n!==null;)rx(t,e,n),n=n.sibling}function rx(t,e,n){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(Pu,n)}catch{}switch(n.tag){case 5:ut||Bs(n,e);case 6:var r=Ye,s=Kt;Ye=null,er(t,e,n),Ye=r,Kt=s,Ye!==null&&(Kt?(t=Ye,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ye.removeChild(n.stateNode));break;case 18:Ye!==null&&(Kt?(t=Ye,n=n.stateNode,t.nodeType===8?id(t.parentNode,n):t.nodeType===1&&id(t,n),Vo(t)):id(Ye,n.stateNode));break;case 4:r=Ye,s=Kt,Ye=n.stateNode.containerInfo,Kt=!0,er(t,e,n),Ye=r,Kt=s;break;case 0:case 11:case 14:case 15:if(!ut&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&yh(n,e,o),s=s.next}while(s!==r)}er(t,e,n);break;case 1:if(!ut&&(Bs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ce(n,e,u)}er(t,e,n);break;case 21:er(t,e,n);break;case 22:n.mode&1?(ut=(r=ut)||n.memoizedState!==null,er(t,e,n),ut=r):er(t,e,n);break;default:er(t,e,n)}}function Yg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new l2),e.forEach(function(r){var s=v2.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ht(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,u=o;e:for(;u!==null;){switch(u.tag){case 5:Ye=u.stateNode,Kt=!1;break e;case 3:Ye=u.stateNode.containerInfo,Kt=!0;break e;case 4:Ye=u.stateNode.containerInfo,Kt=!0;break e}u=u.return}if(Ye===null)throw Error(U(160));rx(i,o,s),Ye=null,Kt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){Ce(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)sx(e,t),e=e.sibling}function sx(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ht(e,t),un(t),r&4){try{Eo(3,t,t.return),Uu(3,t)}catch(C){Ce(t,t.return,C)}try{Eo(5,t,t.return)}catch(C){Ce(t,t.return,C)}}break;case 1:Ht(e,t),un(t),r&512&&n!==null&&Bs(n,n.return);break;case 5:if(Ht(e,t),un(t),r&512&&n!==null&&Bs(n,n.return),t.flags&32){var s=t.stateNode;try{Po(s,"")}catch(C){Ce(t,t.return,C)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,u=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{u==="input"&&i.type==="radio"&&i.name!=null&&Nv(s,i),qd(u,o);var d=qd(u,i);for(o=0;o<c.length;o+=2){var f=c[o],p=c[o+1];f==="style"?Rv(s,p):f==="dangerouslySetInnerHTML"?Av(s,p):f==="children"?Po(s,p):uf(s,f,p,d)}switch(u){case"input":Fd(s,i);break;case"textarea":bv(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var T=i.value;T!=null?Ks(s,!!i.multiple,T,!1):g!==!!i.multiple&&(i.defaultValue!=null?Ks(s,!!i.multiple,i.defaultValue,!0):Ks(s,!!i.multiple,i.multiple?[]:"",!1))}s[zo]=i}catch(C){Ce(t,t.return,C)}}break;case 6:if(Ht(e,t),un(t),r&4){if(t.stateNode===null)throw Error(U(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(C){Ce(t,t.return,C)}}break;case 3:if(Ht(e,t),un(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vo(e.containerInfo)}catch(C){Ce(t,t.return,C)}break;case 4:Ht(e,t),un(t);break;case 13:Ht(e,t),un(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||($f=Pe())),r&4&&Yg(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(ut=(d=ut)||f,Ht(e,t),ut=d):Ht(e,t),un(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!f&&t.mode&1)for(H=t,f=t.child;f!==null;){for(p=H=f;H!==null;){switch(g=H,T=g.child,g.tag){case 0:case 11:case 14:case 15:Eo(4,g,g.return);break;case 1:Bs(g,g.return);var k=g.stateNode;if(typeof k.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,k.props=e.memoizedProps,k.state=e.memoizedState,k.componentWillUnmount()}catch(C){Ce(r,n,C)}}break;case 5:Bs(g,g.return);break;case 22:if(g.memoizedState!==null){Xg(p);continue}}T!==null?(T.return=g,H=T):Xg(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{s=p.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(u=p.stateNode,c=p.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=Cv("display",o))}catch(C){Ce(t,t.return,C)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(C){Ce(t,t.return,C)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Ht(e,t),un(t),r&4&&Yg(t);break;case 21:break;default:Ht(e,t),un(t)}}function un(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(nx(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Po(s,""),r.flags&=-33);var i=Qg(t);xh(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,u=Qg(t);_h(t,u,o);break;default:throw Error(U(161))}}catch(c){Ce(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function c2(t,e,n){H=t,ix(t)}function ix(t,e,n){for(var r=(t.mode&1)!==0;H!==null;){var s=H,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||nl;if(!o){var u=s.alternate,c=u!==null&&u.memoizedState!==null||ut;u=nl;var d=ut;if(nl=o,(ut=c)&&!d)for(H=s;H!==null;)o=H,c=o.child,o.tag===22&&o.memoizedState!==null?Zg(s):c!==null?(c.return=o,H=c):Zg(s);for(;i!==null;)H=i,ix(i),i=i.sibling;H=s,nl=u,ut=d}Jg(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,H=i):Jg(t)}}function Jg(t){for(;H!==null;){var e=H;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ut||Uu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ut)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Wt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Og(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Og(e,o,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&Vo(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}ut||e.flags&512&&vh(e)}catch(g){Ce(e,e.return,g)}}if(e===t){H=null;break}if(n=e.sibling,n!==null){n.return=e.return,H=n;break}H=e.return}}function Xg(t){for(;H!==null;){var e=H;if(e===t){H=null;break}var n=e.sibling;if(n!==null){n.return=e.return,H=n;break}H=e.return}}function Zg(t){for(;H!==null;){var e=H;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Uu(4,e)}catch(c){Ce(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Ce(e,s,c)}}var i=e.return;try{vh(e)}catch(c){Ce(e,i,c)}break;case 5:var o=e.return;try{vh(e)}catch(c){Ce(e,o,c)}}}catch(c){Ce(e,e.return,c)}if(e===t){H=null;break}var u=e.sibling;if(u!==null){u.return=e.return,H=u;break}H=e.return}}var d2=Math.ceil,ru=Kn.ReactCurrentDispatcher,Uf=Kn.ReactCurrentOwner,$t=Kn.ReactCurrentBatchConfig,oe=0,Ge=null,Oe=null,Ze=0,At=0,qs=Fr(0),$e=0,Ko=null,us=0,zu=0,zf=0,To=null,Et=null,$f=0,ci=1/0,An=null,su=!1,wh=null,wr=null,rl=!1,hr=null,iu=0,Io=0,Eh=null,Tl=-1,Il=0;function yt(){return oe&6?Pe():Tl!==-1?Tl:Tl=Pe()}function Er(t){return t.mode&1?oe&2&&Ze!==0?Ze&-Ze:GI.transition!==null?(Il===0&&(Il=Bv()),Il):(t=de,t!==0||(t=window.event,t=t===void 0?16:Yv(t.type)),t):1}function Xt(t,e,n,r){if(50<Io)throw Io=0,Eh=null,Error(U(185));ua(t,n,r),(!(oe&2)||t!==Ge)&&(t===Ge&&(!(oe&2)&&(zu|=n),$e===4&&or(t,Ze)),bt(t,r),n===1&&oe===0&&!(e.mode&1)&&(ci=Pe()+500,Lu&&Ur()))}function bt(t,e){var n=t.callbackNode;GT(t,e);var r=$l(t,t===Ge?Ze:0);if(r===0)n!==null&&lg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&lg(n),e===1)t.tag===0?KI(ey.bind(null,t)):p_(ey.bind(null,t)),BI(function(){!(oe&6)&&Ur()}),n=null;else{switch(qv(r)){case 1:n=mf;break;case 4:n=zv;break;case 16:n=zl;break;case 536870912:n=$v;break;default:n=zl}n=fx(n,ox.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ox(t,e){if(Tl=-1,Il=0,oe&6)throw Error(U(327));var n=t.callbackNode;if(Xs()&&t.callbackNode!==n)return null;var r=$l(t,t===Ge?Ze:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ou(t,r);else{e=r;var s=oe;oe|=2;var i=lx();(Ge!==t||Ze!==e)&&(An=null,ci=Pe()+500,rs(t,e));do try{m2();break}catch(u){ax(t,u)}while(!0);bf(),ru.current=i,oe=s,Oe!==null?e=0:(Ge=null,Ze=0,e=$e)}if(e!==0){if(e===2&&(s=Qd(t),s!==0&&(r=s,e=Th(t,s))),e===1)throw n=Ko,rs(t,0),or(t,r),bt(t,Pe()),n;if(e===6)or(t,r);else{if(s=t.current.alternate,!(r&30)&&!h2(s)&&(e=ou(t,r),e===2&&(i=Qd(t),i!==0&&(r=i,e=Th(t,i))),e===1))throw n=Ko,rs(t,0),or(t,r),bt(t,Pe()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:Jr(t,Et,An);break;case 3:if(or(t,r),(r&130023424)===r&&(e=$f+500-Pe(),10<e)){if($l(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){yt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=rh(Jr.bind(null,t,Et,An),e);break}Jr(t,Et,An);break;case 4:if(or(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Jt(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Pe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*d2(r/1960))-r,10<r){t.timeoutHandle=rh(Jr.bind(null,t,Et,An),r);break}Jr(t,Et,An);break;case 5:Jr(t,Et,An);break;default:throw Error(U(329))}}}return bt(t,Pe()),t.callbackNode===n?ox.bind(null,t):null}function Th(t,e){var n=To;return t.current.memoizedState.isDehydrated&&(rs(t,e).flags|=256),t=ou(t,e),t!==2&&(e=Et,Et=n,e!==null&&Ih(e)),t}function Ih(t){Et===null?Et=t:Et.push.apply(Et,t)}function h2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!en(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function or(t,e){for(e&=~zf,e&=~zu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Jt(e),r=1<<n;t[n]=-1,e&=~r}}function ey(t){if(oe&6)throw Error(U(327));Xs();var e=$l(t,0);if(!(e&1))return bt(t,Pe()),null;var n=ou(t,e);if(t.tag!==0&&n===2){var r=Qd(t);r!==0&&(e=r,n=Th(t,r))}if(n===1)throw n=Ko,rs(t,0),or(t,e),bt(t,Pe()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Jr(t,Et,An),bt(t,Pe()),null}function Bf(t,e){var n=oe;oe|=1;try{return t(e)}finally{oe=n,oe===0&&(ci=Pe()+500,Lu&&Ur())}}function cs(t){hr!==null&&hr.tag===0&&!(oe&6)&&Xs();var e=oe;oe|=1;var n=$t.transition,r=de;try{if($t.transition=null,de=1,t)return t()}finally{de=r,$t.transition=n,oe=e,!(oe&6)&&Ur()}}function qf(){At=qs.current,xe(qs)}function rs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,$I(n)),Oe!==null)for(n=Oe.return;n!==null;){var r=n;switch(If(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Kl();break;case 3:li(),xe(St),xe(dt),jf();break;case 5:Pf(r);break;case 4:li();break;case 13:xe(Ie);break;case 19:xe(Ie);break;case 10:kf(r.type._context);break;case 22:case 23:qf()}n=n.return}if(Ge=t,Oe=t=Tr(t.current,null),Ze=At=e,$e=0,Ko=null,zf=zu=us=0,Et=To=null,es!==null){for(e=0;e<es.length;e++)if(n=es[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}es=null}return t}function ax(t,e){do{var n=Oe;try{if(bf(),xl.current=nu,tu){for(var r=Se.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}tu=!1}if(ls=0,Ke=Ue=Se=null,wo=!1,qo=0,Uf.current=null,n===null||n.return===null){$e=1,Ko=e,Oe=null;break}e:{var i=t,o=n.return,u=n,c=e;if(e=Ze,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,f=u,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var T=zg(o);if(T!==null){T.flags&=-257,$g(T,o,u,i,e),T.mode&1&&Ug(i,d,e),e=T,c=d;var k=e.updateQueue;if(k===null){var C=new Set;C.add(c),e.updateQueue=C}else k.add(c);break e}else{if(!(e&1)){Ug(i,d,e),Hf();break e}c=Error(U(426))}}else if(we&&u.mode&1){var R=zg(o);if(R!==null){!(R.flags&65536)&&(R.flags|=256),$g(R,o,u,i,e),Sf(ui(c,u));break e}}i=c=ui(c,u),$e!==4&&($e=2),To===null?To=[i]:To.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=q_(i,c,e);Dg(i,w);break e;case 1:u=c;var v=i.type,E=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(wr===null||!wr.has(E)))){i.flags|=65536,e&=-e,i.lanes|=e;var S=H_(i,u,e);Dg(i,S);break e}}i=i.return}while(i!==null)}cx(n)}catch(V){e=V,Oe===n&&n!==null&&(Oe=n=n.return);continue}break}while(!0)}function lx(){var t=ru.current;return ru.current=nu,t===null?nu:t}function Hf(){($e===0||$e===3||$e===2)&&($e=4),Ge===null||!(us&268435455)&&!(zu&268435455)||or(Ge,Ze)}function ou(t,e){var n=oe;oe|=2;var r=lx();(Ge!==t||Ze!==e)&&(An=null,rs(t,e));do try{f2();break}catch(s){ax(t,s)}while(!0);if(bf(),oe=n,ru.current=r,Oe!==null)throw Error(U(261));return Ge=null,Ze=0,$e}function f2(){for(;Oe!==null;)ux(Oe)}function m2(){for(;Oe!==null&&!FT();)ux(Oe)}function ux(t){var e=hx(t.alternate,t,At);t.memoizedProps=t.pendingProps,e===null?cx(t):Oe=e,Uf.current=null}function cx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=a2(n,e),n!==null){n.flags&=32767,Oe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{$e=6,Oe=null;return}}else if(n=o2(n,e,At),n!==null){Oe=n;return}if(e=e.sibling,e!==null){Oe=e;return}Oe=e=t}while(e!==null);$e===0&&($e=5)}function Jr(t,e,n){var r=de,s=$t.transition;try{$t.transition=null,de=1,p2(t,e,n,r)}finally{$t.transition=s,de=r}return null}function p2(t,e,n,r){do Xs();while(hr!==null);if(oe&6)throw Error(U(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(QT(t,i),t===Ge&&(Oe=Ge=null,Ze=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||rl||(rl=!0,fx(zl,function(){return Xs(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=$t.transition,$t.transition=null;var o=de;de=1;var u=oe;oe|=4,Uf.current=null,u2(t,n),sx(n,t),OI(th),Bl=!!eh,th=eh=null,t.current=n,c2(n),UT(),oe=u,de=o,$t.transition=i}else t.current=n;if(rl&&(rl=!1,hr=t,iu=s),i=t.pendingLanes,i===0&&(wr=null),BT(n.stateNode),bt(t,Pe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(su)throw su=!1,t=wh,wh=null,t;return iu&1&&t.tag!==0&&Xs(),i=t.pendingLanes,i&1?t===Eh?Io++:(Io=0,Eh=t):Io=0,Ur(),null}function Xs(){if(hr!==null){var t=qv(iu),e=$t.transition,n=de;try{if($t.transition=null,de=16>t?16:t,hr===null)var r=!1;else{if(t=hr,hr=null,iu=0,oe&6)throw Error(U(331));var s=oe;for(oe|=4,H=t.current;H!==null;){var i=H,o=i.child;if(H.flags&16){var u=i.deletions;if(u!==null){for(var c=0;c<u.length;c++){var d=u[c];for(H=d;H!==null;){var f=H;switch(f.tag){case 0:case 11:case 15:Eo(8,f,i)}var p=f.child;if(p!==null)p.return=f,H=p;else for(;H!==null;){f=H;var g=f.sibling,T=f.return;if(tx(f),f===d){H=null;break}if(g!==null){g.return=T,H=g;break}H=T}}}var k=i.alternate;if(k!==null){var C=k.child;if(C!==null){k.child=null;do{var R=C.sibling;C.sibling=null,C=R}while(C!==null)}}H=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,H=o;else e:for(;H!==null;){if(i=H,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Eo(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,H=w;break e}H=i.return}}var v=t.current;for(H=v;H!==null;){o=H;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,H=E;else e:for(o=v;H!==null;){if(u=H,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Uu(9,u)}}catch(V){Ce(u,u.return,V)}if(u===o){H=null;break e}var S=u.sibling;if(S!==null){S.return=u.return,H=S;break e}H=u.return}}if(oe=s,Ur(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(Pu,t)}catch{}r=!0}return r}finally{de=n,$t.transition=e}}return!1}function ty(t,e,n){e=ui(n,e),e=q_(t,e,1),t=xr(t,e,1),e=yt(),t!==null&&(ua(t,1,e),bt(t,e))}function Ce(t,e,n){if(t.tag===3)ty(t,t,n);else for(;e!==null;){if(e.tag===3){ty(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(wr===null||!wr.has(r))){t=ui(n,t),t=H_(e,t,1),e=xr(e,t,1),t=yt(),e!==null&&(ua(e,1,t),bt(e,t));break}}e=e.return}}function g2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=yt(),t.pingedLanes|=t.suspendedLanes&n,Ge===t&&(Ze&n)===n&&($e===4||$e===3&&(Ze&130023424)===Ze&&500>Pe()-$f?rs(t,0):zf|=n),bt(t,e)}function dx(t,e){e===0&&(t.mode&1?(e=Ka,Ka<<=1,!(Ka&130023424)&&(Ka=4194304)):e=1);var n=yt();t=Un(t,e),t!==null&&(ua(t,e,n),bt(t,n))}function y2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),dx(t,n)}function v2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),dx(t,n)}var hx;hx=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||St.current)It=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return It=!1,i2(t,e,n);It=!!(t.flags&131072)}else It=!1,we&&e.flags&1048576&&g_(e,Yl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;El(t,e),t=e.pendingProps;var s=ii(e,dt.current);Js(e,n),s=Of(null,e,r,t,s,n);var i=Vf();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Nt(r)?(i=!0,Gl(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Cf(e),s.updater=Fu,e.stateNode=s,s._reactInternals=e,ch(e,r,t,n),e=fh(null,e,r,!0,i,n)):(e.tag=0,we&&i&&Tf(e),gt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(El(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=x2(r),t=Wt(r,t),s){case 0:e=hh(null,e,r,t,n);break e;case 1:e=Hg(null,e,r,t,n);break e;case 11:e=Bg(null,e,r,t,n);break e;case 14:e=qg(null,e,r,Wt(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Wt(r,s),hh(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Wt(r,s),Hg(t,e,r,s,n);case 3:e:{if(Q_(e),t===null)throw Error(U(387));r=e.pendingProps,i=e.memoizedState,s=i.element,E_(t,e),Zl(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ui(Error(U(423)),e),e=Wg(t,e,r,n,s);break e}else if(r!==s){s=ui(Error(U(424)),e),e=Wg(t,e,r,n,s);break e}else for(Ct=_r(e.stateNode.containerInfo.firstChild),Pt=e,we=!0,Gt=null,n=x_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(oi(),r===s){e=zn(t,e,n);break e}gt(t,e,r,n)}e=e.child}return e;case 5:return T_(e),t===null&&ah(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,nh(r,s)?o=null:i!==null&&nh(r,i)&&(e.flags|=32),G_(t,e),gt(t,e,o,n),e.child;case 6:return t===null&&ah(e),null;case 13:return Y_(t,e,n);case 4:return Rf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ai(e,null,r,n):gt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Wt(r,s),Bg(t,e,r,s,n);case 7:return gt(t,e,e.pendingProps,n),e.child;case 8:return gt(t,e,e.pendingProps.children,n),e.child;case 12:return gt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,pe(Jl,r._currentValue),r._currentValue=o,i!==null)if(en(i.value,o)){if(i.children===s.children&&!St.current){e=zn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var u=i.dependencies;if(u!==null){o=i.child;for(var c=u.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=On(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?c.next=c:(c.next=f.next,f.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),lh(i.return,n,e),u.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(U(341));o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),lh(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}gt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Js(e,n),s=Bt(s),r=r(s),e.flags|=1,gt(t,e,r,n),e.child;case 14:return r=e.type,s=Wt(r,e.pendingProps),s=Wt(r.type,s),qg(t,e,r,s,n);case 15:return W_(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Wt(r,s),El(t,e),e.tag=1,Nt(r)?(t=!0,Gl(e)):t=!1,Js(e,n),B_(e,r,s),ch(e,r,s,n),fh(null,e,r,!0,t,n);case 19:return J_(t,e,n);case 22:return K_(t,e,n)}throw Error(U(156,e.tag))};function fx(t,e){return Uv(t,e)}function _2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(t,e,n,r){return new _2(t,e,n,r)}function Wf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function x2(t){if(typeof t=="function")return Wf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===df)return 11;if(t===hf)return 14}return 2}function Tr(t,e){var n=t.alternate;return n===null?(n=zt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Sl(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Wf(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ds:return ss(n.children,s,i,e);case cf:o=8,s|=8;break;case Dd:return t=zt(12,n,e,s|2),t.elementType=Dd,t.lanes=i,t;case Od:return t=zt(13,n,e,s),t.elementType=Od,t.lanes=i,t;case Vd:return t=zt(19,n,e,s),t.elementType=Vd,t.lanes=i,t;case Tv:return $u(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case wv:o=10;break e;case Ev:o=9;break e;case df:o=11;break e;case hf:o=14;break e;case rr:o=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=zt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ss(t,e,n,r){return t=zt(7,t,r,e),t.lanes=n,t}function $u(t,e,n,r){return t=zt(22,t,r,e),t.elementType=Tv,t.lanes=n,t.stateNode={isHidden:!1},t}function fd(t,e,n){return t=zt(6,t,null,e),t.lanes=n,t}function md(t,e,n){return e=zt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function w2(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gc(0),this.expirationTimes=Gc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gc(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Kf(t,e,n,r,s,i,o,u,c){return t=new w2(t,e,n,u,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=zt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cf(i),t}function E2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:js,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function mx(t){if(!t)return Cr;t=t._reactInternals;e:{if(ys(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Nt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(Nt(n))return m_(t,n,e)}return e}function px(t,e,n,r,s,i,o,u,c){return t=Kf(n,r,!0,t,s,i,o,u,c),t.context=mx(null),n=t.current,r=yt(),s=Er(n),i=On(r,s),i.callback=e??null,xr(n,i,s),t.current.lanes=s,ua(t,s,r),bt(t,r),t}function Bu(t,e,n,r){var s=e.current,i=yt(),o=Er(s);return n=mx(n),e.context===null?e.context=n:e.pendingContext=n,e=On(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=xr(s,e,o),t!==null&&(Xt(t,s,o,i),_l(t,s,o)),o}function au(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ny(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Gf(t,e){ny(t,e),(t=t.alternate)&&ny(t,e)}function T2(){return null}var gx=typeof reportError=="function"?reportError:function(t){console.error(t)};function Qf(t){this._internalRoot=t}qu.prototype.render=Qf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));Bu(t,e,null,null)};qu.prototype.unmount=Qf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;cs(function(){Bu(null,t,null,null)}),e[Fn]=null}};function qu(t){this._internalRoot=t}qu.prototype.unstable_scheduleHydration=function(t){if(t){var e=Kv();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ir.length&&e!==0&&e<ir[n].priority;n++);ir.splice(n,0,t),n===0&&Qv(t)}};function Yf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Hu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ry(){}function I2(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=au(o);i.call(d)}}var o=px(e,r,t,0,null,!1,!1,"",ry);return t._reactRootContainer=o,t[Fn]=o.current,Fo(t.nodeType===8?t.parentNode:t),cs(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var u=r;r=function(){var d=au(c);u.call(d)}}var c=Kf(t,0,!1,null,null,!1,!1,"",ry);return t._reactRootContainer=c,t[Fn]=c.current,Fo(t.nodeType===8?t.parentNode:t),cs(function(){Bu(e,c,n,r)}),c}function Wu(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var u=s;s=function(){var c=au(o);u.call(c)}}Bu(e,o,t,s)}else o=I2(n,e,t,s,r);return au(o)}Hv=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ao(e.pendingLanes);n!==0&&(pf(e,n|1),bt(e,Pe()),!(oe&6)&&(ci=Pe()+500,Ur()))}break;case 13:cs(function(){var r=Un(t,1);if(r!==null){var s=yt();Xt(r,t,1,s)}}),Gf(t,1)}};gf=function(t){if(t.tag===13){var e=Un(t,134217728);if(e!==null){var n=yt();Xt(e,t,134217728,n)}Gf(t,134217728)}};Wv=function(t){if(t.tag===13){var e=Er(t),n=Un(t,e);if(n!==null){var r=yt();Xt(n,t,e,r)}Gf(t,e)}};Kv=function(){return de};Gv=function(t,e){var n=de;try{return de=t,e()}finally{de=n}};Wd=function(t,e,n){switch(e){case"input":if(Fd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Vu(r);if(!s)throw Error(U(90));Sv(r),Fd(r,s)}}}break;case"textarea":bv(t,n);break;case"select":e=n.value,e!=null&&Ks(t,!!n.multiple,e,!1)}};Dv=Bf;Ov=cs;var S2={usingClientEntryPoint:!1,Events:[da,Ms,Vu,Pv,jv,Bf]},ro={findFiberByHostInstance:Zr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},N2={bundleType:ro.bundleType,version:ro.version,rendererPackageName:ro.rendererPackageName,rendererConfig:ro.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Mv(t),t===null?null:t.stateNode},findFiberByHostInstance:ro.findFiberByHostInstance||T2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sl.isDisabled&&sl.supportsFiber)try{Pu=sl.inject(N2),fn=sl}catch{}}Dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=S2;Dt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yf(e))throw Error(U(200));return E2(t,e,null,n)};Dt.createRoot=function(t,e){if(!Yf(t))throw Error(U(299));var n=!1,r="",s=gx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Kf(t,1,!1,null,null,n,!1,r,s),t[Fn]=e.current,Fo(t.nodeType===8?t.parentNode:t),new Qf(e)};Dt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=Mv(e),t=t===null?null:t.stateNode,t};Dt.flushSync=function(t){return cs(t)};Dt.hydrate=function(t,e,n){if(!Hu(e))throw Error(U(200));return Wu(null,t,e,!0,n)};Dt.hydrateRoot=function(t,e,n){if(!Yf(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=gx;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=px(e,null,t,1,n??null,s,!1,i,o),t[Fn]=e.current,Fo(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new qu(e)};Dt.render=function(t,e,n){if(!Hu(e))throw Error(U(200));return Wu(null,t,e,!1,n)};Dt.unmountComponentAtNode=function(t){if(!Hu(t))throw Error(U(40));return t._reactRootContainer?(cs(function(){Wu(null,null,t,!1,function(){t._reactRootContainer=null,t[Fn]=null})}),!0):!1};Dt.unstable_batchedUpdates=Bf;Dt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Hu(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return Wu(t,e,n,!1,r)};Dt.version="18.3.1-next-f1338f8080-20240426";function yx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yx)}catch(t){console.error(t)}}yx(),yv.exports=Dt;var b2=yv.exports,vx,sy=b2;vx=sy.createRoot,sy.hydrateRoot;/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var iy="popstate";function k2(t={}){function e(r,s){let{pathname:i,search:o,hash:u}=r.location;return Sh("",{pathname:i,search:o,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Go(s)}return C2(e,n,null,t)}function Ee(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function A2(){return Math.random().toString(36).substring(2,10)}function oy(t,e){return{usr:t.state,key:t.key,idx:e}}function Sh(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ei(e):e,state:n,key:e&&e.key||r||A2()}}function Go({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ei(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function C2(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,u="POP",c=null,d=f();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function f(){return(o.state||{idx:null}).idx}function p(){u="POP";let R=f(),w=R==null?null:R-d;d=R,c&&c({action:u,location:C.location,delta:w})}function g(R,w){u="PUSH";let v=Sh(C.location,R,w);d=f()+1;let E=oy(v,d),S=C.createHref(v);try{o.pushState(E,"",S)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;s.location.assign(S)}i&&c&&c({action:u,location:C.location,delta:1})}function T(R,w){u="REPLACE";let v=Sh(C.location,R,w);d=f();let E=oy(v,d),S=C.createHref(v);o.replaceState(E,"",S),i&&c&&c({action:u,location:C.location,delta:0})}function k(R){return R2(R)}let C={get action(){return u},get location(){return t(s,o)},listen(R){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(iy,p),c=R,()=>{s.removeEventListener(iy,p),c=null}},createHref(R){return e(s,R)},createURL:k,encodeLocation(R){let w=k(R);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:g,replace:T,go(R){return o.go(R)}};return C}function R2(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ee(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Go(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function _x(t,e,n="/"){return P2(t,e,n,!1)}function P2(t,e,n,r){let s=typeof e=="string"?Ei(e):e,i=$n(s.pathname||"/",n);if(i==null)return null;let o=xx(t);j2(o);let u=null;for(let c=0;u==null&&c<o.length;++c){let d=q2(i);u=$2(o[c],d,r)}return u}function xx(t,e=[],n=[],r="",s=!1){let i=(o,u,c=s,d)=>{let f={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(r)&&c)return;Ee(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length)}let p=Vn([r,f.relativePath]),g=n.concat(f);o.children&&o.children.length>0&&(Ee(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),xx(o.children,e,g,p,c)),!(o.path==null&&!o.index)&&e.push({path:p,score:U2(p,o.index),routesMeta:g})};return t.forEach((o,u)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,u);else for(let d of wx(o.path))i(o,u,!0,d)}),e}function wx(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=wx(r.join("/")),u=[];return u.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&u.push(...o),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function j2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:z2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var D2=/^:[\w-]+$/,O2=3,V2=2,L2=1,M2=10,F2=-2,ay=t=>t==="*";function U2(t,e){let n=t.split("/"),r=n.length;return n.some(ay)&&(r+=F2),e&&(r+=V2),n.filter(s=>!ay(s)).reduce((s,i)=>s+(D2.test(i)?O2:i===""?L2:M2),r)}function z2(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function $2(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",o=[];for(let u=0;u<r.length;++u){let c=r[u],d=u===r.length-1,f=i==="/"?e:e.slice(i.length)||"/",p=lu({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},f),g=c.route;if(!p&&d&&n&&!r[r.length-1].route.index&&(p=lu({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!p)return null;Object.assign(s,p.params),o.push({params:s,pathname:Vn([i,p.pathname]),pathnameBase:G2(Vn([i,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(i=Vn([i,p.pathnameBase]))}return o}function lu(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=B2(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((d,{paramName:f,isOptional:p},g)=>{if(f==="*"){let k=u[g]||"";o=i.slice(0,i.length-k.length).replace(/(.)\/+$/,"$1")}const T=u[g];return p&&!T?d[f]=void 0:d[f]=(T||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function B2(t,e=!1,n=!0){tn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function q2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function $n(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function H2(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Ei(t):t;return{pathname:n?n.startsWith("/")?n:W2(n,e):e,search:Q2(r),hash:Y2(s)}}function W2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function pd(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function K2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Jf(t){let e=K2(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Xf(t,e,n,r=!1){let s;typeof t=="string"?s=Ei(t):(s={...t},Ee(!s.pathname||!s.pathname.includes("?"),pd("?","pathname","search",s)),Ee(!s.pathname||!s.pathname.includes("#"),pd("#","pathname","hash",s)),Ee(!s.search||!s.search.includes("#"),pd("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,u;if(o==null)u=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;s.pathname=g.join("/")}u=p>=0?e[p]:"/"}let c=H2(s,u),d=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||f)&&(c.pathname+="/"),c}var Vn=t=>t.join("/").replace(/\/\/+/g,"/"),G2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Q2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Y2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function J2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Ex=["POST","PUT","PATCH","DELETE"];new Set(Ex);var X2=["GET",...Ex];new Set(X2);var Ti=P.createContext(null);Ti.displayName="DataRouter";var Ku=P.createContext(null);Ku.displayName="DataRouterState";P.createContext(!1);var Tx=P.createContext({isTransitioning:!1});Tx.displayName="ViewTransition";var Z2=P.createContext(new Map);Z2.displayName="Fetchers";var eS=P.createContext(null);eS.displayName="Await";var sn=P.createContext(null);sn.displayName="Navigation";var fa=P.createContext(null);fa.displayName="Location";var on=P.createContext({outlet:null,matches:[],isDataRoute:!1});on.displayName="Route";var Zf=P.createContext(null);Zf.displayName="RouteError";function tS(t,{relative:e}={}){Ee(Ii(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=P.useContext(sn),{hash:s,pathname:i,search:o}=ma(t,{relative:e}),u=i;return n!=="/"&&(u=i==="/"?n:Vn([n,i])),r.createHref({pathname:u,search:o,hash:s})}function Ii(){return P.useContext(fa)!=null}function Sn(){return Ee(Ii(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(fa).location}var Ix="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Sx(t){P.useContext(sn).static||P.useLayoutEffect(t)}function Gu(){let{isDataRoute:t}=P.useContext(on);return t?pS():nS()}function nS(){Ee(Ii(),"useNavigate() may be used only in the context of a <Router> component.");let t=P.useContext(Ti),{basename:e,navigator:n}=P.useContext(sn),{matches:r}=P.useContext(on),{pathname:s}=Sn(),i=JSON.stringify(Jf(r)),o=P.useRef(!1);return Sx(()=>{o.current=!0}),P.useCallback((c,d={})=>{if(tn(o.current,Ix),!o.current)return;if(typeof c=="number"){n.go(c);return}let f=Xf(c,JSON.parse(i),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Vn([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,i,s,t])}P.createContext(null);function rS(){let{matches:t}=P.useContext(on),e=t[t.length-1];return e?e.params:{}}function ma(t,{relative:e}={}){let{matches:n}=P.useContext(on),{pathname:r}=Sn(),s=JSON.stringify(Jf(n));return P.useMemo(()=>Xf(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function sS(t,e){return Nx(t,e)}function Nx(t,e,n,r,s){var v;Ee(Ii(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=P.useContext(sn),{matches:o}=P.useContext(on),u=o[o.length-1],c=u?u.params:{},d=u?u.pathname:"/",f=u?u.pathnameBase:"/",p=u&&u.route;{let E=p&&p.path||"";bx(d,!p||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let g=Sn(),T;if(e){let E=typeof e=="string"?Ei(e):e;Ee(f==="/"||((v=E.pathname)==null?void 0:v.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${E.pathname}" was given in the \`location\` prop.`),T=E}else T=g;let k=T.pathname||"/",C=k;if(f!=="/"){let E=f.replace(/^\//,"").split("/");C="/"+k.replace(/^\//,"").split("/").slice(E.length).join("/")}let R=_x(t,{pathname:C});tn(p||R!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),tn(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=uS(R&&R.map(E=>Object.assign({},E,{params:Object.assign({},c,E.params),pathname:Vn([f,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?f:Vn([f,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),o,n,r,s);return e&&w?P.createElement(fa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},w):w}function iS(){let t=mS(),e=J2(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=P.createElement(P.Fragment,null,P.createElement("p",null,"💿 Hey developer 👋"),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:i},"ErrorBoundary")," or"," ",P.createElement("code",{style:i},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:s},n):null,o)}var oS=P.createElement(iS,null),aS=class extends P.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?P.createElement(on.Provider,{value:this.props.routeContext},P.createElement(Zf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function lS({routeContext:t,match:e,children:n}){let r=P.useContext(Ti);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(on.Provider,{value:t},n)}function uS(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let d=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);Ee(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let u=!1,c=-1;if(n)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:p,errors:g}=n,T=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||T){u=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,f,p)=>{let g,T=!1,k=null,C=null;n&&(g=o&&f.route.id?o[f.route.id]:void 0,k=f.route.errorElement||oS,u&&(c<0&&p===0?(bx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,C=null):c===p&&(T=!0,C=f.route.hydrateFallbackElement||null)));let R=e.concat(i.slice(0,p+1)),w=()=>{let v;return g?v=k:T?v=C:f.route.Component?v=P.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=d,P.createElement(lS,{match:f,routeContext:{outlet:d,matches:R,isDataRoute:n!=null},children:v})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?P.createElement(aS,{location:n.location,revalidation:n.revalidation,component:k,error:g,children:w(),routeContext:{outlet:null,matches:R,isDataRoute:!0},unstable_onError:r}):w()},null)}function em(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cS(t){let e=P.useContext(Ti);return Ee(e,em(t)),e}function dS(t){let e=P.useContext(Ku);return Ee(e,em(t)),e}function hS(t){let e=P.useContext(on);return Ee(e,em(t)),e}function tm(t){let e=hS(t),n=e.matches[e.matches.length-1];return Ee(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function fS(){return tm("useRouteId")}function mS(){var r;let t=P.useContext(Zf),e=dS("useRouteError"),n=tm("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function pS(){let{router:t}=cS("useNavigate"),e=tm("useNavigate"),n=P.useRef(!1);return Sx(()=>{n.current=!0}),P.useCallback(async(s,i={})=>{tn(n.current,Ix),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var ly={};function bx(t,e,n){!e&&!ly[t]&&(ly[t]=!0,tn(!1,n))}P.memo(gS);function gS({routes:t,future:e,state:n,unstable_onError:r}){return Nx(t,void 0,n,r,e)}function kx({to:t,replace:e,state:n,relative:r}){Ee(Ii(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=P.useContext(sn);tn(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=P.useContext(on),{pathname:o}=Sn(),u=Gu(),c=Xf(t,Jf(i),o,r==="path"),d=JSON.stringify(c);return P.useEffect(()=>{u(JSON.parse(d),{replace:e,state:n,relative:r})},[u,d,r,e,n]),null}function Fe(t){Ee(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function yS({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){Ee(!Ii(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),u=P.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof n=="string"&&(n=Ei(n));let{pathname:c="/",search:d="",hash:f="",state:p=null,key:g="default"}=n,T=P.useMemo(()=>{let k=$n(c,o);return k==null?null:{location:{pathname:k,search:d,hash:f,state:p,key:g},navigationType:r}},[o,c,d,f,p,g,r]);return tn(T!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:P.createElement(sn.Provider,{value:u},P.createElement(fa.Provider,{children:e,value:T}))}function vS({children:t,location:e}){return sS(Nh(t),e)}function Nh(t,e=[]){let n=[];return P.Children.forEach(t,(r,s)=>{if(!P.isValidElement(r))return;let i=[...e,s];if(r.type===P.Fragment){n.push.apply(n,Nh(r.props.children,i));return}Ee(r.type===Fe,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ee(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Nh(r.props.children,i)),n.push(o)}),n}var Nl="get",bl="application/x-www-form-urlencoded";function Qu(t){return t!=null&&typeof t.tagName=="string"}function _S(t){return Qu(t)&&t.tagName.toLowerCase()==="button"}function xS(t){return Qu(t)&&t.tagName.toLowerCase()==="form"}function wS(t){return Qu(t)&&t.tagName.toLowerCase()==="input"}function ES(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function TS(t,e){return t.button===0&&(!e||e==="_self")&&!ES(t)}var il=null;function IS(){if(il===null)try{new FormData(document.createElement("form"),0),il=!1}catch{il=!0}return il}var SS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gd(t){return t!=null&&!SS.has(t)?(tn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bl}"`),null):t}function NS(t,e){let n,r,s,i,o;if(xS(t)){let u=t.getAttribute("action");r=u?$n(u,e):null,n=t.getAttribute("method")||Nl,s=gd(t.getAttribute("enctype"))||bl,i=new FormData(t)}else if(_S(t)||wS(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||u.getAttribute("action");if(r=c?$n(c,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||Nl,s=gd(t.getAttribute("formenctype"))||gd(u.getAttribute("enctype"))||bl,i=new FormData(u,t),!IS()){let{name:d,type:f,value:p}=t;if(f==="image"){let g=d?`${d}.`:"";i.append(`${g}x`,"0"),i.append(`${g}y`,"0")}else d&&i.append(d,p)}}else{if(Qu(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Nl,r=null,s=bl,o=t}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function nm(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function bS(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&$n(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function kS(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function AS(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function CS(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let o=await kS(i,n);return o.links?o.links():[]}return[]}));return DS(r.flat(1).filter(AS).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function uy(t,e,n,r,s,i){let o=(c,d)=>n[d]?c.route.id!==n[d].route.id:!0,u=(c,d)=>{var f;return n[d].pathname!==c.pathname||((f=n[d].route.path)==null?void 0:f.endsWith("*"))&&n[d].params["*"]!==c.params["*"]};return i==="assets"?e.filter((c,d)=>o(c,d)||u(c,d)):i==="data"?e.filter((c,d)=>{var p;let f=r.routes[c.route.id];if(!f||!f.hasLoader)return!1;if(o(c,d)||u(c,d))return!0;if(c.route.shouldRevalidate){let g=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function RS(t,e,{includeHydrateFallback:n}={}){return PS(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function PS(t){return[...new Set(t)]}function jS(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function DS(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(jS(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function Ax(){let t=P.useContext(Ti);return nm(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function OS(){let t=P.useContext(Ku);return nm(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var rm=P.createContext(void 0);rm.displayName="FrameworkContext";function Cx(){let t=P.useContext(rm);return nm(t,"You must render this element inside a <HydratedRouter> element"),t}function VS(t,e){let n=P.useContext(rm),[r,s]=P.useState(!1),[i,o]=P.useState(!1),{onFocus:u,onBlur:c,onMouseEnter:d,onMouseLeave:f,onTouchStart:p}=e,g=P.useRef(null);P.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let C=w=>{w.forEach(v=>{o(v.isIntersecting)})},R=new IntersectionObserver(C,{threshold:.5});return g.current&&R.observe(g.current),()=>{R.disconnect()}}},[t]),P.useEffect(()=>{if(r){let C=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(C)}}},[r]);let T=()=>{s(!0)},k=()=>{s(!1),o(!1)};return n?t!=="intent"?[i,g,{}]:[i,g,{onFocus:so(u,T),onBlur:so(c,k),onMouseEnter:so(d,T),onMouseLeave:so(f,k),onTouchStart:so(p,T)}]:[!1,g,{}]}function so(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function LS({page:t,...e}){let{router:n}=Ax(),r=P.useMemo(()=>_x(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?P.createElement(FS,{page:t,matches:r,...e}):null}function MS(t){let{manifest:e,routeModules:n}=Cx(),[r,s]=P.useState([]);return P.useEffect(()=>{let i=!1;return CS(t,e,n).then(o=>{i||s(o)}),()=>{i=!0}},[t,e,n]),r}function FS({page:t,matches:e,...n}){let r=Sn(),{manifest:s,routeModules:i}=Cx(),{basename:o}=Ax(),{loaderData:u,matches:c}=OS(),d=P.useMemo(()=>uy(t,e,c,s,r,"data"),[t,e,c,s,r]),f=P.useMemo(()=>uy(t,e,c,s,r,"assets"),[t,e,c,s,r]),p=P.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let k=new Set,C=!1;if(e.forEach(w=>{var E;let v=s.routes[w.route.id];!v||!v.hasLoader||(!d.some(S=>S.route.id===w.route.id)&&w.route.id in u&&((E=i[w.route.id])!=null&&E.shouldRevalidate)||v.hasClientLoader?C=!0:k.add(w.route.id))}),k.size===0)return[];let R=bS(t,o,"data");return C&&k.size>0&&R.searchParams.set("_routes",e.filter(w=>k.has(w.route.id)).map(w=>w.route.id).join(",")),[R.pathname+R.search]},[o,u,r,s,d,e,t,i]),g=P.useMemo(()=>RS(f,s),[f,s]),T=MS(f);return P.createElement(P.Fragment,null,p.map(k=>P.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),g.map(k=>P.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),T.map(({key:k,link:C})=>P.createElement("link",{key:k,nonce:n.nonce,...C})))}function US(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Rx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Rx&&(window.__reactRouterVersion="7.8.2")}catch{}function zS({basename:t,children:e,window:n}){let r=P.useRef();r.current==null&&(r.current=k2({window:n,v5Compat:!0}));let s=r.current,[i,o]=P.useState({action:s.action,location:s.location}),u=P.useCallback(c=>{P.startTransition(()=>o(c))},[o]);return P.useLayoutEffect(()=>s.listen(u),[s,u]),P.createElement(yS,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var Px=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ae=P.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:o,state:u,target:c,to:d,preventScrollReset:f,viewTransition:p,...g},T){let{basename:k}=P.useContext(sn),C=typeof d=="string"&&Px.test(d),R,w=!1;if(typeof d=="string"&&C&&(R=d,Rx))try{let I=new URL(window.location.href),b=d.startsWith("//")?new URL(I.protocol+d):new URL(d),A=$n(b.pathname,k);b.origin===I.origin&&A!=null?d=A+b.search+b.hash:w=!0}catch{tn(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=tS(d,{relative:s}),[E,S,V]=VS(r,g),M=qS(d,{replace:o,state:u,target:c,preventScrollReset:f,relative:s,viewTransition:p});function x(I){e&&e(I),I.defaultPrevented||M(I)}let y=P.createElement("a",{...g,...V,href:R||v,onClick:w||i?e:x,ref:US(T,S),target:c,"data-discover":!C&&n==="render"?"true":void 0});return E&&!C?P.createElement(P.Fragment,null,y,P.createElement(LS,{page:v})):y});ae.displayName="Link";var pt=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:u,children:c,...d},f){let p=ma(o,{relative:d.relative}),g=Sn(),T=P.useContext(Ku),{navigator:k,basename:C}=P.useContext(sn),R=T!=null&&QS(p)&&u===!0,w=k.encodeLocation?k.encodeLocation(p).pathname:p.pathname,v=g.pathname,E=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||(v=v.toLowerCase(),E=E?E.toLowerCase():null,w=w.toLowerCase()),E&&C&&(E=$n(E,C)||E);const S=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let V=v===w||!s&&v.startsWith(w)&&v.charAt(S)==="/",M=E!=null&&(E===w||!s&&E.startsWith(w)&&E.charAt(w.length)==="/"),x={isActive:V,isPending:M,isTransitioning:R},y=V?e:void 0,I;typeof r=="function"?I=r(x):I=[r,V?"active":null,M?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let b=typeof i=="function"?i(x):i;return P.createElement(ae,{...d,"aria-current":y,className:I,ref:f,style:b,to:o,viewTransition:u},typeof c=="function"?c(x):c)});pt.displayName="NavLink";var $S=P.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:o=Nl,action:u,onSubmit:c,relative:d,preventScrollReset:f,viewTransition:p,...g},T)=>{let k=KS(),C=GS(u,{relative:d}),R=o.toLowerCase()==="get"?"get":"post",w=typeof u=="string"&&Px.test(u),v=E=>{if(c&&c(E),E.defaultPrevented)return;E.preventDefault();let S=E.nativeEvent.submitter,V=(S==null?void 0:S.getAttribute("formmethod"))||o;k(S||E.currentTarget,{fetcherKey:e,method:V,navigate:n,replace:s,state:i,relative:d,preventScrollReset:f,viewTransition:p})};return P.createElement("form",{ref:T,method:R,action:C,onSubmit:r?c:v,...g,"data-discover":!w&&t==="render"?"true":void 0})});$S.displayName="Form";function BS(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jx(t){let e=P.useContext(Ti);return Ee(e,BS(t)),e}function qS(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o}={}){let u=Gu(),c=Sn(),d=ma(t,{relative:i});return P.useCallback(f=>{if(TS(f,e)){f.preventDefault();let p=n!==void 0?n:Go(c)===Go(d);u(t,{replace:p,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[c,u,d,n,r,e,t,s,i,o])}var HS=0,WS=()=>`__${String(++HS)}__`;function KS(){let{router:t}=jx("useSubmit"),{basename:e}=P.useContext(sn),n=fS();return P.useCallback(async(r,s={})=>{let{action:i,method:o,encType:u,formData:c,body:d}=NS(r,e);if(s.navigate===!1){let f=s.fetcherKey||WS();await t.fetch(f,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||o,formEncType:s.encType||u,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||o,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function GS(t,{relative:e}={}){let{basename:n}=P.useContext(sn),r=P.useContext(on);Ee(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...ma(t||".",{relative:e})},o=Sn();if(t==null){i.search=o.search;let u=new URLSearchParams(i.search),c=u.getAll("index");if(c.some(f=>f==="")){u.delete("index"),c.filter(p=>p).forEach(p=>u.append("index",p));let f=u.toString();i.search=f?`?${f}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Vn([n,i.pathname])),Go(i)}function QS(t,{relative:e}={}){let n=P.useContext(Tx);Ee(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=jx("useViewTransitionState"),s=ma(t,{relative:e});if(!n.isTransitioning)return!1;let i=$n(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=$n(n.nextLocation.pathname,r)||n.nextLocation.pathname;return lu(s.pathname,o)!=null||lu(s.pathname,i)!=null}/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JS=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),cy=t=>{const e=JS(t);return e.charAt(0).toUpperCase()+e.slice(1)},Dx=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),XS=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ZS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=P.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...u},c)=>P.createElement("svg",{ref:c,...ZS,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Dx("lucide",s),...!i&&!XS(u)&&{"aria-hidden":"true"},...u},[...o.map(([d,f])=>P.createElement(d,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=(t,e)=>{const n=P.forwardRef(({className:r,...s},i)=>P.createElement(eN,{ref:i,iconNode:e,className:Dx(`lucide-${YS(cy(t))}`,`lucide-${t}`,r),...s}));return n.displayName=cy(t),n};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],dy=ke("arrow-left",tN);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],hy=ke("arrow-right",nN);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],sN=ke("circle-alert",rN);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ox=ke("circle-check",iN);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],aN=ke("file-text",oN);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=[["path",{d:"M10.5 3 8 9l4 13 4-13-2.5-6",key:"b3dvk1"}],["path",{d:"M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z",key:"7w4byz"}],["path",{d:"M2 9h20",key:"16fsjt"}]],uN=ke("gem",lN);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],dN=ke("graduation-cap",cN);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],fN=ke("instagram",hN);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],bh=ke("leaf",mN);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],gN=ke("linkedin",pN);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],vN=ke("mail",yN);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],xN=ke("message-circle",_N);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],EN=ke("quote",wN);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=[["path",{d:"M7 19H4.815a1.83 1.83 0 0 1-1.57-.881 1.785 1.785 0 0 1-.004-1.784L7.196 9.5",key:"x6z5xu"}],["path",{d:"M11 19h8.203a1.83 1.83 0 0 0 1.556-.89 1.784 1.784 0 0 0 0-1.775l-1.226-2.12",key:"1x4zh5"}],["path",{d:"m14 16-3 3 3 3",key:"f6jyew"}],["path",{d:"M8.293 13.596 7.196 9.5 3.1 10.598",key:"wf1obh"}],["path",{d:"m9.344 5.811 1.093-1.892A1.83 1.83 0 0 1 11.985 3a1.784 1.784 0 0 1 1.546.888l3.943 6.843",key:"9tzpgr"}],["path",{d:"m13.378 9.633 4.096 1.098 1.097-4.096",key:"1oe83g"}]],IN=ke("recycle",TN);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],fy=ke("ruler",SN);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],bN=ke("scissors",NN);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],kh=ke("shield-check",kN);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]],CN=ke("shirt",AN);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],PN=ke("shopping-bag",RN);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Vx=ke("sparkles",jN);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ON=ke("star",DN);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Lx=ke("truck",VN);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],MN=ke("users",LN),FN={},my=t=>{let e;const n=new Set,r=(f,p)=>{const g=typeof f=="function"?f(e):f;if(!Object.is(g,e)){const T=e;e=p??(typeof g!="object"||g===null)?g:Object.assign({},e,g),n.forEach(k=>k(e,T))}},s=()=>e,c={setState:r,getState:s,getInitialState:()=>d,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{(FN?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},d=e=t(r,s,c);return c},UN=t=>t?my(t):my;var Mx={exports:{}},Fx={},Ux={exports:{}},zx={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var di=P;function zN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $N=typeof Object.is=="function"?Object.is:zN,BN=di.useState,qN=di.useEffect,HN=di.useLayoutEffect,WN=di.useDebugValue;function KN(t,e){var n=e(),r=BN({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return HN(function(){s.value=n,s.getSnapshot=e,yd(s)&&i({inst:s})},[t,n,e]),qN(function(){return yd(s)&&i({inst:s}),t(function(){yd(s)&&i({inst:s})})},[t]),WN(n),n}function yd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!$N(t,n)}catch{return!0}}function GN(t,e){return e()}var QN=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?GN:KN;zx.useSyncExternalStore=di.useSyncExternalStore!==void 0?di.useSyncExternalStore:QN;Ux.exports=zx;var YN=Ux.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yu=P,JN=YN;function XN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ZN=typeof Object.is=="function"?Object.is:XN,eb=JN.useSyncExternalStore,tb=Yu.useRef,nb=Yu.useEffect,rb=Yu.useMemo,sb=Yu.useDebugValue;Fx.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=tb(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=rb(function(){function c(T){if(!d){if(d=!0,f=T,T=r(T),s!==void 0&&o.hasValue){var k=o.value;if(s(k,T))return p=k}return p=T}if(k=p,ZN(f,T))return k;var C=r(T);return s!==void 0&&s(k,C)?(f=T,k):(f=T,p=C)}var d=!1,f,p,g=n===void 0?null:n;return[function(){return c(e())},g===null?void 0:function(){return c(g())}]},[e,n,r,s]);var u=eb(t,i[0],i[1]);return nb(function(){o.hasValue=!0,o.value=u},[u]),sb(u),u};Mx.exports=Fx;var ib=Mx.exports;const ob=iv(ib),$x={},{useDebugValue:ab}=pr,{useSyncExternalStoreWithSelector:lb}=ob;let py=!1;const ub=t=>t;function cb(t,e=ub,n){($x?"production":void 0)!=="production"&&n&&!py&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),py=!0);const r=lb(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return ab(r),r}const db=t=>{($x?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?UN(t):t,n=(r,s)=>cb(e,r,s);return Object.assign(n,e),n},Bx=t=>db,hb={};function fb(t,e){let n;try{n=t()}catch{return}return{getItem:s=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),u=(i=n.getItem(s))!=null?i:null;return u instanceof Promise?u.then(o):o(u)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const Qo=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return Qo(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Qo(r)(n)}}}},mb=(t,e)=>(n,r,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:R=>R,version:0,merge:(R,w)=>({...w,...R}),...e},o=!1;const u=new Set,c=new Set;let d;try{d=i.getStorage()}catch{}if(!d)return t((...R)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...R)},r,s);const f=Qo(i.serialize),p=()=>{const R=i.partialize({...r()});let w;const v=f({state:R,version:i.version}).then(E=>d.setItem(i.name,E)).catch(E=>{w=E});if(w)throw w;return v},g=s.setState;s.setState=(R,w)=>{g(R,w),p()};const T=t((...R)=>{n(...R),p()},r,s);let k;const C=()=>{var R;if(!d)return;o=!1,u.forEach(v=>v(r()));const w=((R=i.onRehydrateStorage)==null?void 0:R.call(i,r()))||void 0;return Qo(d.getItem.bind(d))(i.name).then(v=>{if(v)return i.deserialize(v)}).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==i.version){if(i.migrate)return i.migrate(v.state,v.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return v.state}).then(v=>{var E;return k=i.merge(v,(E=r())!=null?E:T),n(k,!0),p()}).then(()=>{w==null||w(k,void 0),o=!0,c.forEach(v=>v(k))}).catch(v=>{w==null||w(void 0,v)})};return s.persist={setOptions:R=>{i={...i,...R},R.getStorage&&(d=R.getStorage())},clearStorage:()=>{d==null||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>C(),hasHydrated:()=>o,onHydrate:R=>(u.add(R),()=>{u.delete(R)}),onFinishHydration:R=>(c.add(R),()=>{c.delete(R)})},C(),k||T},pb=(t,e)=>(n,r,s)=>{let i={storage:fb(()=>localStorage),partialize:C=>C,version:0,merge:(C,R)=>({...R,...C}),...e},o=!1;const u=new Set,c=new Set;let d=i.storage;if(!d)return t((...C)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...C)},r,s);const f=()=>{const C=i.partialize({...r()});return d.setItem(i.name,{state:C,version:i.version})},p=s.setState;s.setState=(C,R)=>{p(C,R),f()};const g=t((...C)=>{n(...C),f()},r,s);s.getInitialState=()=>g;let T;const k=()=>{var C,R;if(!d)return;o=!1,u.forEach(v=>{var E;return v((E=r())!=null?E:g)});const w=((R=i.onRehydrateStorage)==null?void 0:R.call(i,(C=r())!=null?C:g))||void 0;return Qo(d.getItem.bind(d))(i.name).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==i.version){if(i.migrate)return[!0,i.migrate(v.state,v.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,v.state];return[!1,void 0]}).then(v=>{var E;const[S,V]=v;if(T=i.merge(V,(E=r())!=null?E:g),n(T,!0),S)return f()}).then(()=>{w==null||w(T,void 0),T=r(),o=!0,c.forEach(v=>v(T))}).catch(v=>{w==null||w(void 0,v)})};return s.persist={setOptions:C=>{i={...i,...C},C.storage&&(d=C.storage)},clearStorage:()=>{d==null||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>k(),hasHydrated:()=>o,onHydrate:C=>(u.add(C),()=>{u.delete(C)}),onFinishHydration:C=>(c.add(C),()=>{c.delete(C)})},i.skipHydration||k(),T||g},gb=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((hb?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),mb(t,e)):pb(t,e),qx=gb;function ks(t){return`${t.slug}__${t.size??""}__${t.color??""}`}const pa=Bx()(qx((t,e)=>({items:[],add:n=>t(r=>{const s=ks(n),i=r.items.findIndex(o=>ks(o)===s);if(i>=0){const o=[...r.items];return o[i]={...o[i],qty:o[i].qty+(n.qty||1)},{items:o}}return{items:[...r.items,{...n,qty:n.qty||1}]}}),remove:(n,r,s)=>t(i=>({items:i.items.filter(o=>ks(o)!==ks({slug:n,size:r,color:s}))})),setQty:(n,r,s,i)=>t(o=>({items:o.items.map(u=>ks(u)===ks({slug:n,size:r,color:s})?{...u,qty:i}:u)})),clear:()=>t({items:[]}),count:()=>e().items.reduce((n,r)=>n+r.qty,0)}),{name:"beafrique-cart"}));function yb(){const t=pa(e=>e.count());return l.jsxs(ae,{to:"/cart","aria-label":"View cart",className:"ml-2 relative inline-flex items-center gap-2 rounded-full border border-emerald-200 bg-white px-3 py-1.5 text-emerald-900 hover:bg-emerald-50",children:[l.jsx(PN,{className:"h-5 w-5"}),l.jsx("span",{className:"hidden lg:inline text-sm font-medium",children:"Cart"}),l.jsx("span",{className:"ml-1 rounded-full bg-yellow-400 px-2 py-0.5 text-xs font-semibold text-emerald-900",children:t})]})}const Hx="/assets/logo-Cc195fNo.webp",gy="bea.announcement.dismissed";function vb(){const[t,e]=P.useState(!1);return P.useEffect(()=>{localStorage.getItem(gy)==="1"&&e(!0)},[]),t?null:l.jsx("div",{className:"bg-emerald-950 text-emerald-50",children:l.jsxs("div",{className:"container relative flex items-center justify-center gap-3 py-2 text-xs md:text-sm",children:[l.jsxs("span",{className:"inline-flex items-center gap-2 font-medium tracking-wide",children:[l.jsx("span",{"aria-hidden":!0,children:"🌿"}),l.jsx("span",{children:"Made in limited quantities to reduce waste and promote sustainability."})]}),l.jsx(ae,{to:"/about",className:"underline underline-offset-4 decoration-emerald-300 hover:decoration-yellow-400",children:"Learn more"}),l.jsx("button",{"aria-label":"Close announcement",onClick:()=>{localStorage.setItem(gy,"1"),e(!0)},className:"absolute right-3 rounded-md px-2 py-1 hover:bg-emerald-900/60",children:"×"})]})})}function _b(){const[t,e]=P.useState(!1),[n,r]=P.useState(!1),s=pa(o=>o.count()),i=o=>`px-3 py-2 rounded-md transition hover:bg-brand/10 hover:text-brand ${o?"text-brand":""}`;return l.jsxs("header",{className:"sticky top-0 z-40 bg-white/80 backdrop-blur border-b",children:[l.jsx(vb,{}),l.jsx("div",{className:"bg-emerald-900 text-white",children:l.jsxs("div",{className:"container h-20 flex flex-col md:flex-row items-center justify-between text-sm space-y-4 md:space-y-0 md:h-16",children:[l.jsxs("div",{className:"flex flex-col md:flex-row items-center space-y-2 md:space-y-0 md:gap-6",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{children:"📧"}),l.jsx("a",{href:"mailto:hello@beafrique.com",className:"font-medium hover:underline",children:"hello@beafrique.com"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{children:"📞"}),l.jsx("span",{className:"font-medium",children:"+44 7733 729 418"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{children:"⏰"}),l.jsx("span",{className:"font-medium",children:"Mon - Sat: 8:00 AM - 7:00 PM"})]})]}),l.jsx("div",{className:"flex justify-center md:justify-end",children:l.jsx(ae,{to:"/catalogue",className:"inline-block bg-yellow-500 text-emerald-900 py-2 px-6 rounded-full font-semibold hover:bg-yellow-600",children:"Shop Now"})})]})}),l.jsxs("nav",{className:"container h-20 flex items-center justify-between mt-3",children:[l.jsx(ae,{to:"/",className:"flex items-center gap-2",children:l.jsx("img",{src:Hx,alt:"Be Afrique Limited Logo",className:"h-15 w-[70px]"})}),l.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[l.jsx(pt,{to:"/",end:!0,className:({isActive:o})=>i(o),children:"Home"}),l.jsxs("div",{className:"relative",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[l.jsx(pt,{to:"/about",className:({isActive:o})=>i(o),children:"About Us"}),n&&l.jsxs("div",{className:"absolute left-0 mt-2 w-48 rounded-xl border bg-white shadow-soft p-2",children:[l.jsx(pt,{to:"/about#values",className:({isActive:o})=>`block px-3 py-2 rounded-lg hover:bg-brand/10 ${o?"text-brand":"text-gray-700"}`,children:"Our Values"}),l.jsx(pt,{to:"/our-team",className:({isActive:o})=>`block px-3 py-2 rounded-lg hover:bg-brand/10 ${o?"text-brand":"text-gray-700"}`,children:"Our Team"})]})]}),l.jsx(pt,{to:"/what-we-do",className:({isActive:o})=>i(o),children:"What We Do"}),l.jsx(pt,{to:"/client",className:({isActive:o})=>i(o),children:"The Journey"}),l.jsx(pt,{to:"/catalogue",className:({isActive:o})=>i(o),children:"Catalogue"}),l.jsx(pt,{to:"/contact",className:({isActive:o})=>i(o),children:"Contact Us"}),l.jsx(yb,{})]}),l.jsx("button",{onClick:()=>e(o=>!o),className:"md:hidden w-10 h-10 grid place-content-center rounded-lg hover:bg-brand/10","aria-label":"Open menu",children:l.jsx("svg",{viewBox:"0 0 24 24",fill:"none",className:"w-6 h-6",children:l.jsx("path",{d:"M4 7h16M4 12h16M4 17h16",stroke:"currentColor",strokeWidth:"2"})})})]}),t&&l.jsx("div",{className:"md:hidden border-t bg-white",children:l.jsxs("div",{className:"container py-3 flex flex-col",children:[l.jsx(pt,{to:"/",end:!0,onClick:()=>e(!1),className:({isActive:o})=>i(o),children:"Home"}),l.jsxs("details",{className:"px-1 py-2",children:[l.jsx("summary",{className:"cursor-pointer px-2 py-1 rounded-md hover:bg-brand/10",children:"About Us"}),l.jsxs("div",{className:"mt-2 ml-3 flex flex-col",children:[l.jsx(pt,{to:"/about#values",onClick:()=>e(!1),className:({isActive:o})=>i(o),children:"Our Values"}),l.jsx(pt,{to:"/about#team",onClick:()=>e(!1),className:({isActive:o})=>i(o),children:"Our Team"})]})]}),l.jsx(pt,{to:"/what-we-do",onClick:()=>e(!1),className:({isActive:o})=>i(o),children:"What We Do"}),l.jsx(pt,{to:"/catalogue",onClick:()=>e(!1),className:({isActive:o})=>i(o),children:"Catalogue"}),l.jsx(pt,{to:"/contact",onClick:()=>e(!1),className:({isActive:o})=>i(o),children:"Contact Us"}),l.jsxs(ae,{to:"/cart",onClick:()=>e(!1),className:"mt-2 px-3 py-2 rounded-md transition hover:bg-brand/10",children:["Cart"," ",l.jsx("span",{className:"ml-1 text-xs bg-yellow-400 text-emerald-900 px-2 py-0.5 rounded-full",children:s})]})]})})]})}var Wx={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},yy=pr.createContext&&pr.createContext(Wx),xb=["attr","size","title"];function wb(t,e){if(t==null)return{};var n=Eb(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Eb(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function uu(){return uu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uu.apply(this,arguments)}function vy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function cu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vy(Object(n),!0).forEach(function(r){Tb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tb(t,e,n){return e=Ib(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ib(t){var e=Sb(t,"string");return typeof e=="symbol"?e:e+""}function Sb(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kx(t){return t&&t.map((e,n)=>pr.createElement(e.tag,cu({key:n},e.attr),Kx(e.child)))}function Ju(t){return e=>pr.createElement(Nb,uu({attr:cu({},t.attr)},e),Kx(t.child))}function Nb(t){var e=n=>{var{attr:r,size:s,title:i}=t,o=wb(t,xb),u=s||n.size||"1em",c;return n.className&&(c=n.className),t.className&&(c=(c?c+" ":"")+t.className),pr.createElement("svg",uu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:c,style:cu(cu({color:t.color||n.color},n.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),i&&pr.createElement("title",null,i),t.children)};return yy!==void 0?pr.createElement(yy.Consumer,null,n=>e(n)):e(Wx)}function bb(t){return Ju({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function kb(t){return Ju({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(t)}function Ab(t){return Ju({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448,209.91a210.06,210.06,0,0,1-122.77-39.25V349.38A162.55,162.55,0,1,1,185,188.31V278.2a74.62,74.62,0,1,0,52.23,71.18V0l88,0a121.18,121.18,0,0,0,1.86,22.17h0A122.18,122.18,0,0,0,381,102.39a121.43,121.43,0,0,0,67,20.14Z"},child:[]}]})(t)}function Gx(t){return Ju({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(t)}const ze={name:"Be Afrique",whatsapp:"447733729418",email:"hello@beafrique.com",phone:"+44 7733 729 418",address:"24 Jubilee Road, Southsea, Portsmouth PO4 0JE, United Kingdom",currencySymbol:"£"},tr={bankName:"Monzo Bank",accountName:"Be Afrique Limited",accountNumber:"12345678",sortCode:"04-00-04",iban:"GB00MONZ04000412345678",note:"Use your order name/number as payment reference."},ol={cloudName:"dbl85m2kz",uploadPreset:"unsigned_beafrique",folder:"beafrique"};function Cb(){const[t,e]=P.useState(""),[n,r]=P.useState(!1),s=Gx,i=bb,o=Ab,u=kb,c=d=>{d.preventDefault(),console.log("Submitted Email:",t),r(!0),e(""),setTimeout(()=>r(!1),4e3)};return l.jsxs("footer",{className:"mt-16 bg-emerald-900 text-emerald-50",children:[l.jsx("div",{className:"h-1 w-full bg-yellow-400"}),l.jsxs("div",{className:"container py-12",children:[l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-center",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("img",{src:Hx,alt:"Be Afrique Logo",className:"h-12 w-auto rounded-md ring-1 ring-white/10"}),l.jsxs("div",{children:[l.jsxs("p",{className:"text-xl font-bold tracking-tight",children:[l.jsx("span",{className:"text-yellow-400",children:"Be"})," Afrique Limited"]}),l.jsx("p",{className:"mt-1 text-sm text-emerald-100/80",children:"Conscious fashion. Empowering women. Celebrating African heritage."})]})]}),l.jsxs("div",{className:"rounded-2xl bg-emerald-800/40 ring-1 ring-white/10 p-3 sm:p-4",children:[l.jsx("p",{className:"text-sm text-emerald-100/90",children:"Sign up for news, drops, and events. We won’t spam."}),l.jsxs("form",{onSubmit:c,className:"mt-3 flex flex-col sm:flex-row gap-2",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx("input",{type:"email",value:t,onChange:d=>e(d.target.value),required:!0,placeholder:"Your email",className:"w-full rounded-full bg-white px-4 py-3 pr-28 text-sm text-emerald-900 outline-none ring-1 ring-emerald-200 focus:ring-2 focus:ring-yellow-300"}),l.jsx("button",{type:"submit",className:"absolute right-1 top-1/2 -translate-y-1/2 rounded-full bg-yellow-400 px-4 py-2 text-xs font-semibold text-emerald-900 hover:bg-yellow-500 focus:outline-none focus:ring-2 focus:ring-yellow-200",children:"Sign Up"})]}),n&&l.jsx("span",{className:"text-xs text-emerald-100/80",children:"Thanks—check your inbox to confirm."})]})]})]}),l.jsx("div",{className:"my-8 h-px w-full bg-gradient-to-r from-white/0 via-white/10 to-white/0"}),l.jsxs("div",{className:"grid gap-10 md:grid-cols-2 lg:grid-cols-4",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-semibold tracking-wide text-yellow-300",children:"About"}),l.jsx("p",{className:"mt-3 text-sm leading-relaxed text-emerald-50/90",children:"We are a purpose-driven fashion brand focused on environmental consciousness and social impact. We empower women with unique, expressive pieces—fostering independence and growth."})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-semibold tracking-wide text-yellow-300",children:"Quick Links"}),l.jsxs("ul",{className:"mt-3 space-y-2 text-sm",children:[l.jsx("li",{children:l.jsx(ae,{to:"/catalogue",className:"hover:text-yellow-300",children:"Conscious Fashion"})}),l.jsx("li",{children:l.jsx(ae,{to:"/about",className:"hover:text-yellow-300",children:" About Us"})}),l.jsx("li",{children:l.jsx(ae,{to:"/client",className:"hover:text-yellow-300",children:"The Journey"})}),l.jsx("li",{children:l.jsx(ae,{to:"/what-we-do",className:"hover:text-yellow-300",children:"What We Do"})}),l.jsx("li",{children:l.jsx(ae,{to:"/refund-policy",className:"hover:text-yellow-300",children:"Refund Policy"})}),l.jsx("li",{children:l.jsx(ae,{to:"/contact",className:"hover:text-yellow-300",children:"Contact Us"})})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-semibold tracking-wide text-yellow-300",children:"Contact"}),l.jsxs("ul",{className:"mt-3 space-y-2 text-sm",children:[l.jsxs("li",{children:["Phone: ",l.jsx("a",{href:"tel:+2348063328191",className:"hover:text-yellow-300",children:"+234 806 332 8191"})]}),l.jsxs("li",{children:["Email: ",l.jsx("a",{href:"mailto:service.info@dexy-creation.com",className:"hover:text-yellow-300",children:"service.info@dexy-creation.com"})]}),l.jsx("li",{children:"Opening Hours: Mon–Sat (08:00–18:00), Sun Closed"}),l.jsxs("li",{children:["Nigeria: ",l.jsx("span",{className:"text-emerald-50/90",children:"Lagos"})]}),l.jsxs("li",{children:["UK:"," ",l.jsx("a",{className:"hover:text-yellow-300",target:"_blank",rel:"noopener noreferrer",href:"https://www.google.com/maps?q=24+Jubilee+Road,+Southsea,+Portsmouth,+United+Kingdom+PO40JE",children:"24 Jubilee Road, Southsea, Portsmouth, PO40JE"})]})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-semibold tracking-wide text-yellow-300",children:"Follow Us"}),l.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[l.jsx("a",{href:"https://www.instagram.com/be_afrique_?igsh=MTR3amFjMHg0aGVheg%3D%3D&utm_source=qr",target:"_blank",rel:"noopener noreferrer",className:"group inline-flex h-10 w-10 items-center justify-center rounded-full bg-white/10 ring-1 ring-white/10 hover:bg-yellow-400","aria-label":"Instagram",children:l.jsx(i,{className:"h-5 w-5 text-white group-hover:text-emerald-900"})}),l.jsx("a",{href:"https://wa.me/447733729418",target:"_blank",rel:"noopener noreferrer",className:"group inline-flex h-10 w-10 items-center justify-center rounded-full bg-white/10 ring-1 ring-white/10 hover:bg-yellow-400","aria-label":"WhatsApp",children:l.jsx(s,{className:"h-5 w-5 text-white group-hover:text-emerald-900"})}),l.jsx("a",{href:"https://www.tiktok.com/@be_afrique",target:"_blank",rel:"noopener noreferrer",className:"group inline-flex h-10 w-10 items-center justify-center rounded-full bg-white/10 ring-1 ring-white/10 hover:bg-yellow-400","aria-label":"TikTok",children:l.jsx(o,{className:"h-5 w-5 text-white group-hover:text-emerald-900"})}),l.jsx("a",{href:"https://www.linkedin.com/company/be-afrique",target:"_blank",rel:"noopener noreferrer",className:"group inline-flex h-10 w-10 items-center justify-center rounded-full bg-white/10 ring-1 ring-white/10 hover:bg-yellow-400","aria-label":"LinkedIn",children:l.jsx(u,{className:"h-5 w-5 text-white group-hover:text-emerald-900"})})]}),l.jsx("div",{className:"mt-4",children:l.jsx("a",{href:"https://wa.me/447733729418?text=Hi%20Be%20Afrique%2C%20I%27d%20love%20to%20chat%20about%20a%20custom%20order.",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 rounded-full bg-yellow-400 px-4 py-2 text-xs font-semibold text-emerald-900 hover:bg-yellow-500",children:"Chat on WhatsApp"})})]})]})]}),l.jsx("div",{className:"border-t border-white/10",children:l.jsxs("div",{className:"container h-14 flex flex-col sm:flex-row items-center justify-between gap-3 text-xs sm:text-sm text-emerald-100/90",children:[l.jsxs("p",{children:["© ",new Date().getFullYear()," ",ze.name,". All rights reserved."]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(ae,{to:"/privacy",className:"hover:text-yellow-300",children:"Privacy"}),l.jsx("span",{"aria-hidden":!0,children:"•"}),l.jsx(ae,{to:"/terms",className:"hover:text-yellow-300",children:"Terms"})]})]})})]})}function Rb({children:t}){return l.jsxs("div",{className:"min-h-screen flex flex-col",children:[l.jsx(_b,{}),l.jsx("main",{className:"flex-1 pt-4",children:t}),l.jsx(Cb,{})]})}const Pb="/assets/buk1-C5UGe4R4.webp",Ah="/assets/2--4qJ_Oh3.webp",Qx="/assets/buk4-Bw_ahjkR.webp";function jb(){const t=P.useMemo(()=>[{title:"Cultural Identity & Heritage",text:"Be Afrique is rooted in African heritage and identity. The brand exists to connect Africans in the diaspora with their culture and traditions through fashion, while inviting the world to celebrate the artistry of African design. Clothing is positioned as a reflection of identity, culture, and values, not just fabric.",image:Pb,to:"/what-we-do#women"},{title:"Sustainability & Eco-Friendly Practices",text:"Sustainability is at the heart of the brand. Be Afrique emphasizes eco-friendly, ethical, and sustainable design practices. The mission goes beyond aesthetics fashion should “feel good” on the wearer and for the planet.",image:Ah,to:"/what-we-do#mentorship"},{title:"Empowerment & Movement",text:"Not just a label but a movement. Empowering women, supporting artisans, building communities, and creating social impact while celebrating cultural beauty globally.",image:Qx,to:"/about#values"}],[]),e=P.useRef(null),[n,r]=P.useState(0),s=P.useRef(!1);P.useEffect(()=>{const d=e.current;if(!d)return;const f=()=>{const p=d.firstElementChild;if(!p)return;const T=p.clientWidth+16,k=Math.round(d.scrollLeft/T);r(Math.min(Math.max(k,0),t.length-1))};return d.addEventListener("scroll",f,{passive:!0}),()=>d.removeEventListener("scroll",f)},[t.length]);const i=d=>{const f=e.current;if(!f)return;const p=f.firstElementChild,T=p?p.clientWidth+16:f.clientWidth*.9;f.scrollTo({left:d*T,behavior:"smooth"})},o=d=>{const f=(n+d+t.length)%t.length;i(f)};P.useEffect(()=>{if(typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches)return;const f=setInterval(()=>{s.current||o(1)},4500);return()=>clearInterval(f)},[t.length]);const u=()=>s.current=!0,c=()=>s.current=!1;return l.jsx("section",{className:"py-14",children:l.jsxs("div",{className:"container",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-emerald-700 text-sm font-semibold",children:"What drives us"}),l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-emerald-900",children:"Areas of Focus"}),l.jsx("div",{className:"mt-2 h-1 w-16 bg-yellow-400 rounded mx-auto"})]}),l.jsxs("div",{className:"relative mt-8",children:[l.jsx("div",{ref:e,className:`
              flex gap-4 overflow-x-auto pb-2 no-scrollbar
              snap-x snap-mandatory
              scroll-pl-4 md:scroll-pl-0
            `,style:{scrollBehavior:"smooth"},onMouseEnter:u,onMouseLeave:c,onFocusCapture:u,onBlurCapture:c,onTouchStart:u,onTouchEnd:()=>setTimeout(c,400),children:t.map(d=>l.jsxs("article",{className:`
                  snap-start shrink-0
                  basis-[85%] sm:basis-[60%] md:basis-[45%] lg:basis-[32%]
                  rounded-2xl ring-1 ring-gray-200 bg-white shadow-sm overflow-hidden
                  transition hover:shadow-md
                `,children:[l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:d.image,alt:d.title,className:"h-56 w-full object-cover"}),l.jsxs("span",{className:"absolute top-3 left-3 inline-flex items-center gap-1 rounded-full bg-yellow-400 px-3 py-1 text-xs font-semibold text-emerald-900 ring-1 ring-yellow-300",children:[l.jsx(Ox,{className:"w-3 h-3"})," Focus"]})]}),l.jsxs("div",{className:"p-5",children:[l.jsx("h3",{className:"font-semibold text-emerald-900 text-lg",children:d.title}),l.jsx("p",{className:"mt-2 text-[15px] leading-relaxed text-gray-700",children:d.text}),d.to?l.jsx("div",{className:"mt-4",children:l.jsxs(ae,{to:d.to,className:"inline-flex items-center gap-2 text-emerald-900 hover:underline",children:["Read more ",l.jsx("span",{"aria-hidden":!0,children:"→"})]})}):null]})]},d.title))}),l.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 right-0 hidden md:flex items-center justify-between px-2"})]})]})})}const sm="/assets/6-B0s8ORS8.webp",Db="/assets/pic1-r83TJ1Or.jpeg",Ob="/assets/pic2-D_8u7GYy.jpeg",Vb="/assets/pic3-D2m1R5dT.jpeg",Lb=[{text:"I will order for more—let me lose a bit of weight first 😄",author:"Primrose"},{text:"My wife loves her outfit! Thanks for selling such good wears.",author:"Tolu"},{text:"A midwife loved my outfit today—shared your contact. All your outfits are beautiful.",author:"Tayo"},{text:"Beautiful and unique—well done, Be Afrique.",author:"Joshua"},{text:"I received my wears—so gorgeous. Even my husband loves it on me. God bless you.",author:"Oyinade"},{text:"Lovely designs—thank you!",author:"Yetunde"},{text:"I love the outfits; they fit so well.",author:"Blessing"},{text:"Someone at my interview took your contact—she loves my dress and wants to buy.",author:"Charity"}],Mb=t=>t.split(/\s+/).map(e=>e[0]).slice(0,2).join("").toUpperCase();function Fb(){return l.jsx("section",{id:"testimonials",className:"py-14 bg-white",children:l.jsxs("div",{className:"container",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("span",{className:"inline-flex items-center gap-2 rounded-full bg-yellow-100 text-emerald-800 px-3 py-1 text-xs font-semibold ring-1 ring-yellow-200",children:"Loved by our customers"}),l.jsx("h2",{className:"mt-3 text-3xl md:text-4xl font-bold text-emerald-900",children:"Kind words from the Be Afrique tribe"}),l.jsx("div",{className:"mt-2 h-1 w-16 bg-yellow-400 rounded mx-auto"})]}),l.jsx("div",{className:"mt-8 grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:Lb.map((t,e)=>l.jsxs("article",{className:"relative rounded-2xl ring-1 ring-gray-200 bg-white p-6 shadow-sm transition hover:shadow-md",children:[l.jsx("div",{className:"absolute -top-3 -right-3 rounded-full bg-yellow-400 p-2 ring-1 ring-yellow-300 shadow",children:l.jsx(EN,{className:"h-4 w-4 text-emerald-900"})}),l.jsxs("div",{className:"flex items-center gap-1",children:[Array.from({length:5}).map((n,r)=>l.jsx(ON,{className:"h-4 w-4 text-yellow-400 fill-yellow-400"},r)),l.jsx("span",{className:"sr-only",children:"5 out of 5 stars"})]}),l.jsxs("p",{className:"mt-3 text-[15px] leading-relaxed text-gray-700",children:["“",t.text,"”"]}),l.jsxs("div",{className:"mt-5 flex items-center gap-3",children:[l.jsx("div",{className:"grid h-9 w-9 place-items-center rounded-full bg-emerald-900 text-emerald-50 text-xs font-semibold ring-2 ring-emerald-100",children:Mb(t.author)}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-emerald-900",children:t.author}),l.jsx("p",{className:"text-xs text-gray-500",children:"Verified customer"})]})]})]},e))}),l.jsx("div",{className:"mt-10 text-center",children:l.jsx("a",{href:"https://wa.me/447733729418?text=Hi%2C%20I%27d%20love%20to%20share%20a%20review%20about%20my%20order.",target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full bg-yellow-400 px-6 py-3 text-sm font-semibold text-emerald-900 hover:bg-yellow-500",children:"Share your experience →"})})]})})}function Ub(){const t=P.useMemo(()=>[{image:Db,title:"Wear Your Confidence, Crafted by Women.",text:"Embrace the elegance of African-inspired ready-to-wear fashion...",cta:{label:"Shop New Arrivals",href:"/catalogue"}},{image:Ob,title:"Elegance in Every Stitch, Sustainability in Every Thread.",text:"Our clothes are not just made, they are created with passion...",cta:{label:"Explore Our Catalogue",href:"/catalogue"}},{image:Vb,title:"Empowering Women, One Garment at a Time.",text:"Be part of a movement that supports artisans...",cta:{label:"Learn About Us",href:"/about"}}],[]),[e,n]=P.useState(0);if(!t.length)return null;const r=(e%t.length+t.length)%t.length,s=t[r]??t[0],i=p=>n(g=>g+p);P.useEffect(()=>{const p=setInterval(()=>n(g=>(g+1)%t.length),7e3);return()=>clearInterval(p)},[t.length]);const o="container",u="bg-white rounded-2xl ring-1 ring-gray-200 shadow-sm";return l.jsxs("div",{className:"bg-white text-gray-900",children:[l.jsxs("section",{className:"relative isolate overflow-hidden",children:[l.jsx("div",{className:`pointer-events-none absolute inset-0 -z-10 opacity-70 [background:
          radial-gradient(600px_600px_at_0%_0%,rgba(250,204,21,0.10),transparent_60%),
          radial-gradient(700px_700px_at_100%_100%,rgba(16,185,129,0.10),transparent_60%)]`}),l.jsxs("div",{className:`${o} py-10 md:py-14`,children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10 items-center md:min-h-[58vh]",children:[l.jsxs("div",{children:[l.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-yellow-100 text-emerald-800 px-3 py-1 text-xs font-semibold ring-1 ring-yellow-200",children:[l.jsx(Vx,{className:"w-3 h-3"})," Be Afrique Limited"]}),l.jsx("h1",{className:"mt-4 text-4xl md:text-5xl font-bold leading-tight tracking-tight text-emerald-900",children:s.title}),l.jsx("p",{className:"mt-4 text-[15px] md:text-base text-gray-600 max-w-xl",children:s.text}),l.jsxs("div",{className:"mt-6 flex flex-wrap gap-3",children:[l.jsx(ae,{to:s.cta.href,className:"rounded-full bg-emerald-900 hover:bg-emerald-700 text-white px-6 py-3 text-sm font-semibold",children:s.cta.label}),l.jsx(ae,{to:"/catalogue",className:"rounded-full border border-emerald-600 text-emerald-700 hover:bg-emerald-50 px-6 py-3 text-sm font-semibold",children:"Our Catalogue"})]}),l.jsxs("div",{className:"mt-6 flex items-center gap-4",children:[l.jsx("div",{className:"flex items-center gap-2",children:t.map((p,g)=>l.jsx("button",{onClick:()=>n(g),"aria-label":`Slide ${g+1}`,className:`h-2 rounded-full transition-all ${g===e?"w-6 bg-emerald-900":"w-2 bg-emerald-200"}`},g))}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>i(-1),"aria-label":"Previous slide",className:"rounded-full ring-1 ring-gray-200/80 bg-white/70 backdrop-blur px-2 py-2 hover:bg-white",children:l.jsx(dy,{className:"w-5 h-5 text-emerald-900"})}),l.jsx("button",{onClick:()=>i(1),"aria-label":"Next slide",className:"rounded-full ring-1 ring-gray-200/80 bg-white/70 backdrop-blur px-2 py-2 hover:bg-white",children:l.jsx(hy,{className:"w-5 h-5 text-emerald-900"})})]})]})]}),l.jsxs("div",{className:"relative md:h-[460px]",children:[l.jsx("div",{className:"pointer-events-none absolute -left-8 -bottom-8 h-40 w-40 rounded-full bg-yellow-300/30 blur-2xl"}),l.jsx("div",{className:"pointer-events-none absolute -right-10 -top-10 h-48 w-48 rounded-full bg-emerald-300/20 blur-3xl"}),l.jsxs("div",{className:"relative w-full h-full overflow-hidden rounded-3xl ring-1 ring-gray-200 shadow-sm",children:[l.jsx("img",{src:s.image,alt:s.title,className:"h-full w-full object-cover"}),l.jsxs("div",{className:"hidden md:flex absolute bottom-4 left-4 gap-2",children:[l.jsx("button",{onClick:()=>i(-1),"aria-label":"Previous slide",className:"rounded-full bg-white/70 backdrop-blur ring-1 ring-white/30 p-2 hover:bg-white",children:l.jsx(dy,{className:"w-5 h-5 text-emerald-900"})}),l.jsx("button",{onClick:()=>i(1),"aria-label":"Next slide",className:"rounded-full bg-white/70 backdrop-blur ring-1 ring-white/30 p-2 hover:bg-white",children:l.jsx(hy,{className:"w-5 h-5 text-emerald-900"})})]})]}),l.jsx("div",{className:"absolute -top-3 -right-3 bg-yellow-400 text-emerald-900 text-xs font-bold px-3 py-1 rounded-full shadow",children:"New Drop"})]})]}),l.jsxs("div",{className:"mt-8 grid grid-cols-1 sm:grid-cols-3 gap-3",children:[l.jsxs("div",{className:`${u} flex items-center gap-3 p-3`,children:[l.jsx(bh,{className:"h-5 w-5 text-emerald-800"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-emerald-900",children:"Ethical & Sustainable"}),l.jsx("p",{className:"text-xs text-gray-600",children:"Conscious materials & low-waste practices"})]})]}),l.jsxs("div",{className:`${u} flex items-center gap-3 p-3`,children:[l.jsx(kh,{className:"h-5 w-5 text-emerald-800"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-emerald-900",children:"Premium Finishing"}),l.jsx("p",{className:"text-xs text-gray-600",children:"Crafted by expert women artisans"})]})]}),l.jsxs("div",{className:`${u} flex items-center gap-3 p-3`,children:[l.jsx(Lx,{className:"h-5 w-5 text-emerald-800"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-emerald-900",children:"UK Store & Support"}),l.jsx("p",{className:"text-xs text-gray-600",children:"Ships from Portsmouth, United Kingdom"})]})]})]})]})]}),l.jsx(jb,{}),l.jsx("section",{className:"py-14",children:l.jsxs("div",{className:"container grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[l.jsxs("div",{className:"order-2 md:order-1",children:[l.jsx("h2",{className:"text-3xl font-bold leading-tight mb-4 text-emerald-900",children:"About Be Afrique Limited"}),l.jsx("p",{className:"text-base md:text-lg text-gray-600 mb-4",children:"Be Afrique is a sustainable African fashion brand born from a love of culture and a passion for the planet. We create eco-friendly ready-to-wear that celebrates heritage, empowers women, and inspires pride in identity."}),l.jsx("p",{className:"text-base md:text-lg text-gray-600",children:"By combining ethical practices with innovative solutions, we promote sustainability while addressing women’s unemployment through skills and opportunity."}),l.jsx("div",{className:"grid grid-cols-3 gap-4 mt-8",children:[{label:"Years in Business",value:"3"},{label:"Reviews",value:"65"},{label:"Women Empowered",value:"2000"}].map(p=>l.jsxs("div",{className:"rounded-xl border border-gray-200 p-4 text-center",children:[l.jsx("p",{className:"text-3xl font-bold text-emerald-800",children:p.value}),l.jsx("p",{className:"text-xs font-semibold text-emerald-900/70 mt-1",children:p.label})]},p.label))}),l.jsx("div",{className:"mt-8",children:l.jsx(ae,{to:"/about",className:"inline-block rounded-full bg-yellow-400 text-emerald-900 font-semibold hover:bg-yellow-500 px-6 py-3",children:"Read More →"})})]}),l.jsx("div",{className:"order-1 md:order-2",children:l.jsx("img",{src:Qx,alt:"About Be Afrique",className:"w-full h-auto object-cover rounded-2xl ring-1 ring-gray-200 shadow-sm"})})]})}),l.jsxs("section",{className:"py-14 relative isolate",children:[l.jsx("div",{className:`pointer-events-none absolute inset-0 -z-10 opacity-70 [background:
    radial-gradient(600px_600px_at_0%_0%,rgba(250,204,21,0.08),transparent_60%),
    radial-gradient(800px_800px_at_100%_100%,rgba(16,185,129,0.08),transparent_60%)]`}),l.jsxs("div",{className:"container",children:[l.jsxs("div",{className:"mb-10 text-center",children:[l.jsx("span",{className:"inline-flex items-center gap-2 rounded-full bg-yellow-100 text-emerald-800 px-3 py-1 text-xs font-semibold ring-1 ring-yellow-200",children:"From the press"}),l.jsx("h2",{className:"mt-3 text-3xl md:text-4xl font-bold text-emerald-900",children:"Featured News & Insights"}),l.jsx("div",{className:"mt-2 h-1 w-16 bg-yellow-400 rounded mx-auto"})]}),l.jsxs("article",{className:"grid grid-cols-1 md:grid-cols-[minmax(260px,38%)_1fr] gap-5 items-stretch",children:[l.jsxs("div",{className:"relative overflow-hidden rounded-3xl ring-1 ring-gray-200 shadow-sm",children:[l.jsx("img",{src:sm,alt:"Be Afrique: Nigerian fashion designer brings heritage and eco-fashion to Britain",className:"h-full w-full object-cover transition-transform duration-500 hover:scale-[1.03]"}),l.jsxs("div",{className:"absolute top-3 left-3 flex items-center gap-2",children:[l.jsx("span",{className:"rounded-full bg-yellow-400 text-emerald-900 text-xs font-bold px-3 py-1 ring-1 ring-yellow-300 shadow",children:"Press"}),l.jsx("span",{className:"hidden sm:inline rounded-full bg-white/85 backdrop-blur px-3 py-1 text-xs font-semibold text-emerald-900 ring-1 ring-white/60",children:"Vanguard"})]}),l.jsx("div",{className:"pointer-events-none absolute inset-0 bg-gradient-to-t from-black/10 via-transparent to-transparent"})]}),l.jsxs("div",{className:"rounded-3xl ring-1 ring-gray-200 bg-white p-6 md:p-8 shadow-sm",children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-gray-500",children:[l.jsx("span",{className:"font-semibold text-emerald-900",children:"Vanguard"}),l.jsx("span",{"aria-hidden":!0,children:"•"}),l.jsx("time",{dateTime:"2025-08-01",children:"Aug 2025"}),l.jsx("span",{"aria-hidden":!0,children:"•"}),l.jsx("span",{children:"2 min read"})]}),l.jsx("h3",{className:"mt-3 text-xl md:text-2xl font-semibold leading-snug text-emerald-900",children:"Be Afrique: Nigerian fashion designer brings heritage and eco-fashion to Britain"}),l.jsx("p",{className:"mt-3 text-[15px] md:text-base leading-relaxed text-gray-700",children:"Bukonla, a Nigerian-born fashion designer and writer, blends tailoring roots with academic research in sustainability to build a conscious fashion brand now present in the UK."}),l.jsxs("div",{className:"mt-5 flex flex-wrap gap-3",children:[l.jsx("a",{href:"https://www.vanguardngr.com/2025/08/be-afrique-nigerian-creative-brings-heritage-and-eco-fashion-to-britain/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 rounded-full bg-yellow-400 px-5 py-3 text-sm font-semibold text-emerald-900 hover:bg-yellow-500",children:"Read full article →"}),l.jsx("a",{href:"/about#mission-vision",className:"inline-flex items-center gap-2 rounded-full border border-emerald-600 px-5 py-3 text-sm font-semibold text-emerald-700 hover:bg-emerald-50",children:"Our mission & vision"})]})]})]})]})]}),l.jsx(Fb,{}),l.jsx("section",{className:"py-14 bg-gradient-to-b from-emerald-50/60 to-gray-50",children:l.jsx("div",{className:"container",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"bg-white rounded-2xl ring-1 ring-gray-200 shadow-sm p-6 md:p-8",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("span",{className:"inline-flex items-center rounded-full bg-emerald-100 text-emerald-800 px-3 py-1 text-xs font-semibold",children:"Free 30-min call"}),l.jsx("h2",{className:"mt-3 text-2xl md:text-3xl font-bold tracking-tight text-emerald-900",children:"Schedule Consultation"}),l.jsx("p",{className:"mt-1.5 text-sm text-gray-600",children:"Tell us a bit about your project and preferred time—our team will follow up ASAP."})]}),l.jsxs("form",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),l.jsx("input",{id:"fullName",type:"text",placeholder:"Your full name",className:"mt-1 w-full rounded-xl border border-gray-300 bg-white px-4 py-3 text-sm outline-none transition focus:border-emerald-400 focus:ring-2 focus:ring-emerald-200",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),l.jsx("input",{id:"phone",type:"tel",placeholder:"e.g. +44 7733 729 418",className:"mt-1 w-full rounded-xl border border-gray-300 bg-white px-4 py-3 text-sm outline-none transition focus:border-emerald-400 focus:ring-2 focus:ring-emerald-200",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),l.jsx("input",{id:"email",type:"email",placeholder:"you@example.com",className:"mt-1 w-full rounded-xl border border-gray-300 bg-white px-4 py-3 text-sm outline-none transition focus:border-emerald-400 focus:ring-2 focus:ring-emerald-200",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700",children:"Company (Optional)"}),l.jsx("input",{id:"company",type:"text",placeholder:"Business name",className:"mt-1 w-full rounded-xl border border-gray-300 bg-white px-4 py-3 text-sm outline-none transition focus:border-emerald-400 focus:ring-2 focus:ring-emerald-200"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700",children:"Message"}),l.jsx("textarea",{id:"message",rows:4,placeholder:"Briefly describe your needs, timeline, and budget band…",className:"mt-1 w-full rounded-xl border border-gray-300 bg-white px-4 py-3 text-sm outline-none transition focus:border-emerald-400 focus:ring-2 focus:ring-emerald-200"})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 pt-2",children:[l.jsx("button",{type:"submit",className:"inline-flex justify-center items-center gap-2 rounded-full bg-emerald-600 px-6 py-3 text-sm font-semibold text-white shadow-sm hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-300",children:"Submit Now"}),l.jsx("a",{href:"https://wa.me/447733729418?text=Hi%20there%2C%20I%27d%20like%20to%20schedule%20a%20consultation.",target:"_blank",rel:"noopener noreferrer",className:"inline-flex justify-center items-center gap-2 rounded-full border border-emerald-600 px-6 py-3 text-sm font-semibold text-emerald-700 hover:bg-emerald-50",children:"Chat on WhatsApp"}),l.jsx("div",{className:"flex-1 text-xs text-gray-500 sm:text-right",children:"Average response time < 2 hours"})]})]})]}),l.jsxs("div",{className:"flex flex-col gap-6",children:[l.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-emerald-600 to-emerald-900 p-6 text-emerald-50 shadow-sm",children:[l.jsx("div",{className:"absolute inset-0 opacity-20 [background:radial-gradient(120px_120px_at_20%_10%,white_0,transparent_60%),radial-gradient(160px_160px_at_80%_80%,white_0,transparent_60%)]"}),l.jsxs("div",{className:"relative",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Contact Details"}),l.jsxs("div",{className:"mt-4 space-y-3 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full bg-white/15",children:"📞"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Phone"}),l.jsx("a",{href:"tel:+447733729418",className:"text-emerald-100 hover:underline",children:"+44 7733 729 418"})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full bg-white/15",children:"✉️"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Email"}),l.jsx("a",{href:"mailto:hello@beafrique.com",className:"text-emerald-100 hover:underline",children:"hello@beafrique.com"})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full bg-white/15",children:"🕓"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Opening Hours"}),l.jsx("div",{className:"text-emerald-100",children:"Mon–Sat (08:00–21:00), Sun Closed"})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full bg-white/15",children:"📍"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Address"}),l.jsxs("a",{href:"https://www.google.com/maps?q=24+Jubilee+Road,+Southsea,+Portsmouth,+United+Kingdom+PO40JE",target:"_blank",rel:"noopener noreferrer",className:"text-emerald-100 hover:underline",children:["24 Jubilee Road, Southsea",l.jsx("br",{}),"Portsmouth, United Kingdom PO40JE"]})]})]})]}),l.jsxs("div",{className:"mt-5 grid grid-cols-2 gap-3 text-xs",children:[l.jsxs("div",{className:"rounded-xl bg-white/10 px-3 py-2 backdrop-blur-sm",children:[l.jsx("div",{className:"font-semibold",children:"Coverage"}),l.jsx("div",{className:"text-emerald-100",children:"UK & Nigeria"})]}),l.jsxs("div",{className:"rounded-xl bg-white/10 px-3 py-2 backdrop-blur-sm",children:[l.jsx("div",{className:"font-semibold",children:"Support"}),l.jsx("div",{className:"text-emerald-100",children:"Phone, Email, WhatsApp"})]})]})]})]}),l.jsxs("div",{className:"overflow-hidden rounded-2xl ring-1 ring-gray-200 bg-white shadow-sm",children:[l.jsx("div",{className:"aspect-[16/10] bg-[url('https://maps.gstatic.com/tactile/pane/default_geocode-2x.png')] bg-center bg-cover"}),l.jsx("div",{className:"p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"Our Service Area"}),l.jsx("div",{className:"text-xs text-gray-500",children:"Fast response in major cities"})]}),l.jsx("a",{href:"https://wa.me/447733729418?text=Hi%2C%20please%20call%20me%20back%20about%20a%20consultation.",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center rounded-full bg-yellow-400 px-4 py-2 text-xs font-semibold text-emerald-900 hover:bg-yellow-500",children:"Request a callback"})]})})]})]})]})})})]})}const zb=()=>{};var _y={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},$b=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],u=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Jx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,u=o?t[s+1]:0,c=s+2<t.length,d=c?t[s+2]:0,f=i>>2,p=(i&3)<<4|u>>4;let g=(u&15)<<2|d>>6,T=d&63;c||(T=64,o||(g=64)),r.push(n[f],n[p],n[g],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Yx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):$b(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],u=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||u==null||d==null||p==null)throw new Bb;const g=i<<2|u>>4;if(r.push(g),d!==64){const T=u<<4&240|d>>2;if(r.push(T),p!==64){const k=d<<6&192|p;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Bb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qb=function(t){const e=Yx(t);return Jx.encodeByteArray(e,!0)},du=function(t){return qb(t).replace(/\./g,"")},Xx=function(t){try{return Jx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb=()=>Hb().__FIREBASE_DEFAULTS__,Kb=()=>{if(typeof process>"u"||typeof _y>"u")return;const t=_y.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Gb=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Xx(t[1]);return e&&JSON.parse(e)},Xu=()=>{try{return zb()||Wb()||Kb()||Gb()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Zx=t=>{var e,n;return(n=(e=Xu())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},ew=t=>{const e=Zx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},tw=()=>{var t;return(t=Xu())==null?void 0:t.config},nw=t=>{var e;return(e=Xu())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function im(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[du(JSON.stringify(n)),du(JSON.stringify(o)),""].join(".")}const So={};function Yb(){const t={prod:[],emulator:[]};for(const e of Object.keys(So))So[e]?t.emulator.push(e):t.prod.push(e);return t}function Jb(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let xy=!1;function om(t,e){if(typeof window>"u"||typeof document>"u"||!vs(window.location.host)||So[t]===e||So[t]||xy)return;So[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",i=Yb().prod.length>0;function o(){const g=document.getElementById(r);g&&g.remove()}function u(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,T){g.setAttribute("width","24"),g.setAttribute("id",T),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function d(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{xy=!0,o()},g}function f(g,T){g.setAttribute("id",T),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=Jb(r),T=n("text"),k=document.getElementById(T)||document.createElement("span"),C=n("learnmore"),R=document.getElementById(C)||document.createElement("a"),w=n("preprendIcon"),v=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const E=g.element;u(E),f(R,C);const S=d();c(v,w),E.append(v,k,R,S),document.body.appendChild(E)}i?(k.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Xb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ht())}function Zb(){var e;const t=(e=Xu())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ek(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rk(){const t=ht();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function sk(){return!Zb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ik(){try{return typeof indexedDB=="object"}catch{return!1}}function ok(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak="FirebaseError";class Nn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ak,Object.setPrototypeOf(this,Nn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ga.prototype.create)}}class ga{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?lk(i,r):"Error",u=`${this.serviceName}: ${o} (${s}).`;return new Nn(s,u,r)}}function lk(t,e){return t.replace(uk,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const uk=/\{\$([^}]+)}/g;function ck(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ds(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(wy(i)&&wy(o)){if(!ds(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function wy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ya(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function uo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function co(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function dk(t,e){const n=new hk(t,e);return n.subscribe.bind(n)}class hk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");fk(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=vd),s.error===void 0&&(s.error=vd),s.complete===void 0&&(s.complete=vd);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function vd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(t){return t&&t._delegate?t._delegate:t}class Rr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Qb;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gk(e))try{this.getOrInitializeService({instanceIdentifier:Xr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Xr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xr){return this.instances.has(e)}getOptions(e=Xr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);r===u&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:pk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xr){return this.component?this.component.multipleInstances?e:Xr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pk(t){return t===Xr?void 0:t}function gk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new mk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ne||(ne={}));const vk={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},_k=ne.INFO,xk={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},wk=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=xk[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class am{constructor(e){this.name=e,this._logLevel=_k,this._logHandler=wk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...e),this._logHandler(this,ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...e),this._logHandler(this,ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...e),this._logHandler(this,ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...e),this._logHandler(this,ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...e),this._logHandler(this,ne.ERROR,...e)}}const Ek=(t,e)=>e.some(n=>t instanceof n);let Ey,Ty;function Tk(){return Ey||(Ey=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ik(){return Ty||(Ty=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sw=new WeakMap,Ch=new WeakMap,iw=new WeakMap,_d=new WeakMap,lm=new WeakMap;function Sk(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Ir(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&sw.set(n,t)}).catch(()=>{}),lm.set(e,t),e}function Nk(t){if(Ch.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Ch.set(t,e)}let Rh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ch.get(t);if(e==="objectStoreNames")return t.objectStoreNames||iw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ir(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bk(t){Rh=t(Rh)}function kk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(xd(this),e,...n);return iw.set(r,e.sort?e.sort():[e]),Ir(r)}:Ik().includes(t)?function(...e){return t.apply(xd(this),e),Ir(sw.get(this))}:function(...e){return Ir(t.apply(xd(this),e))}}function Ak(t){return typeof t=="function"?kk(t):(t instanceof IDBTransaction&&Nk(t),Ek(t,Tk())?new Proxy(t,Rh):t)}function Ir(t){if(t instanceof IDBRequest)return Sk(t);if(_d.has(t))return _d.get(t);const e=Ak(t);return e!==t&&(_d.set(t,e),lm.set(e,t)),e}const xd=t=>lm.get(t);function Ck(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),u=Ir(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Ir(o.result),c.oldVersion,c.newVersion,Ir(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const Rk=["get","getKey","getAll","getAllKeys","count"],Pk=["put","add","delete","clear"],wd=new Map;function Iy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wd.get(e))return wd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=Pk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Rk.includes(n)))return;const i=async function(o,...u){const c=this.transaction(o,s?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(u.shift())),(await Promise.all([d[n](...u),s&&c.done]))[0]};return wd.set(e,i),i}bk(t=>({...t,get:(e,n,r)=>Iy(e,n)||t.get(e,n,r),has:(e,n)=>!!Iy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Dk(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Dk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ph="@firebase/app",Sy="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bn=new am("@firebase/app"),Ok="@firebase/app-compat",Vk="@firebase/analytics-compat",Lk="@firebase/analytics",Mk="@firebase/app-check-compat",Fk="@firebase/app-check",Uk="@firebase/auth",zk="@firebase/auth-compat",$k="@firebase/database",Bk="@firebase/data-connect",qk="@firebase/database-compat",Hk="@firebase/functions",Wk="@firebase/functions-compat",Kk="@firebase/installations",Gk="@firebase/installations-compat",Qk="@firebase/messaging",Yk="@firebase/messaging-compat",Jk="@firebase/performance",Xk="@firebase/performance-compat",Zk="@firebase/remote-config",eA="@firebase/remote-config-compat",tA="@firebase/storage",nA="@firebase/storage-compat",rA="@firebase/firestore",sA="@firebase/ai",iA="@firebase/firestore-compat",oA="firebase",aA="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh="[DEFAULT]",lA={[Ph]:"fire-core",[Ok]:"fire-core-compat",[Lk]:"fire-analytics",[Vk]:"fire-analytics-compat",[Fk]:"fire-app-check",[Mk]:"fire-app-check-compat",[Uk]:"fire-auth",[zk]:"fire-auth-compat",[$k]:"fire-rtdb",[Bk]:"fire-data-connect",[qk]:"fire-rtdb-compat",[Hk]:"fire-fn",[Wk]:"fire-fn-compat",[Kk]:"fire-iid",[Gk]:"fire-iid-compat",[Qk]:"fire-fcm",[Yk]:"fire-fcm-compat",[Jk]:"fire-perf",[Xk]:"fire-perf-compat",[Zk]:"fire-rc",[eA]:"fire-rc-compat",[tA]:"fire-gcs",[nA]:"fire-gcs-compat",[rA]:"fire-fst",[iA]:"fire-fst-compat",[sA]:"fire-vertex","fire-js":"fire-js",[oA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=new Map,uA=new Map,Dh=new Map;function Ny(t,e){try{t.container.addComponent(e)}catch(n){Bn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function hs(t){const e=t.name;if(Dh.has(e))return Bn.debug(`There were multiple attempts to register component ${e}.`),!1;Dh.set(e,t);for(const n of Yo.values())Ny(n,t);for(const n of uA.values())Ny(n,t);return!0}function Zu(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ft(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Sr=new ga("app","Firebase",cA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Rr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Sr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s=aA;function ow(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:jh,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Sr.create("bad-app-name",{appName:String(s)});if(n||(n=tw()),!n)throw Sr.create("no-options");const i=Yo.get(s);if(i){if(ds(n,i.options)&&ds(r,i.config))return i;throw Sr.create("duplicate-app",{appName:s})}const o=new yk(s);for(const c of Dh.values())o.addComponent(c);const u=new dA(n,r,o);return Yo.set(s,u),u}function ec(t=jh){const e=Yo.get(t);if(!e&&t===jh&&tw())return ow();if(!e)throw Sr.create("no-app",{appName:t});return e}function hA(){return Array.from(Yo.values())}function pn(t,e,n){let r=lA[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bn.warn(o.join(" "));return}hs(new Rr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA="firebase-heartbeat-database",mA=1,Jo="firebase-heartbeat-store";let Ed=null;function aw(){return Ed||(Ed=Ck(fA,mA,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Jo)}catch(n){console.warn(n)}}}}).catch(t=>{throw Sr.create("idb-open",{originalErrorMessage:t.message})})),Ed}async function pA(t){try{const n=(await aw()).transaction(Jo),r=await n.objectStore(Jo).get(lw(t));return await n.done,r}catch(e){if(e instanceof Nn)Bn.warn(e.message);else{const n=Sr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Bn.warn(n.message)}}}async function by(t,e){try{const r=(await aw()).transaction(Jo,"readwrite");await r.objectStore(Jo).put(e,lw(t)),await r.done}catch(n){if(n instanceof Nn)Bn.warn(n.message);else{const r=Sr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Bn.warn(r.message)}}}function lw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA=1024,yA=30;class vA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=ky();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>yA){const o=wA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Bn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ky(),{heartbeatsToSend:r,unsentEntries:s}=_A(this._heartbeatsCache.heartbeats),i=du(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Bn.warn(n),""}}}function ky(){return new Date().toISOString().substring(0,10)}function _A(t,e=gA){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Ay(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Ay(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class xA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ik()?ok().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await pA(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return by(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return by(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Ay(t){return du(JSON.stringify({version:2,heartbeats:t})).length}function wA(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(t){hs(new Rr("platform-logger",e=>new jk(e),"PRIVATE")),hs(new Rr("heartbeat",e=>new vA(e),"PRIVATE")),pn(Ph,Sy,t),pn(Ph,Sy,"esm2020"),pn("fire-js","")}EA("");var TA="firebase",IA="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn(TA,IA,"app");var Cy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Nr,uw;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,y){function I(){}I.prototype=y.prototype,x.F=y.prototype,x.prototype=new I,x.prototype.constructor=x,x.D=function(b,A,j){for(var N=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)N[ge-2]=arguments[ge];return y.prototype[A].apply(b,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(x,y,I){I||(I=0);const b=Array(16);if(typeof y=="string")for(var A=0;A<16;++A)b[A]=y.charCodeAt(I++)|y.charCodeAt(I++)<<8|y.charCodeAt(I++)<<16|y.charCodeAt(I++)<<24;else for(A=0;A<16;++A)b[A]=y[I++]|y[I++]<<8|y[I++]<<16|y[I++]<<24;y=x.g[0],I=x.g[1],A=x.g[2];let j=x.g[3],N;N=y+(j^I&(A^j))+b[0]+3614090360&4294967295,y=I+(N<<7&4294967295|N>>>25),N=j+(A^y&(I^A))+b[1]+3905402710&4294967295,j=y+(N<<12&4294967295|N>>>20),N=A+(I^j&(y^I))+b[2]+606105819&4294967295,A=j+(N<<17&4294967295|N>>>15),N=I+(y^A&(j^y))+b[3]+3250441966&4294967295,I=A+(N<<22&4294967295|N>>>10),N=y+(j^I&(A^j))+b[4]+4118548399&4294967295,y=I+(N<<7&4294967295|N>>>25),N=j+(A^y&(I^A))+b[5]+1200080426&4294967295,j=y+(N<<12&4294967295|N>>>20),N=A+(I^j&(y^I))+b[6]+2821735955&4294967295,A=j+(N<<17&4294967295|N>>>15),N=I+(y^A&(j^y))+b[7]+4249261313&4294967295,I=A+(N<<22&4294967295|N>>>10),N=y+(j^I&(A^j))+b[8]+1770035416&4294967295,y=I+(N<<7&4294967295|N>>>25),N=j+(A^y&(I^A))+b[9]+2336552879&4294967295,j=y+(N<<12&4294967295|N>>>20),N=A+(I^j&(y^I))+b[10]+4294925233&4294967295,A=j+(N<<17&4294967295|N>>>15),N=I+(y^A&(j^y))+b[11]+2304563134&4294967295,I=A+(N<<22&4294967295|N>>>10),N=y+(j^I&(A^j))+b[12]+1804603682&4294967295,y=I+(N<<7&4294967295|N>>>25),N=j+(A^y&(I^A))+b[13]+4254626195&4294967295,j=y+(N<<12&4294967295|N>>>20),N=A+(I^j&(y^I))+b[14]+2792965006&4294967295,A=j+(N<<17&4294967295|N>>>15),N=I+(y^A&(j^y))+b[15]+1236535329&4294967295,I=A+(N<<22&4294967295|N>>>10),N=y+(A^j&(I^A))+b[1]+4129170786&4294967295,y=I+(N<<5&4294967295|N>>>27),N=j+(I^A&(y^I))+b[6]+3225465664&4294967295,j=y+(N<<9&4294967295|N>>>23),N=A+(y^I&(j^y))+b[11]+643717713&4294967295,A=j+(N<<14&4294967295|N>>>18),N=I+(j^y&(A^j))+b[0]+3921069994&4294967295,I=A+(N<<20&4294967295|N>>>12),N=y+(A^j&(I^A))+b[5]+3593408605&4294967295,y=I+(N<<5&4294967295|N>>>27),N=j+(I^A&(y^I))+b[10]+38016083&4294967295,j=y+(N<<9&4294967295|N>>>23),N=A+(y^I&(j^y))+b[15]+3634488961&4294967295,A=j+(N<<14&4294967295|N>>>18),N=I+(j^y&(A^j))+b[4]+3889429448&4294967295,I=A+(N<<20&4294967295|N>>>12),N=y+(A^j&(I^A))+b[9]+568446438&4294967295,y=I+(N<<5&4294967295|N>>>27),N=j+(I^A&(y^I))+b[14]+3275163606&4294967295,j=y+(N<<9&4294967295|N>>>23),N=A+(y^I&(j^y))+b[3]+4107603335&4294967295,A=j+(N<<14&4294967295|N>>>18),N=I+(j^y&(A^j))+b[8]+1163531501&4294967295,I=A+(N<<20&4294967295|N>>>12),N=y+(A^j&(I^A))+b[13]+2850285829&4294967295,y=I+(N<<5&4294967295|N>>>27),N=j+(I^A&(y^I))+b[2]+4243563512&4294967295,j=y+(N<<9&4294967295|N>>>23),N=A+(y^I&(j^y))+b[7]+1735328473&4294967295,A=j+(N<<14&4294967295|N>>>18),N=I+(j^y&(A^j))+b[12]+2368359562&4294967295,I=A+(N<<20&4294967295|N>>>12),N=y+(I^A^j)+b[5]+4294588738&4294967295,y=I+(N<<4&4294967295|N>>>28),N=j+(y^I^A)+b[8]+2272392833&4294967295,j=y+(N<<11&4294967295|N>>>21),N=A+(j^y^I)+b[11]+1839030562&4294967295,A=j+(N<<16&4294967295|N>>>16),N=I+(A^j^y)+b[14]+4259657740&4294967295,I=A+(N<<23&4294967295|N>>>9),N=y+(I^A^j)+b[1]+2763975236&4294967295,y=I+(N<<4&4294967295|N>>>28),N=j+(y^I^A)+b[4]+1272893353&4294967295,j=y+(N<<11&4294967295|N>>>21),N=A+(j^y^I)+b[7]+4139469664&4294967295,A=j+(N<<16&4294967295|N>>>16),N=I+(A^j^y)+b[10]+3200236656&4294967295,I=A+(N<<23&4294967295|N>>>9),N=y+(I^A^j)+b[13]+681279174&4294967295,y=I+(N<<4&4294967295|N>>>28),N=j+(y^I^A)+b[0]+3936430074&4294967295,j=y+(N<<11&4294967295|N>>>21),N=A+(j^y^I)+b[3]+3572445317&4294967295,A=j+(N<<16&4294967295|N>>>16),N=I+(A^j^y)+b[6]+76029189&4294967295,I=A+(N<<23&4294967295|N>>>9),N=y+(I^A^j)+b[9]+3654602809&4294967295,y=I+(N<<4&4294967295|N>>>28),N=j+(y^I^A)+b[12]+3873151461&4294967295,j=y+(N<<11&4294967295|N>>>21),N=A+(j^y^I)+b[15]+530742520&4294967295,A=j+(N<<16&4294967295|N>>>16),N=I+(A^j^y)+b[2]+3299628645&4294967295,I=A+(N<<23&4294967295|N>>>9),N=y+(A^(I|~j))+b[0]+4096336452&4294967295,y=I+(N<<6&4294967295|N>>>26),N=j+(I^(y|~A))+b[7]+1126891415&4294967295,j=y+(N<<10&4294967295|N>>>22),N=A+(y^(j|~I))+b[14]+2878612391&4294967295,A=j+(N<<15&4294967295|N>>>17),N=I+(j^(A|~y))+b[5]+4237533241&4294967295,I=A+(N<<21&4294967295|N>>>11),N=y+(A^(I|~j))+b[12]+1700485571&4294967295,y=I+(N<<6&4294967295|N>>>26),N=j+(I^(y|~A))+b[3]+2399980690&4294967295,j=y+(N<<10&4294967295|N>>>22),N=A+(y^(j|~I))+b[10]+4293915773&4294967295,A=j+(N<<15&4294967295|N>>>17),N=I+(j^(A|~y))+b[1]+2240044497&4294967295,I=A+(N<<21&4294967295|N>>>11),N=y+(A^(I|~j))+b[8]+1873313359&4294967295,y=I+(N<<6&4294967295|N>>>26),N=j+(I^(y|~A))+b[15]+4264355552&4294967295,j=y+(N<<10&4294967295|N>>>22),N=A+(y^(j|~I))+b[6]+2734768916&4294967295,A=j+(N<<15&4294967295|N>>>17),N=I+(j^(A|~y))+b[13]+1309151649&4294967295,I=A+(N<<21&4294967295|N>>>11),N=y+(A^(I|~j))+b[4]+4149444226&4294967295,y=I+(N<<6&4294967295|N>>>26),N=j+(I^(y|~A))+b[11]+3174756917&4294967295,j=y+(N<<10&4294967295|N>>>22),N=A+(y^(j|~I))+b[2]+718787259&4294967295,A=j+(N<<15&4294967295|N>>>17),N=I+(j^(A|~y))+b[9]+3951481745&4294967295,x.g[0]=x.g[0]+y&4294967295,x.g[1]=x.g[1]+(A+(N<<21&4294967295|N>>>11))&4294967295,x.g[2]=x.g[2]+A&4294967295,x.g[3]=x.g[3]+j&4294967295}r.prototype.v=function(x,y){y===void 0&&(y=x.length);const I=y-this.blockSize,b=this.C;let A=this.h,j=0;for(;j<y;){if(A==0)for(;j<=I;)s(this,x,j),j+=this.blockSize;if(typeof x=="string"){for(;j<y;)if(b[A++]=x.charCodeAt(j++),A==this.blockSize){s(this,b),A=0;break}}else for(;j<y;)if(b[A++]=x[j++],A==this.blockSize){s(this,b),A=0;break}}this.h=A,this.o+=y},r.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var y=1;y<x.length-8;++y)x[y]=0;y=this.o*8;for(var I=x.length-8;I<x.length;++I)x[I]=y&255,y/=256;for(this.v(x),x=Array(16),y=0,I=0;I<4;++I)for(let b=0;b<32;b+=8)x[y++]=this.g[I]>>>b&255;return x};function i(x,y){var I=u;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=y(x)}function o(x,y){this.h=y;const I=[];let b=!0;for(let A=x.length-1;A>=0;A--){const j=x[A]|0;b&&j==y||(I[A]=j,b=!1)}this.g=I}var u={};function c(x){return-128<=x&&x<128?i(x,function(y){return new o([y|0],y<0?-1:0)}):new o([x|0],x<0?-1:0)}function d(x){if(isNaN(x)||!isFinite(x))return p;if(x<0)return R(d(-x));const y=[];let I=1;for(let b=0;x>=I;b++)y[b]=x/I|0,I*=4294967296;return new o(y,0)}function f(x,y){if(x.length==0)throw Error("number format error: empty string");if(y=y||10,y<2||36<y)throw Error("radix out of range: "+y);if(x.charAt(0)=="-")return R(f(x.substring(1),y));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=d(Math.pow(y,8));let b=p;for(let j=0;j<x.length;j+=8){var A=Math.min(8,x.length-j);const N=parseInt(x.substring(j,j+A),y);A<8?(A=d(Math.pow(y,A)),b=b.j(A).add(d(N))):(b=b.j(I),b=b.add(d(N)))}return b}var p=c(0),g=c(1),T=c(16777216);t=o.prototype,t.m=function(){if(C(this))return-R(this).m();let x=0,y=1;for(let I=0;I<this.g.length;I++){const b=this.i(I);x+=(b>=0?b:4294967296+b)*y,y*=4294967296}return x},t.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(k(this))return"0";if(C(this))return"-"+R(this).toString(x);const y=d(Math.pow(x,6));var I=this;let b="";for(;;){const A=S(I,y).g;I=w(I,A.j(y));let j=((I.g.length>0?I.g[0]:I.h)>>>0).toString(x);if(I=A,k(I))return j+b;for(;j.length<6;)j="0"+j;b=j+b}},t.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function k(x){if(x.h!=0)return!1;for(let y=0;y<x.g.length;y++)if(x.g[y]!=0)return!1;return!0}function C(x){return x.h==-1}t.l=function(x){return x=w(this,x),C(x)?-1:k(x)?0:1};function R(x){const y=x.g.length,I=[];for(let b=0;b<y;b++)I[b]=~x.g[b];return new o(I,~x.h).add(g)}t.abs=function(){return C(this)?R(this):this},t.add=function(x){const y=Math.max(this.g.length,x.g.length),I=[];let b=0;for(let A=0;A<=y;A++){let j=b+(this.i(A)&65535)+(x.i(A)&65535),N=(j>>>16)+(this.i(A)>>>16)+(x.i(A)>>>16);b=N>>>16,j&=65535,N&=65535,I[A]=N<<16|j}return new o(I,I[I.length-1]&-2147483648?-1:0)};function w(x,y){return x.add(R(y))}t.j=function(x){if(k(this)||k(x))return p;if(C(this))return C(x)?R(this).j(R(x)):R(R(this).j(x));if(C(x))return R(this.j(R(x)));if(this.l(T)<0&&x.l(T)<0)return d(this.m()*x.m());const y=this.g.length+x.g.length,I=[];for(var b=0;b<2*y;b++)I[b]=0;for(b=0;b<this.g.length;b++)for(let A=0;A<x.g.length;A++){const j=this.i(b)>>>16,N=this.i(b)&65535,ge=x.i(A)>>>16,Te=x.i(A)&65535;I[2*b+2*A]+=N*Te,v(I,2*b+2*A),I[2*b+2*A+1]+=j*Te,v(I,2*b+2*A+1),I[2*b+2*A+1]+=N*ge,v(I,2*b+2*A+1),I[2*b+2*A+2]+=j*ge,v(I,2*b+2*A+2)}for(x=0;x<y;x++)I[x]=I[2*x+1]<<16|I[2*x];for(x=y;x<2*y;x++)I[x]=0;return new o(I,0)};function v(x,y){for(;(x[y]&65535)!=x[y];)x[y+1]+=x[y]>>>16,x[y]&=65535,y++}function E(x,y){this.g=x,this.h=y}function S(x,y){if(k(y))throw Error("division by zero");if(k(x))return new E(p,p);if(C(x))return y=S(R(x),y),new E(R(y.g),R(y.h));if(C(y))return y=S(x,R(y)),new E(R(y.g),y.h);if(x.g.length>30){if(C(x)||C(y))throw Error("slowDivide_ only works with positive integers.");for(var I=g,b=y;b.l(x)<=0;)I=V(I),b=V(b);var A=M(I,1),j=M(b,1);for(b=M(b,2),I=M(I,2);!k(b);){var N=j.add(b);N.l(x)<=0&&(A=A.add(I),j=N),b=M(b,1),I=M(I,1)}return y=w(x,A.j(y)),new E(A,y)}for(A=p;x.l(y)>=0;){for(I=Math.max(1,Math.floor(x.m()/y.m())),b=Math.ceil(Math.log(I)/Math.LN2),b=b<=48?1:Math.pow(2,b-48),j=d(I),N=j.j(y);C(N)||N.l(x)>0;)I-=b,j=d(I),N=j.j(y);k(j)&&(j=g),A=A.add(j),x=w(x,N)}return new E(A,x)}t.B=function(x){return S(this,x).h},t.and=function(x){const y=Math.max(this.g.length,x.g.length),I=[];for(let b=0;b<y;b++)I[b]=this.i(b)&x.i(b);return new o(I,this.h&x.h)},t.or=function(x){const y=Math.max(this.g.length,x.g.length),I=[];for(let b=0;b<y;b++)I[b]=this.i(b)|x.i(b);return new o(I,this.h|x.h)},t.xor=function(x){const y=Math.max(this.g.length,x.g.length),I=[];for(let b=0;b<y;b++)I[b]=this.i(b)^x.i(b);return new o(I,this.h^x.h)};function V(x){const y=x.g.length+1,I=[];for(let b=0;b<y;b++)I[b]=x.i(b)<<1|x.i(b-1)>>>31;return new o(I,x.h)}function M(x,y){const I=y>>5;y%=32;const b=x.g.length-I,A=[];for(let j=0;j<b;j++)A[j]=y>0?x.i(j+I)>>>y|x.i(j+I+1)<<32-y:x.i(j+I);return new o(A,x.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,uw=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=f,Nr=o}).apply(typeof Cy<"u"?Cy:typeof self<"u"?self:typeof window<"u"?window:{});var al=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cw,ho,dw,kl,Oh,hw,fw,mw;(function(){var t,e=Object.defineProperty;function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof al=="object"&&al];for(var h=0;h<a.length;++h){var m=a[h];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function s(a,h){if(h)e:{var m=r;a=a.split(".");for(var _=0;_<a.length-1;_++){var D=a[_];if(!(D in m))break e;m=m[D]}a=a[a.length-1],_=m[a],h=h(_),h!=_&&h!=null&&e(m,a,{configurable:!0,writable:!0,value:h})}}s("Symbol.dispose",function(a){return a||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(a){return a||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(a){return a||function(h){var m=[],_;for(_ in h)Object.prototype.hasOwnProperty.call(h,_)&&m.push([_,h[_]]);return m}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function u(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function c(a,h,m){return a.call.apply(a.bind,arguments)}function d(a,h,m){return d=c,d.apply(null,arguments)}function f(a,h){var m=Array.prototype.slice.call(arguments,1);return function(){var _=m.slice();return _.push.apply(_,arguments),a.apply(this,_)}}function p(a,h){function m(){}m.prototype=h.prototype,a.Z=h.prototype,a.prototype=new m,a.prototype.constructor=a,a.Ob=function(_,D,O){for(var z=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)z[ee-2]=arguments[ee];return h.prototype[D].apply(_,z)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?a=>a&&AsyncContext.Snapshot.wrap(a):a=>a;function T(a){const h=a.length;if(h>0){const m=Array(h);for(let _=0;_<h;_++)m[_]=a[_];return m}return[]}function k(a,h){for(let _=1;_<arguments.length;_++){const D=arguments[_];var m=typeof D;if(m=m!="object"?m:D?Array.isArray(D)?"array":m:"null",m=="array"||m=="object"&&typeof D.length=="number"){m=a.length||0;const O=D.length||0;a.length=m+O;for(let z=0;z<O;z++)a[m+z]=D[z]}else a.push(D)}}class C{constructor(h,m){this.i=h,this.j=m,this.h=0,this.g=null}get(){let h;return this.h>0?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function R(a){o.setTimeout(()=>{throw a},0)}function w(){var a=x;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class v{constructor(){this.h=this.g=null}add(h,m){const _=E.get();_.set(h,m),this.h?this.h.next=_:this.g=_,this.h=_}}var E=new C(()=>new S,a=>a.reset());class S{constructor(){this.next=this.g=this.h=null}set(h,m){this.h=h,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let V,M=!1,x=new v,y=()=>{const a=Promise.resolve(void 0);V=()=>{a.then(I)}};function I(){for(var a;a=w();){try{a.h.call(a.g)}catch(m){R(m)}var h=E;h.j(a),h.h<100&&(h.h++,a.next=h.g,h.g=a)}M=!1}function b(){this.u=this.u,this.C=this.C}b.prototype.u=!1,b.prototype.dispose=function(){this.u||(this.u=!0,this.N())},b.prototype[Symbol.dispose]=function(){this.dispose()},b.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function A(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}A.prototype.h=function(){this.defaultPrevented=!0};var j=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const m=()=>{};o.addEventListener("test",m,h),o.removeEventListener("test",m,h)}catch{}return a}();function N(a){return/^[\s\xa0]*$/.test(a)}function ge(a,h){A.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a&&this.init(a,h)}p(ge,A),ge.prototype.init=function(a,h){const m=this.type=a.type,_=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget,h||(m=="mouseover"?h=a.fromElement:m=="mouseout"&&(h=a.toElement)),this.relatedTarget=h,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=a.pointerType,this.state=a.state,this.i=a,a.defaultPrevented&&ge.Z.h.call(this)},ge.prototype.h=function(){ge.Z.h.call(this);const a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Te="closure_listenable_"+(Math.random()*1e6|0),Qe=0;function Vt(a,h,m,_,D){this.listener=a,this.proxy=null,this.src=h,this.type=m,this.capture=!!_,this.ha=D,this.key=++Qe,this.da=this.fa=!1}function $(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function G(a,h,m){for(const _ in a)h.call(m,a[_],_,a)}function J(a,h){for(const m in a)h.call(void 0,a[m],m,a)}function ce(a){const h={};for(const m in a)h[m]=a[m];return h}const fe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(a,h){let m,_;for(let D=1;D<arguments.length;D++){_=arguments[D];for(m in _)a[m]=_[m];for(let O=0;O<fe.length;O++)m=fe[O],Object.prototype.hasOwnProperty.call(_,m)&&(a[m]=_[m])}}function xt(a){this.src=a,this.g={},this.h=0}xt.prototype.add=function(a,h,m,_,D){const O=a.toString();a=this.g[O],a||(a=this.g[O]=[],this.h++);const z=le(a,h,_,D);return z>-1?(h=a[z],m||(h.fa=!1)):(h=new Vt(h,this.src,O,!!_,D),h.fa=m,a.push(h)),h};function W(a,h){const m=h.type;if(m in a.g){var _=a.g[m],D=Array.prototype.indexOf.call(_,h,void 0),O;(O=D>=0)&&Array.prototype.splice.call(_,D,1),O&&($(h),a.g[m].length==0&&(delete a.g[m],a.h--))}}function le(a,h,m,_){for(let D=0;D<a.length;++D){const O=a[D];if(!O.da&&O.listener==h&&O.capture==!!m&&O.ha==_)return D}return-1}var rt="closure_lm_"+(Math.random()*1e6|0),qr={};function ba(a,h,m,_,D){if(Array.isArray(h)){for(let O=0;O<h.length;O++)ba(a,h[O],m,_,D);return null}return m=tp(m),a&&a[Te]?a.J(h,m,u(_)?!!_.capture:!1,D):Tc(a,h,m,!1,_,D)}function Tc(a,h,m,_,D,O){if(!h)throw Error("Invalid event type");const z=u(D)?!!D.capture:!!D;let ee=Ic(a);if(ee||(a[rt]=ee=new xt(a)),m=ee.add(h,m,_,z,O),m.proxy)return m;if(_=ka(),m.proxy=_,_.src=a,_.listener=m,a.addEventListener)j||(D=z),D===void 0&&(D=!1),a.addEventListener(h.toString(),_,D);else if(a.attachEvent)a.attachEvent(Aa(h.toString()),_);else if(a.addListener&&a.removeListener)a.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return m}function ka(){function a(m){return h.call(a.src,a.listener,m)}const h=AE;return a}function ji(a,h,m,_,D){if(Array.isArray(h))for(var O=0;O<h.length;O++)ji(a,h[O],m,_,D);else _=u(_)?!!_.capture:!!_,m=tp(m),a&&a[Te]?(a=a.i,O=String(h).toString(),O in a.g&&(h=a.g[O],m=le(h,m,_,D),m>-1&&($(h[m]),Array.prototype.splice.call(h,m,1),h.length==0&&(delete a.g[O],a.h--)))):a&&(a=Ic(a))&&(h=a.g[h.toString()],a=-1,h&&(a=le(h,m,_,D)),(m=a>-1?h[a]:null)&&kn(m))}function kn(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[Te])W(h.i,a);else{var m=a.type,_=a.proxy;h.removeEventListener?h.removeEventListener(m,_,a.capture):h.detachEvent?h.detachEvent(Aa(m),_):h.addListener&&h.removeListener&&h.removeListener(_),(m=Ic(h))?(W(m,a),m.h==0&&(m.src=null,h[rt]=null)):$(a)}}}function Aa(a){return a in qr?qr[a]:qr[a]="on"+a}function AE(a,h){if(a.da)a=!0;else{h=new ge(h,this);const m=a.listener,_=a.ha||a.src;a.fa&&kn(a),a=m.call(_,h)}return a}function Ic(a){return a=a[rt],a instanceof xt?a:null}var Sc="__closure_events_fn_"+(Math.random()*1e9>>>0);function tp(a){return typeof a=="function"?a:(a[Sc]||(a[Sc]=function(h){return a.handleEvent(h)}),a[Sc])}function st(){b.call(this),this.i=new xt(this),this.M=this,this.G=null}p(st,b),st.prototype[Te]=!0,st.prototype.removeEventListener=function(a,h,m,_){ji(this,a,h,m,_)};function ft(a,h){var m,_=a.G;if(_)for(m=[];_;_=_.G)m.push(_);if(a=a.M,_=h.type||h,typeof h=="string")h=new A(h,a);else if(h instanceof A)h.target=h.target||a;else{var D=h;h=new A(_,a),nt(h,D)}D=!0;let O,z;if(m)for(z=m.length-1;z>=0;z--)O=h.g=m[z],D=Ca(O,_,!0,h)&&D;if(O=h.g=a,D=Ca(O,_,!0,h)&&D,D=Ca(O,_,!1,h)&&D,m)for(z=0;z<m.length;z++)O=h.g=m[z],D=Ca(O,_,!1,h)&&D}st.prototype.N=function(){if(st.Z.N.call(this),this.i){var a=this.i;for(const h in a.g){const m=a.g[h];for(let _=0;_<m.length;_++)$(m[_]);delete a.g[h],a.h--}}this.G=null},st.prototype.J=function(a,h,m,_){return this.i.add(String(a),h,!1,m,_)},st.prototype.K=function(a,h,m,_){return this.i.add(String(a),h,!0,m,_)};function Ca(a,h,m,_){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();let D=!0;for(let O=0;O<h.length;++O){const z=h[O];if(z&&!z.da&&z.capture==m){const ee=z.listener,Me=z.ha||z.src;z.fa&&W(a.i,z),D=ee.call(Me,_)!==!1&&D}}return D&&!_.defaultPrevented}function CE(a,h){if(typeof a!="function")if(a&&typeof a.handleEvent=="function")a=d(a.handleEvent,a);else throw Error("Invalid listener argument");return Number(h)>2147483647?-1:o.setTimeout(a,h||0)}function np(a){a.g=CE(()=>{a.g=null,a.i&&(a.i=!1,np(a))},a.l);const h=a.h;a.h=null,a.m.apply(null,h)}class RE extends b{constructor(h,m){super(),this.m=h,this.l=m,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:np(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Di(a){b.call(this),this.h=a,this.g={}}p(Di,b);var rp=[];function sp(a){G(a.g,function(h,m){this.g.hasOwnProperty(m)&&kn(h)},a),a.g={}}Di.prototype.N=function(){Di.Z.N.call(this),sp(this)},Di.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nc=o.JSON.stringify,PE=o.JSON.parse,jE=class{stringify(a){return o.JSON.stringify(a,void 0)}parse(a){return o.JSON.parse(a,void 0)}};function ip(){}function op(){}var Oi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function bc(){A.call(this,"d")}p(bc,A);function kc(){A.call(this,"c")}p(kc,A);var Hr={},ap=null;function Ra(){return ap=ap||new st}Hr.Ia="serverreachability";function lp(a){A.call(this,Hr.Ia,a)}p(lp,A);function Vi(a){const h=Ra();ft(h,new lp(h))}Hr.STAT_EVENT="statevent";function up(a,h){A.call(this,Hr.STAT_EVENT,a),this.stat=h}p(up,A);function mt(a){const h=Ra();ft(h,new up(h,a))}Hr.Ja="timingevent";function cp(a,h){A.call(this,Hr.Ja,a),this.size=h}p(cp,A);function Li(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){a()},h)}function Mi(){this.g=!0}Mi.prototype.ua=function(){this.g=!1};function DE(a,h,m,_,D,O){a.info(function(){if(a.g)if(O){var z="",ee=O.split("&");for(let he=0;he<ee.length;he++){var Me=ee[he].split("=");if(Me.length>1){const He=Me[0];Me=Me[1];const ln=He.split("_");z=ln.length>=2&&ln[1]=="type"?z+(He+"="+Me+"&"):z+(He+"=redacted&")}}}else z=null;else z=O;return"XMLHTTP REQ ("+_+") [attempt "+D+"]: "+h+`
`+m+`
`+z})}function OE(a,h,m,_,D,O,z){a.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+D+"]: "+h+`
`+m+`
`+O+" "+z})}function Is(a,h,m,_){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+LE(a,m)+(_?" "+_:"")})}function VE(a,h){a.info(function(){return"TIMEOUT: "+h})}Mi.prototype.info=function(){};function LE(a,h){if(!a.g)return h;if(!h)return null;try{const O=JSON.parse(h);if(O){for(a=0;a<O.length;a++)if(Array.isArray(O[a])){var m=O[a];if(!(m.length<2)){var _=m[1];if(Array.isArray(_)&&!(_.length<1)){var D=_[0];if(D!="noop"&&D!="stop"&&D!="close")for(let z=1;z<_.length;z++)_[z]=""}}}}return Nc(O)}catch{return h}}var Pa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},dp={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},hp;function Ac(){}p(Ac,ip),Ac.prototype.g=function(){return new XMLHttpRequest},hp=new Ac;function Fi(a){return encodeURIComponent(String(a))}function ME(a){var h=1;a=a.split(":");const m=[];for(;h>0&&a.length;)m.push(a.shift()),h--;return a.length&&m.push(a.join(":")),m}function Gn(a,h,m,_){this.j=a,this.i=h,this.l=m,this.S=_||1,this.V=new Di(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new fp}function fp(){this.i=null,this.g="",this.h=!1}var mp={},Cc={};function Rc(a,h,m){a.M=1,a.A=Da(an(h)),a.u=m,a.R=!0,pp(a,null)}function pp(a,h){a.F=Date.now(),ja(a),a.B=an(a.A);var m=a.B,_=a.S;Array.isArray(_)||(_=[String(_)]),kp(m.i,"t",_),a.C=0,m=a.j.L,a.h=new fp,a.g=Wp(a.j,m?h:null,!a.u),a.P>0&&(a.O=new RE(d(a.Y,a,a.g),a.P)),h=a.V,m=a.g,_=a.ba;var D="readystatechange";Array.isArray(D)||(D&&(rp[0]=D.toString()),D=rp);for(let O=0;O<D.length;O++){const z=ba(m,D[O],_||h.handleEvent,!1,h.h||h);if(!z)break;h.g[z.key]=z}h=a.J?ce(a.J):{},a.u?(a.v||(a.v="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.B,a.v,a.u,h)):(a.v="GET",a.g.ea(a.B,a.v,null,h)),Vi(),DE(a.i,a.v,a.B,a.l,a.S,a.u)}Gn.prototype.ba=function(a){a=a.target;const h=this.O;h&&Jn(a)==3?h.j():this.Y(a)},Gn.prototype.Y=function(a){try{if(a==this.g)e:{const ee=Jn(this.g),Me=this.g.ya(),he=this.g.ca();if(!(ee<3)&&(ee!=3||this.g&&(this.h.h||this.g.la()||Op(this.g)))){this.K||ee!=4||Me==7||(Me==8||he<=0?Vi(3):Vi(2)),Pc(this);var h=this.g.ca();this.X=h;var m=FE(this);if(this.o=h==200,OE(this.i,this.v,this.B,this.l,this.S,ee,h),this.o){if(this.U&&!this.L){t:{if(this.g){var _,D=this.g;if((_=D.g?D.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(_)){var O=_;break t}}O=null}if(a=O)Is(this.i,this.l,a,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,jc(this,a);else{this.o=!1,this.m=3,mt(12),Wr(this),Ui(this);break e}}if(this.R){a=!0;let He;for(;!this.K&&this.C<m.length;)if(He=UE(this,m),He==Cc){ee==4&&(this.m=4,mt(14),a=!1),Is(this.i,this.l,null,"[Incomplete Response]");break}else if(He==mp){this.m=4,mt(15),Is(this.i,this.l,m,"[Invalid Chunk]"),a=!1;break}else Is(this.i,this.l,He,null),jc(this,He);if(gp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ee!=4||m.length!=0||this.h.h||(this.m=1,mt(16),a=!1),this.o=this.o&&a,!a)Is(this.i,this.l,m,"[Invalid Chunked Response]"),Wr(this),Ui(this);else if(m.length>0&&!this.W){this.W=!0;var z=this.j;z.g==this&&z.aa&&!z.P&&(z.j.info("Great, no buffering proxy detected. Bytes received: "+m.length),zc(z),z.P=!0,mt(11))}}else Is(this.i,this.l,m,null),jc(this,m);ee==4&&Wr(this),this.o&&!this.K&&(ee==4?$p(this.j,this):(this.o=!1,ja(this)))}else eT(this.g),h==400&&m.indexOf("Unknown SID")>0?(this.m=3,mt(12)):(this.m=0,mt(13)),Wr(this),Ui(this)}}}catch{}finally{}};function FE(a){if(!gp(a))return a.g.la();const h=Op(a.g);if(h==="")return"";let m="";const _=h.length,D=Jn(a.g)==4;if(!a.h.i){if(typeof TextDecoder>"u")return Wr(a),Ui(a),"";a.h.i=new o.TextDecoder}for(let O=0;O<_;O++)a.h.h=!0,m+=a.h.i.decode(h[O],{stream:!(D&&O==_-1)});return h.length=0,a.h.g+=m,a.C=0,a.h.g}function gp(a){return a.g?a.v=="GET"&&a.M!=2&&a.j.Aa:!1}function UE(a,h){var m=a.C,_=h.indexOf(`
`,m);return _==-1?Cc:(m=Number(h.substring(m,_)),isNaN(m)?mp:(_+=1,_+m>h.length?Cc:(h=h.slice(_,_+m),a.C=_+m,h)))}Gn.prototype.cancel=function(){this.K=!0,Wr(this)};function ja(a){a.T=Date.now()+a.H,yp(a,a.H)}function yp(a,h){if(a.D!=null)throw Error("WatchDog timer not null");a.D=Li(d(a.aa,a),h)}function Pc(a){a.D&&(o.clearTimeout(a.D),a.D=null)}Gn.prototype.aa=function(){this.D=null;const a=Date.now();a-this.T>=0?(VE(this.i,this.B),this.M!=2&&(Vi(),mt(17)),Wr(this),this.m=2,Ui(this)):yp(this,this.T-a)};function Ui(a){a.j.I==0||a.K||$p(a.j,a)}function Wr(a){Pc(a);var h=a.O;h&&typeof h.dispose=="function"&&h.dispose(),a.O=null,sp(a.V),a.g&&(h=a.g,a.g=null,h.abort(),h.dispose())}function jc(a,h){try{var m=a.j;if(m.I!=0&&(m.g==a||Dc(m.h,a))){if(!a.L&&Dc(m.h,a)&&m.I==3){try{var _=m.Ba.g.parse(h)}catch{_=null}if(Array.isArray(_)&&_.length==3){var D=_;if(D[0]==0){e:if(!m.v){if(m.g)if(m.g.F+3e3<a.F)Fa(m),La(m);else break e;Uc(m),mt(18)}}else m.xa=D[1],0<m.xa-m.K&&D[2]<37500&&m.F&&m.A==0&&!m.C&&(m.C=Li(d(m.Va,m),6e3));xp(m.h)<=1&&m.ta&&(m.ta=void 0)}else Gr(m,11)}else if((a.L||m.g==a)&&Fa(m),!N(h))for(D=m.Ba.g.parse(h),h=0;h<D.length;h++){let he=D[h];const He=he[0];if(!(He<=m.K))if(m.K=He,he=he[1],m.I==2)if(he[0]=="c"){m.M=he[1],m.ba=he[2];const ln=he[3];ln!=null&&(m.ka=ln,m.j.info("VER="+m.ka));const Qr=he[4];Qr!=null&&(m.za=Qr,m.j.info("SVER="+m.za));const Xn=he[5];Xn!=null&&typeof Xn=="number"&&Xn>0&&(_=1.5*Xn,m.O=_,m.j.info("backChannelRequestTimeoutMs_="+_)),_=m;const Zn=a.g;if(Zn){const za=Zn.g?Zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(za){var O=_.h;O.g||za.indexOf("spdy")==-1&&za.indexOf("quic")==-1&&za.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(Oc(O,O.h),O.h=null))}if(_.G){const $c=Zn.g?Zn.g.getResponseHeader("X-HTTP-Session-Id"):null;$c&&(_.wa=$c,ye(_.J,_.G,$c))}}m.I=3,m.l&&m.l.ra(),m.aa&&(m.T=Date.now()-a.F,m.j.info("Handshake RTT: "+m.T+"ms")),_=m;var z=a;if(_.na=Hp(_,_.L?_.ba:null,_.W),z.L){wp(_.h,z);var ee=z,Me=_.O;Me&&(ee.H=Me),ee.D&&(Pc(ee),ja(ee)),_.g=z}else Up(_);m.i.length>0&&Ma(m)}else he[0]!="stop"&&he[0]!="close"||Gr(m,7);else m.I==3&&(he[0]=="stop"||he[0]=="close"?he[0]=="stop"?Gr(m,7):Fc(m):he[0]!="noop"&&m.l&&m.l.qa(he),m.A=0)}}Vi(4)}catch{}}var zE=class{constructor(a,h){this.g=a,this.map=h}};function vp(a){this.l=a||10,o.PerformanceNavigationTiming?(a=o.performance.getEntriesByType("navigation"),a=a.length>0&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function _p(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function xp(a){return a.h?1:a.g?a.g.size:0}function Dc(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function Oc(a,h){a.g?a.g.add(h):a.h=h}function wp(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}vp.prototype.cancel=function(){if(this.i=Ep(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Ep(a){if(a.h!=null)return a.i.concat(a.h.G);if(a.g!=null&&a.g.size!==0){let h=a.i;for(const m of a.g.values())h=h.concat(m.G);return h}return T(a.i)}var Tp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $E(a,h){if(a){a=a.split("&");for(let m=0;m<a.length;m++){const _=a[m].indexOf("=");let D,O=null;_>=0?(D=a[m].substring(0,_),O=a[m].substring(_+1)):D=a[m],h(D,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function Qn(a){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let h;a instanceof Qn?(this.l=a.l,zi(this,a.j),this.o=a.o,this.g=a.g,$i(this,a.u),this.h=a.h,Vc(this,Ap(a.i)),this.m=a.m):a&&(h=String(a).match(Tp))?(this.l=!1,zi(this,h[1]||"",!0),this.o=Bi(h[2]||""),this.g=Bi(h[3]||"",!0),$i(this,h[4]),this.h=Bi(h[5]||"",!0),Vc(this,h[6]||"",!0),this.m=Bi(h[7]||"")):(this.l=!1,this.i=new Hi(null,this.l))}Qn.prototype.toString=function(){const a=[];var h=this.j;h&&a.push(qi(h,Ip,!0),":");var m=this.g;return(m||h=="file")&&(a.push("//"),(h=this.o)&&a.push(qi(h,Ip,!0),"@"),a.push(Fi(m).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.u,m!=null&&a.push(":",String(m))),(m=this.h)&&(this.g&&m.charAt(0)!="/"&&a.push("/"),a.push(qi(m,m.charAt(0)=="/"?HE:qE,!0))),(m=this.i.toString())&&a.push("?",m),(m=this.m)&&a.push("#",qi(m,KE)),a.join("")},Qn.prototype.resolve=function(a){const h=an(this);let m=!!a.j;m?zi(h,a.j):m=!!a.o,m?h.o=a.o:m=!!a.g,m?h.g=a.g:m=a.u!=null;var _=a.h;if(m)$i(h,a.u);else if(m=!!a.h){if(_.charAt(0)!="/")if(this.g&&!this.h)_="/"+_;else{var D=h.h.lastIndexOf("/");D!=-1&&(_=h.h.slice(0,D+1)+_)}if(D=_,D==".."||D==".")_="";else if(D.indexOf("./")!=-1||D.indexOf("/.")!=-1){_=D.lastIndexOf("/",0)==0,D=D.split("/");const O=[];for(let z=0;z<D.length;){const ee=D[z++];ee=="."?_&&z==D.length&&O.push(""):ee==".."?((O.length>1||O.length==1&&O[0]!="")&&O.pop(),_&&z==D.length&&O.push("")):(O.push(ee),_=!0)}_=O.join("/")}else _=D}return m?h.h=_:m=a.i.toString()!=="",m?Vc(h,Ap(a.i)):m=!!a.m,m&&(h.m=a.m),h};function an(a){return new Qn(a)}function zi(a,h,m){a.j=m?Bi(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function $i(a,h){if(h){if(h=Number(h),isNaN(h)||h<0)throw Error("Bad port number "+h);a.u=h}else a.u=null}function Vc(a,h,m){h instanceof Hi?(a.i=h,GE(a.i,a.l)):(m||(h=qi(h,WE)),a.i=new Hi(h,a.l))}function ye(a,h,m){a.i.set(h,m)}function Da(a){return ye(a,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),a}function Bi(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function qi(a,h,m){return typeof a=="string"?(a=encodeURI(a).replace(h,BE),m&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function BE(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Ip=/[#\/\?@]/g,qE=/[#\?:]/g,HE=/[#\?]/g,WE=/[#\?@]/g,KE=/#/g;function Hi(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function Kr(a){a.g||(a.g=new Map,a.h=0,a.i&&$E(a.i,function(h,m){a.add(decodeURIComponent(h.replace(/\+/g," ")),m)}))}t=Hi.prototype,t.add=function(a,h){Kr(this),this.i=null,a=Ss(this,a);let m=this.g.get(a);return m||this.g.set(a,m=[]),m.push(h),this.h+=1,this};function Sp(a,h){Kr(a),h=Ss(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function Np(a,h){return Kr(a),h=Ss(a,h),a.g.has(h)}t.forEach=function(a,h){Kr(this),this.g.forEach(function(m,_){m.forEach(function(D){a.call(h,D,_,this)},this)},this)};function bp(a,h){Kr(a);let m=[];if(typeof h=="string")Np(a,h)&&(m=m.concat(a.g.get(Ss(a,h))));else for(a=Array.from(a.g.values()),h=0;h<a.length;h++)m=m.concat(a[h]);return m}t.set=function(a,h){return Kr(this),this.i=null,a=Ss(this,a),Np(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},t.get=function(a,h){return a?(a=bp(this,a),a.length>0?String(a[0]):h):h};function kp(a,h,m){Sp(a,h),m.length>0&&(a.i=null,a.g.set(Ss(a,h),T(m)),a.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],h=Array.from(this.g.keys());for(let _=0;_<h.length;_++){var m=h[_];const D=Fi(m);m=bp(this,m);for(let O=0;O<m.length;O++){let z=D;m[O]!==""&&(z+="="+Fi(m[O])),a.push(z)}}return this.i=a.join("&")};function Ap(a){const h=new Hi;return h.i=a.i,a.g&&(h.g=new Map(a.g),h.h=a.h),h}function Ss(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function GE(a,h){h&&!a.j&&(Kr(a),a.i=null,a.g.forEach(function(m,_){const D=_.toLowerCase();_!=D&&(Sp(this,_),kp(this,D,m))},a)),a.j=h}function QE(a,h){const m=new Mi;if(o.Image){const _=new Image;_.onload=f(Yn,m,"TestLoadImage: loaded",!0,h,_),_.onerror=f(Yn,m,"TestLoadImage: error",!1,h,_),_.onabort=f(Yn,m,"TestLoadImage: abort",!1,h,_),_.ontimeout=f(Yn,m,"TestLoadImage: timeout",!1,h,_),o.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=a}else h(!1)}function YE(a,h){const m=new Mi,_=new AbortController,D=setTimeout(()=>{_.abort(),Yn(m,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:_.signal}).then(O=>{clearTimeout(D),O.ok?Yn(m,"TestPingServer: ok",!0,h):Yn(m,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(D),Yn(m,"TestPingServer: error",!1,h)})}function Yn(a,h,m,_,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),_(m)}catch{}}function JE(){this.g=new jE}function Lc(a){this.i=a.Sb||null,this.h=a.ab||!1}p(Lc,ip),Lc.prototype.g=function(){return new Oa(this.i,this.h)};function Oa(a,h){st.call(this),this.H=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(Oa,st),t=Oa.prototype,t.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=a,this.D=h,this.readyState=1,Ki(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const h={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};a&&(h.body=a),(this.H||o).fetch(new Request(this.D,h)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Wi(this)),this.readyState=0},t.Pa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Ki(this)),this.g&&(this.readyState=3,Ki(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Cp(this)}else a.text().then(this.Oa.bind(this),this.ga.bind(this))};function Cp(a){a.j.read().then(a.Ma.bind(a)).catch(a.ga.bind(a))}t.Ma=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.B.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?Wi(this):Ki(this),this.readyState==3&&Cp(this)}},t.Oa=function(a){this.g&&(this.response=this.responseText=a,Wi(this))},t.Na=function(a){this.g&&(this.response=a,Wi(this))},t.ga=function(){this.g&&Wi(this)};function Wi(a){a.readyState=4,a.l=null,a.j=null,a.B=null,Ki(a)}t.setRequestHeader=function(a,h){this.A.append(a,h)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],h=this.h.entries();for(var m=h.next();!m.done;)m=m.value,a.push(m[0]+": "+m[1]),m=h.next();return a.join(`\r
`)};function Ki(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Oa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Rp(a){let h="";return G(a,function(m,_){h+=_,h+=":",h+=m,h+=`\r
`}),h}function Mc(a,h,m){e:{for(_ in m){var _=!1;break e}_=!0}_||(m=Rp(m),typeof a=="string"?m!=null&&Fi(m):ye(a,h,m))}function Ae(a){st.call(this),this.headers=new Map,this.L=a||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Ae,st);var XE=/^https?$/i,ZE=["POST","PUT"];t=Ae.prototype,t.Fa=function(a){this.H=a},t.ea=function(a,h,m,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():hp.g(),this.g.onreadystatechange=g(d(this.Ca,this));try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(O){Pp(this,O);return}if(a=m||"",m=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var D in _)m.set(D,_[D]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const O of _.keys())m.set(O,_.get(O));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(m.keys()).find(O=>O.toLowerCase()=="content-type"),D=o.FormData&&a instanceof o.FormData,!(Array.prototype.indexOf.call(ZE,h,void 0)>=0)||_||D||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[O,z]of m)this.g.setRequestHeader(O,z);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(a),this.v=!1}catch(O){Pp(this,O)}};function Pp(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.o=5,jp(a),Va(a)}function jp(a){a.A||(a.A=!0,ft(a,"complete"),ft(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=a||7,ft(this,"complete"),ft(this,"abort"),Va(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Va(this,!0)),Ae.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Dp(this):this.Xa())},t.Xa=function(){Dp(this)};function Dp(a){if(a.h&&typeof i<"u"){if(a.v&&Jn(a)==4)setTimeout(a.Ca.bind(a),0);else if(ft(a,"readystatechange"),Jn(a)==4){a.h=!1;try{const O=a.ca();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var m;if(!(m=h)){var _;if(_=O===0){let z=String(a.D).match(Tp)[1]||null;!z&&o.self&&o.self.location&&(z=o.self.location.protocol.slice(0,-1)),_=!XE.test(z?z.toLowerCase():"")}m=_}if(m)ft(a,"complete"),ft(a,"success");else{a.o=6;try{var D=Jn(a)>2?a.g.statusText:""}catch{D=""}a.l=D+" ["+a.ca()+"]",jp(a)}}finally{Va(a)}}}}function Va(a,h){if(a.g){a.m&&(clearTimeout(a.m),a.m=null);const m=a.g;a.g=null,h||ft(a,"ready");try{m.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Jn(a){return a.g?a.g.readyState:0}t.ca=function(){try{return Jn(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),PE(h)}};function Op(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.F){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function eT(a){const h={};a=(a.g&&Jn(a)>=2&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<a.length;_++){if(N(a[_]))continue;var m=ME(a[_]);const D=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const O=h[D]||[];h[D]=O,O.push(m)}J(h,function(_){return _.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gi(a,h,m){return m&&m.internalChannelParams&&m.internalChannelParams[a]||h}function Vp(a){this.za=0,this.i=[],this.j=new Mi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Gi("failFast",!1,a),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Gi("baseRetryDelayMs",5e3,a),this.Za=Gi("retryDelaySeedMs",1e4,a),this.Ta=Gi("forwardChannelMaxRetries",2,a),this.va=Gi("forwardChannelRequestTimeoutMs",2e4,a),this.ma=a&&a.xmlHttpFactory||void 0,this.Ua=a&&a.Rb||void 0,this.Aa=a&&a.useFetchStreams||!1,this.O=void 0,this.L=a&&a.supportsCrossDomainXhr||!1,this.M="",this.h=new vp(a&&a.concurrentRequestLimit),this.Ba=new JE,this.S=a&&a.fastHandshake||!1,this.R=a&&a.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=a&&a.Pb||!1,a&&a.ua&&this.j.ua(),a&&a.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&a&&a.detectBufferingProxy||!1,this.ia=void 0,a&&a.longPollingTimeout&&a.longPollingTimeout>0&&(this.ia=a.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Vp.prototype,t.ka=8,t.I=1,t.connect=function(a,h,m,_){mt(0),this.W=a,this.H=h||{},m&&_!==void 0&&(this.H.OSID=m,this.H.OAID=_),this.F=this.X,this.J=Hp(this,null,this.W),Ma(this)};function Fc(a){if(Lp(a),a.I==3){var h=a.V++,m=an(a.J);if(ye(m,"SID",a.M),ye(m,"RID",h),ye(m,"TYPE","terminate"),Qi(a,m),h=new Gn(a,a.j,h),h.M=2,h.A=Da(an(m)),m=!1,o.navigator&&o.navigator.sendBeacon)try{m=o.navigator.sendBeacon(h.A.toString(),"")}catch{}!m&&o.Image&&(new Image().src=h.A,m=!0),m||(h.g=Wp(h.j,null),h.g.ea(h.A)),h.F=Date.now(),ja(h)}qp(a)}function La(a){a.g&&(zc(a),a.g.cancel(),a.g=null)}function Lp(a){La(a),a.v&&(o.clearTimeout(a.v),a.v=null),Fa(a),a.h.cancel(),a.m&&(typeof a.m=="number"&&o.clearTimeout(a.m),a.m=null)}function Ma(a){if(!_p(a.h)&&!a.m){a.m=!0;var h=a.Ea;V||y(),M||(V(),M=!0),x.add(h,a),a.D=0}}function tT(a,h){return xp(a.h)>=a.h.j-(a.m?1:0)?!1:a.m?(a.i=h.G.concat(a.i),!0):a.I==1||a.I==2||a.D>=(a.Sa?0:a.Ta)?!1:(a.m=Li(d(a.Ea,a,h),Bp(a,a.D)),a.D++,!0)}t.Ea=function(a){if(this.m)if(this.m=null,this.I==1){if(!a){this.V=Math.floor(Math.random()*1e5),a=this.V++;const D=new Gn(this,this.j,a);let O=this.o;if(this.U&&(O?(O=ce(O),nt(O,this.U)):O=this.U),this.u!==null||this.R||(D.J=O,O=null),this.S)e:{for(var h=0,m=0;m<this.i.length;m++){t:{var _=this.i[m];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(h+=_,h>4096){h=m;break e}if(h===4096||m===this.i.length-1){h=m+1;break e}}h=1e3}else h=1e3;h=Fp(this,D,h),m=an(this.J),ye(m,"RID",a),ye(m,"CVER",22),this.G&&ye(m,"X-HTTP-Session-Id",this.G),Qi(this,m),O&&(this.R?h="headers="+Fi(Rp(O))+"&"+h:this.u&&Mc(m,this.u,O)),Oc(this.h,D),this.Ra&&ye(m,"TYPE","init"),this.S?(ye(m,"$req",h),ye(m,"SID","null"),D.U=!0,Rc(D,m,null)):Rc(D,m,h),this.I=2}}else this.I==3&&(a?Mp(this,a):this.i.length==0||_p(this.h)||Mp(this))};function Mp(a,h){var m;h?m=h.l:m=a.V++;const _=an(a.J);ye(_,"SID",a.M),ye(_,"RID",m),ye(_,"AID",a.K),Qi(a,_),a.u&&a.o&&Mc(_,a.u,a.o),m=new Gn(a,a.j,m,a.D+1),a.u===null&&(m.J=a.o),h&&(a.i=h.G.concat(a.i)),h=Fp(a,m,1e3),m.H=Math.round(a.va*.5)+Math.round(a.va*.5*Math.random()),Oc(a.h,m),Rc(m,_,h)}function Qi(a,h){a.H&&G(a.H,function(m,_){ye(h,_,m)}),a.l&&G({},function(m,_){ye(h,_,m)})}function Fp(a,h,m){m=Math.min(a.i.length,m);const _=a.l?d(a.l.Ka,a.l,a):null;e:{var D=a.i;let ee=-1;for(;;){const Me=["count="+m];ee==-1?m>0?(ee=D[0].g,Me.push("ofs="+ee)):ee=0:Me.push("ofs="+ee);let he=!0;for(let He=0;He<m;He++){var O=D[He].g;const ln=D[He].map;if(O-=ee,O<0)ee=Math.max(0,D[He].g-100),he=!1;else try{O="req"+O+"_"||"";try{var z=ln instanceof Map?ln:Object.entries(ln);for(const[Qr,Xn]of z){let Zn=Xn;u(Xn)&&(Zn=Nc(Xn)),Me.push(O+Qr+"="+encodeURIComponent(Zn))}}catch(Qr){throw Me.push(O+"type="+encodeURIComponent("_badmap")),Qr}}catch{_&&_(ln)}}if(he){z=Me.join("&");break e}}z=void 0}return a=a.i.splice(0,m),h.G=a,z}function Up(a){if(!a.g&&!a.v){a.Y=1;var h=a.Da;V||y(),M||(V(),M=!0),x.add(h,a),a.A=0}}function Uc(a){return a.g||a.v||a.A>=3?!1:(a.Y++,a.v=Li(d(a.Da,a),Bp(a,a.A)),a.A++,!0)}t.Da=function(){if(this.v=null,zp(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var a=4*this.T;this.j.info("BP detection timer enabled: "+a),this.B=Li(d(this.Wa,this),a)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,mt(10),La(this),zp(this))};function zc(a){a.B!=null&&(o.clearTimeout(a.B),a.B=null)}function zp(a){a.g=new Gn(a,a.j,"rpc",a.Y),a.u===null&&(a.g.J=a.o),a.g.P=0;var h=an(a.na);ye(h,"RID","rpc"),ye(h,"SID",a.M),ye(h,"AID",a.K),ye(h,"CI",a.F?"0":"1"),!a.F&&a.ia&&ye(h,"TO",a.ia),ye(h,"TYPE","xmlhttp"),Qi(a,h),a.u&&a.o&&Mc(h,a.u,a.o),a.O&&(a.g.H=a.O);var m=a.g;a=a.ba,m.M=1,m.A=Da(an(h)),m.u=null,m.R=!0,pp(m,a)}t.Va=function(){this.C!=null&&(this.C=null,La(this),Uc(this),mt(19))};function Fa(a){a.C!=null&&(o.clearTimeout(a.C),a.C=null)}function $p(a,h){var m=null;if(a.g==h){Fa(a),zc(a),a.g=null;var _=2}else if(Dc(a.h,h))m=h.G,wp(a.h,h),_=1;else return;if(a.I!=0){if(h.o)if(_==1){m=h.u?h.u.length:0,h=Date.now()-h.F;var D=a.D;_=Ra(),ft(_,new cp(_,m)),Ma(a)}else Up(a);else if(D=h.m,D==3||D==0&&h.X>0||!(_==1&&tT(a,h)||_==2&&Uc(a)))switch(m&&m.length>0&&(h=a.h,h.i=h.i.concat(m)),D){case 1:Gr(a,5);break;case 4:Gr(a,10);break;case 3:Gr(a,6);break;default:Gr(a,2)}}}function Bp(a,h){let m=a.Qa+Math.floor(Math.random()*a.Za);return a.isActive()||(m*=2),m*h}function Gr(a,h){if(a.j.info("Error code "+h),h==2){var m=d(a.bb,a),_=a.Ua;const D=!_;_=new Qn(_||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||zi(_,"https"),Da(_),D?QE(_.toString(),m):YE(_.toString(),m)}else mt(2);a.I=0,a.l&&a.l.pa(h),qp(a),Lp(a)}t.bb=function(a){a?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function qp(a){if(a.I=0,a.ja=[],a.l){const h=Ep(a.h);(h.length!=0||a.i.length!=0)&&(k(a.ja,h),k(a.ja,a.i),a.h.i.length=0,T(a.i),a.i.length=0),a.l.oa()}}function Hp(a,h,m){var _=m instanceof Qn?an(m):new Qn(m);if(_.g!="")h&&(_.g=h+"."+_.g),$i(_,_.u);else{var D=o.location;_=D.protocol,h=h?h+"."+D.hostname:D.hostname,D=+D.port;const O=new Qn(null);_&&zi(O,_),h&&(O.g=h),D&&$i(O,D),m&&(O.h=m),_=O}return m=a.G,h=a.wa,m&&h&&ye(_,m,h),ye(_,"VER",a.ka),Qi(a,_),_}function Wp(a,h,m){if(h&&!a.L)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Aa&&!a.ma?new Ae(new Lc({ab:m})):new Ae(a.ma),h.Fa(a.L),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Kp(){}t=Kp.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ua(){}Ua.prototype.g=function(a,h){return new kt(a,h)};function kt(a,h){st.call(this),this.g=new Vp(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.sa&&(a?a["X-WebChannel-Client-Profile"]=h.sa:a={"X-WebChannel-Client-Profile":h.sa}),this.g.U=a,(a=h&&h.Qb)&&!N(a)&&(this.g.u=a),this.A=h&&h.supportsCrossDomainXhr||!1,this.v=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!N(h)&&(this.g.G=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new Ns(this)}p(kt,st),kt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},kt.prototype.close=function(){Fc(this.g)},kt.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var m={};m.__data__=a,a=m}else this.v&&(m={},m.__data__=Nc(a),a=m);h.i.push(new zE(h.Ya++,a)),h.I==3&&Ma(h)},kt.prototype.N=function(){this.g.l=null,delete this.j,Fc(this.g),delete this.g,kt.Z.N.call(this)};function Gp(a){bc.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){e:{for(const m in h){a=m;break e}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}p(Gp,bc);function Qp(){kc.call(this),this.status=1}p(Qp,kc);function Ns(a){this.g=a}p(Ns,Kp),Ns.prototype.ra=function(){ft(this.g,"a")},Ns.prototype.qa=function(a){ft(this.g,new Gp(a))},Ns.prototype.pa=function(a){ft(this.g,new Qp)},Ns.prototype.oa=function(){ft(this.g,"b")},Ua.prototype.createWebChannel=Ua.prototype.g,kt.prototype.send=kt.prototype.o,kt.prototype.open=kt.prototype.m,kt.prototype.close=kt.prototype.close,mw=function(){return new Ua},fw=function(){return Ra()},hw=Hr,Oh={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Pa.NO_ERROR=0,Pa.TIMEOUT=8,Pa.HTTP_ERROR=6,kl=Pa,dp.COMPLETE="complete",dw=dp,op.EventType=Oi,Oi.OPEN="a",Oi.CLOSE="b",Oi.ERROR="c",Oi.MESSAGE="d",st.prototype.listen=st.prototype.J,ho=op,Ae.prototype.listenOnce=Ae.prototype.K,Ae.prototype.getLastError=Ae.prototype.Ha,Ae.prototype.getLastErrorCode=Ae.prototype.ya,Ae.prototype.getStatus=Ae.prototype.ca,Ae.prototype.getResponseJson=Ae.prototype.La,Ae.prototype.getResponseText=Ae.prototype.la,Ae.prototype.send=Ae.prototype.ea,Ae.prototype.setWithCredentials=Ae.prototype.Fa,cw=Ae}).apply(typeof al<"u"?al:typeof self<"u"?self:typeof window<"u"?window:{});const Ry="@firebase/firestore",Py="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}lt.UNAUTHENTICATED=new lt(null),lt.GOOGLE_CREDENTIALS=new lt("google-credentials-uid"),lt.FIRST_PARTY=new lt("first-party-uid"),lt.MOCK_USER=new lt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Si="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=new am("@firebase/firestore");function As(){return fs.logLevel}function q(t,...e){if(fs.logLevel<=ne.DEBUG){const n=e.map(um);fs.debug(`Firestore (${Si}): ${t}`,...n)}}function qn(t,...e){if(fs.logLevel<=ne.ERROR){const n=e.map(um);fs.error(`Firestore (${Si}): ${t}`,...n)}}function hi(t,...e){if(fs.logLevel<=ne.WARN){const n=e.map(um);fs.warn(`Firestore (${Si}): ${t}`,...n)}}function um(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,pw(t,r,n)}function pw(t,e,n){let r=`FIRESTORE (${Si}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw qn(r),new Error(r)}function ue(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||pw(e,s,r)}function Z(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class B extends Nn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class SA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(lt.UNAUTHENTICATED))}shutdown(){}}class NA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class bA{constructor(e){this.t=e,this.currentUser=lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ue(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Ln;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ln,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},u=c=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ln)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ue(typeof r.accessToken=="string",31837,{l:r}),new gw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ue(e===null||typeof e=="string",2055,{h:e}),new lt(e)}}class kA{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=lt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class AA{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new kA(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CA{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ft(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ue(this.o===void 0,3512);const r=i=>{i.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new jy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ue(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new jy(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=RA(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function re(t,e){return t<e?-1:t>e?1:0}function Vh(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Td(s)===Td(i)?re(s,i):Td(s)?1:-1}return re(t.length,e.length)}const PA=55296,jA=57343;function Td(t){const e=t.charCodeAt(0);return e>=PA&&e<=jA}function fi(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy="__name__";class dn{constructor(e,n,r){n===void 0?n=0:n>e.length&&Y(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Y(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return dn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof dn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=dn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return re(e.length,n.length)}static compareSegments(e,n){const r=dn.isNumericId(e),s=dn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?dn.extractNumericId(e).compare(dn.extractNumericId(n)):Vh(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Nr.fromString(e.substring(4,e.length-2))}}class me extends dn{construct(e,n,r){return new me(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new B(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new me(n)}static emptyPath(){return new me([])}}const DA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xe extends dn{construct(e,n,r){return new Xe(e,n,r)}static isValidIdentifier(e){return DA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Dy}static keyField(){return new Xe([Dy])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new B(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new B(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new B(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else u==="`"?(o=!o,s++):u!=="."||o?(r+=u,s++):(i(),s++)}if(i(),o)throw new B(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xe(n)}static emptyPath(){return new Xe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.path=e}static fromPath(e){return new K(me.fromString(e))}static fromName(e){return new K(me.fromString(e).popFirst(5))}static empty(){return new K(me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new K(new me(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(t,e,n){if(!n)throw new B(L.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function OA(t,e,n,r){if(e===!0&&r===!0)throw new B(L.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Oy(t){if(!K.isDocumentKey(t))throw new B(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Vy(t){if(K.isDocumentKey(t))throw new B(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function vw(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function tc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Y(12329,{type:typeof t})}function En(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new B(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tc(t);throw new B(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(t,e){const n={typeString:t};return e&&(n.value=e),n}function va(t,e){if(!vw(t))throw new B(L.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new B(L.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly=-62135596800,My=1e6;class _e{static now(){return _e.fromMillis(Date.now())}static fromDate(e){return _e.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*My);return new _e(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new B(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new B(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Ly)throw new B(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/My}_compareTo(e){return this.seconds===e.seconds?re(this.nanoseconds,e.nanoseconds):re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_e._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(va(e,_e._jsonSchema))return new _e(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ly;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_e._jsonSchemaVersion="firestore/timestamp/1.0",_e._jsonSchema={type:Le("string",_e._jsonSchemaVersion),seconds:Le("number"),nanoseconds:Le("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{static fromTimestamp(e){return new X(e)}static min(){return new X(new _e(0,0))}static max(){return new X(new _e(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo=-1;function VA(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=X.fromTimestamp(r===1e9?new _e(n+1,0):new _e(n,r));return new Pr(s,K.empty(),e)}function LA(t){return new Pr(t.readTime,t.key,Xo)}class Pr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Pr(X.min(),K.empty(),Xo)}static max(){return new Pr(X.max(),K.empty(),Xo)}}function MA(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=K.comparator(t.documentKey,e.documentKey),n!==0?n:re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ni(t){if(t.code!==L.FAILED_PRECONDITION||t.message!==FA)throw t;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Y(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let s=0,i=0,o=!1;e.forEach(u=>{++s,u.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(s=>s?F.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new F((r,s)=>{const i=e.length,o=new Array(i);let u=0;for(let c=0;c<i;c++){const d=c;n(e[d]).next(f=>{o[d]=f,++u,u===i&&r(o)},f=>s(f))}})}static doWhile(e,n){return new F((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function zA(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function bi(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}nc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm=-1;function rc(t){return t==null}function hu(t){return t===0&&1/t==-1/0}function $A(t){return typeof t=="number"&&Number.isInteger(t)&&!hu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="";function BA(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Fy(e)),e=qA(t.get(n),e);return Fy(e)}function qA(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case _w:n+="";break;default:n+=i}}return n}function Fy(t){return t+_w+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function zr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function xw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e,n){this.comparator=e,this.root=n||Je.EMPTY}insert(e,n){return new be(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Je.BLACK,null,null))}remove(e){return new be(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Je.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ll(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ll(this.root,e,this.comparator,!1)}getReverseIterator(){return new ll(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ll(this.root,e,this.comparator,!0)}}class ll{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Je{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Je.RED,this.left=s??Je.EMPTY,this.right=i??Je.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Je(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Je.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Je.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Je.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Y(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Y(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Y(27949);return e+(this.isRed()?0:1)}}Je.EMPTY=null,Je.RED=!0,Je.BLACK=!1;Je.EMPTY=new class{constructor(){this.size=0}get key(){throw Y(57766)}get value(){throw Y(16141)}get color(){throw Y(16727)}get left(){throw Y(29726)}get right(){throw Y(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Je(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.comparator=e,this.data=new be(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new zy(this.data.getIterator())}getIteratorFrom(e){return new zy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Be)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Be(this.comparator);return n.data=e,n}}class zy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.fields=e,e.sort(Xe.comparator)}static empty(){return new Rt([])}unionWith(e){let n=new Be(Xe.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Rt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fi(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new ww("Invalid base64 string: "+i):i}}(e);return new tt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new tt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tt.EMPTY_BYTE_STRING=new tt("");const HA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jr(t){if(ue(!!t,39018),typeof t=="string"){let e=0;const n=HA.exec(t);if(ue(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Re(t.seconds),nanos:Re(t.nanos)}}function Re(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Dr(t){return typeof t=="string"?tt.fromBase64String(t):tt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew="server_timestamp",Tw="__type__",Iw="__previous_value__",Sw="__local_write_time__";function hm(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Tw])==null?void 0:r.stringValue)===Ew}function sc(t){const e=t.mapValue.fields[Iw];return hm(e)?sc(e):e}function Zo(t){const e=jr(t.mapValue.fields[Sw].timestampValue);return new _e(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,n,r,s,i,o,u,c,d,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=f}}const fu="(default)";class ea{constructor(e,n){this.projectId=e,this.database=n||fu}static empty(){return new ea("","")}get isDefaultDatabase(){return this.database===fu}isEqual(e){return e instanceof ea&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="__type__",KA="__max__",ul={mapValue:{}},bw="__vector__",mu="value";function Or(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?hm(t)?4:QA(t)?9007199254740991:GA(t)?10:11:Y(28295,{value:t})}function Tn(t,e){if(t===e)return!0;const n=Or(t);if(n!==Or(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Zo(t).isEqual(Zo(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=jr(s.timestampValue),u=jr(i.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Dr(s.bytesValue).isEqual(Dr(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Re(s.geoPointValue.latitude)===Re(i.geoPointValue.latitude)&&Re(s.geoPointValue.longitude)===Re(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Re(s.integerValue)===Re(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Re(s.doubleValue),u=Re(i.doubleValue);return o===u?hu(o)===hu(u):isNaN(o)&&isNaN(u)}return!1}(t,e);case 9:return fi(t.arrayValue.values||[],e.arrayValue.values||[],Tn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},u=i.mapValue.fields||{};if(Uy(o)!==Uy(u))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(u[c]===void 0||!Tn(o[c],u[c])))return!1;return!0}(t,e);default:return Y(52216,{left:t})}}function ta(t,e){return(t.values||[]).find(n=>Tn(n,e))!==void 0}function mi(t,e){if(t===e)return 0;const n=Or(t),r=Or(e);if(n!==r)return re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return re(t.booleanValue,e.booleanValue);case 2:return function(i,o){const u=Re(i.integerValue||i.doubleValue),c=Re(o.integerValue||o.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(t,e);case 3:return $y(t.timestampValue,e.timestampValue);case 4:return $y(Zo(t),Zo(e));case 5:return Vh(t.stringValue,e.stringValue);case 6:return function(i,o){const u=Dr(i),c=Dr(o);return u.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const u=i.split("/"),c=o.split("/");for(let d=0;d<u.length&&d<c.length;d++){const f=re(u[d],c[d]);if(f!==0)return f}return re(u.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const u=re(Re(i.latitude),Re(o.latitude));return u!==0?u:re(Re(i.longitude),Re(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return By(t.arrayValue,e.arrayValue);case 10:return function(i,o){var g,T,k,C;const u=i.fields||{},c=o.fields||{},d=(g=u[mu])==null?void 0:g.arrayValue,f=(T=c[mu])==null?void 0:T.arrayValue,p=re(((k=d==null?void 0:d.values)==null?void 0:k.length)||0,((C=f==null?void 0:f.values)==null?void 0:C.length)||0);return p!==0?p:By(d,f)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===ul.mapValue&&o===ul.mapValue)return 0;if(i===ul.mapValue)return 1;if(o===ul.mapValue)return-1;const u=i.fields||{},c=Object.keys(u),d=o.fields||{},f=Object.keys(d);c.sort(),f.sort();for(let p=0;p<c.length&&p<f.length;++p){const g=Vh(c[p],f[p]);if(g!==0)return g;const T=mi(u[c[p]],d[f[p]]);if(T!==0)return T}return re(c.length,f.length)}(t.mapValue,e.mapValue);default:throw Y(23264,{he:n})}}function $y(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return re(t,e);const n=jr(t),r=jr(e),s=re(n.seconds,r.seconds);return s!==0?s:re(n.nanos,r.nanos)}function By(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=mi(n[s],r[s]);if(i)return i}return re(n.length,r.length)}function pi(t){return Lh(t)}function Lh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=jr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Dr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return K.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Lh(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Lh(n.fields[o])}`;return s+"}"}(t.mapValue):Y(61005,{value:t})}function Al(t){switch(Or(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sc(t);return e?16+Al(e):16;case 5:return 2*t.stringValue.length;case 6:return Dr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Al(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return zr(r.fields,(i,o)=>{s+=i.length+Al(o)}),s}(t.mapValue);default:throw Y(13486,{value:t})}}function qy(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Mh(t){return!!t&&"integerValue"in t}function fm(t){return!!t&&"arrayValue"in t}function Hy(t){return!!t&&"nullValue"in t}function Wy(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Cl(t){return!!t&&"mapValue"in t}function GA(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Nw])==null?void 0:r.stringValue)===bw}function No(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return zr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=No(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=No(t.arrayValue.values[n]);return e}return{...t}}function QA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===KA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.value=e}static empty(){return new Tt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Cl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=No(n)}setAll(e){let n=Xe.emptyPath(),r={},s=[];e.forEach((o,u)=>{if(!n.isImmediateParentOf(u)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=u.popLast()}o?r[u.lastSegment()]=No(o):s.push(u.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Cl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Tn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Cl(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){zr(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Tt(No(this.value))}}function kw(t){const e=[];return zr(t.fields,(n,r)=>{const s=new Xe([n]);if(Cl(r)){const i=kw(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Rt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n,r,s,i,o,u){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=u}static newInvalidDocument(e){return new ct(e,0,X.min(),X.min(),X.min(),Tt.empty(),0)}static newFoundDocument(e,n,r,s){return new ct(e,1,n,X.min(),r,s,0)}static newNoDocument(e,n){return new ct(e,2,n,X.min(),X.min(),Tt.empty(),0)}static newUnknownDocument(e,n){return new ct(e,3,n,X.min(),X.min(),Tt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(X.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=X.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ct&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ct(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,n){this.position=e,this.inclusive=n}}function Ky(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=K.comparator(K.fromName(o.referenceValue),n.key):r=mi(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Gy(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Tn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n="asc"){this.field=e,this.dir=n}}function YA(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{}class Ve extends Aw{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new XA(e,n,r):n==="array-contains"?new tC(e,r):n==="in"?new nC(e,r):n==="not-in"?new rC(e,r):n==="array-contains-any"?new sC(e,r):new Ve(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ZA(e,r):new eC(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(mi(n,this.value)):n!==null&&Or(this.value)===Or(n)&&this.matchesComparison(mi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Y(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nn extends Aw{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new nn(e,n)}matches(e){return Cw(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Cw(t){return t.op==="and"}function Rw(t){return JA(t)&&Cw(t)}function JA(t){for(const e of t.filters)if(e instanceof nn)return!1;return!0}function Fh(t){if(t instanceof Ve)return t.field.canonicalString()+t.op.toString()+pi(t.value);if(Rw(t))return t.filters.map(e=>Fh(e)).join(",");{const e=t.filters.map(n=>Fh(n)).join(",");return`${t.op}(${e})`}}function Pw(t,e){return t instanceof Ve?function(r,s){return s instanceof Ve&&r.op===s.op&&r.field.isEqual(s.field)&&Tn(r.value,s.value)}(t,e):t instanceof nn?function(r,s){return s instanceof nn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,u)=>i&&Pw(o,s.filters[u]),!0):!1}(t,e):void Y(19439)}function jw(t){return t instanceof Ve?function(n){return`${n.field.canonicalString()} ${n.op} ${pi(n.value)}`}(t):t instanceof nn?function(n){return n.op.toString()+" {"+n.getFilters().map(jw).join(" ,")+"}"}(t):"Filter"}class XA extends Ve{constructor(e,n,r){super(e,n,r),this.key=K.fromName(r.referenceValue)}matches(e){const n=K.comparator(e.key,this.key);return this.matchesComparison(n)}}class ZA extends Ve{constructor(e,n){super(e,"in",n),this.keys=Dw("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class eC extends Ve{constructor(e,n){super(e,"not-in",n),this.keys=Dw("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Dw(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>K.fromName(r.referenceValue))}class tC extends Ve{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return fm(n)&&ta(n.arrayValue,this.value)}}class nC extends Ve{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ta(this.value.arrayValue,n)}}class rC extends Ve{constructor(e,n){super(e,"not-in",n)}matches(e){if(ta(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ta(this.value.arrayValue,n)}}class sC extends Ve{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!fm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ta(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,n=null,r=[],s=[],i=null,o=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=u,this.Te=null}}function Qy(t,e=null,n=[],r=[],s=null,i=null,o=null){return new iC(t,e,n,r,s,i,o)}function mm(t){const e=Z(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Fh(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),rc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>pi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>pi(r)).join(",")),e.Te=n}return e.Te}function pm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!YA(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Pw(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Gy(t.startAt,e.startAt)&&Gy(t.endAt,e.endAt)}function Uh(t){return K.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,n=null,r=[],s=[],i=null,o="F",u=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=u,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function oC(t,e,n,r,s,i,o,u){return new ki(t,e,n,r,s,i,o,u)}function gm(t){return new ki(t)}function Yy(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Ow(t){return t.collectionGroup!==null}function bo(t){const e=Z(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let u=new Be(Xe.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(u=u.add(d.field))})}),u})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new na(i,r))}),n.has(Xe.keyField().canonicalString())||e.Ie.push(new na(Xe.keyField(),r))}return e.Ie}function gn(t){const e=Z(t);return e.Ee||(e.Ee=aC(e,bo(t))),e.Ee}function aC(t,e){if(t.limitType==="F")return Qy(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new na(s.field,i)});const n=t.endAt?new pu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new pu(t.startAt.position,t.startAt.inclusive):null;return Qy(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function zh(t,e){const n=t.filters.concat([e]);return new ki(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function $h(t,e,n){return new ki(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ic(t,e){return pm(gn(t),gn(e))&&t.limitType===e.limitType}function Vw(t){return`${mm(gn(t))}|lt:${t.limitType}`}function Cs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>jw(s)).join(", ")}]`),rc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>pi(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>pi(s)).join(",")),`Target(${r})`}(gn(t))}; limitType=${t.limitType})`}function oc(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):K.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of bo(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,u,c){const d=Ky(o,u,c);return o.inclusive?d<=0:d<0}(r.startAt,bo(r),s)||r.endAt&&!function(o,u,c){const d=Ky(o,u,c);return o.inclusive?d>=0:d>0}(r.endAt,bo(r),s))}(t,e)}function lC(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Lw(t){return(e,n)=>{let r=!1;for(const s of bo(t)){const i=uC(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function uC(t,e,n){const r=t.field.isKeyField()?K.comparator(e.key,n.key):function(i,o,u){const c=o.data.field(i),d=u.data.field(i);return c!==null&&d!==null?mi(c,d):Y(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Y(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){zr(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return xw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=new be(K.comparator);function Hn(){return cC}const Mw=new be(K.comparator);function fo(...t){let e=Mw;for(const n of t)e=e.insert(n.key,n);return e}function Fw(t){let e=Mw;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ns(){return ko()}function Uw(){return ko()}function ko(){return new xs(t=>t.toString(),(t,e)=>t.isEqual(e))}const dC=new be(K.comparator),hC=new Be(K.comparator);function se(...t){let e=hC;for(const n of t)e=e.add(n);return e}const fC=new Be(re);function mC(){return fC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hu(e)?"-0":e}}function zw(t){return{integerValue:""+t}}function pC(t,e){return $A(e)?zw(e):ym(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(){this._=void 0}}function gC(t,e,n){return t instanceof ra?function(s,i){const o={fields:{[Tw]:{stringValue:Ew},[Sw]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&hm(i)&&(i=sc(i)),i&&(o.fields[Iw]=i),{mapValue:o}}(n,e):t instanceof sa?Bw(t,e):t instanceof ia?qw(t,e):function(s,i){const o=$w(s,i),u=Jy(o)+Jy(s.Ae);return Mh(o)&&Mh(s.Ae)?zw(u):ym(s.serializer,u)}(t,e)}function yC(t,e,n){return t instanceof sa?Bw(t,e):t instanceof ia?qw(t,e):n}function $w(t,e){return t instanceof gu?function(r){return Mh(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class ra extends ac{}class sa extends ac{constructor(e){super(),this.elements=e}}function Bw(t,e){const n=Hw(e);for(const r of t.elements)n.some(s=>Tn(s,r))||n.push(r);return{arrayValue:{values:n}}}class ia extends ac{constructor(e){super(),this.elements=e}}function qw(t,e){let n=Hw(e);for(const r of t.elements)n=n.filter(s=>!Tn(s,r));return{arrayValue:{values:n}}}class gu extends ac{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Jy(t){return Re(t.integerValue||t.doubleValue)}function Hw(t){return fm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e,n){this.field=e,this.transform=n}}function _C(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof sa&&s instanceof sa||r instanceof ia&&s instanceof ia?fi(r.elements,s.elements,Tn):r instanceof gu&&s instanceof gu?Tn(r.Ae,s.Ae):r instanceof ra&&s instanceof ra}(t.transform,e.transform)}class xC{constructor(e,n){this.version=e,this.transformResults=n}}class Zt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zt}static exists(e){return new Zt(void 0,e)}static updateTime(e){return new Zt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class lc{}function Ww(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new vm(t.key,Zt.none()):new _a(t.key,t.data,Zt.none());{const n=t.data,r=Tt.empty();let s=new Be(Xe.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new $r(t.key,r,new Rt(s.toArray()),Zt.none())}}function wC(t,e,n){t instanceof _a?function(s,i,o){const u=s.value.clone(),c=Zy(s.fieldTransforms,i,o.transformResults);u.setAll(c),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):t instanceof $r?function(s,i,o){if(!Rl(s.precondition,i))return void i.convertToUnknownDocument(o.version);const u=Zy(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(Kw(s)),c.setAll(u),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ao(t,e,n,r){return t instanceof _a?function(i,o,u,c){if(!Rl(i.precondition,o))return u;const d=i.value.clone(),f=e0(i.fieldTransforms,c,o);return d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof $r?function(i,o,u,c){if(!Rl(i.precondition,o))return u;const d=e0(i.fieldTransforms,c,o),f=o.data;return f.setAll(Kw(i)),f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),u===null?null:u.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(i,o,u){return Rl(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u}(t,e,n)}function EC(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=$w(r.transform,s||null);i!=null&&(n===null&&(n=Tt.empty()),n.set(r.field,i))}return n||null}function Xy(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&fi(r,s,(i,o)=>_C(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class _a extends lc{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class $r extends lc{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Kw(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Zy(t,e,n){const r=new Map;ue(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,u=e.data.field(i.field);r.set(i.field,yC(o,u,n[s]))}return r}function e0(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,gC(i,o,e))}return r}class vm extends lc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TC extends lc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&wC(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ao(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ao(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Uw();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let u=this.applyToLocalView(o,i.mutatedFields);u=n.has(s.key)?null:u;const c=Ww(o,u);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(X.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),se())}isEqual(e){return this.batchId===e.batchId&&fi(this.mutations,e.mutations,(n,r)=>Xy(n,r))&&fi(this.baseMutations,e.baseMutations,(n,r)=>Xy(n,r))}}class _m{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ue(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return dC}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new _m(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De,ie;function bC(t){switch(t){case L.OK:return Y(64938);case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0;default:return Y(15467,{code:t})}}function Gw(t){if(t===void 0)return qn("GRPC error has no .code"),L.UNKNOWN;switch(t){case De.OK:return L.OK;case De.CANCELLED:return L.CANCELLED;case De.UNKNOWN:return L.UNKNOWN;case De.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case De.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case De.INTERNAL:return L.INTERNAL;case De.UNAVAILABLE:return L.UNAVAILABLE;case De.UNAUTHENTICATED:return L.UNAUTHENTICATED;case De.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case De.NOT_FOUND:return L.NOT_FOUND;case De.ALREADY_EXISTS:return L.ALREADY_EXISTS;case De.PERMISSION_DENIED:return L.PERMISSION_DENIED;case De.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case De.ABORTED:return L.ABORTED;case De.OUT_OF_RANGE:return L.OUT_OF_RANGE;case De.UNIMPLEMENTED:return L.UNIMPLEMENTED;case De.DATA_LOSS:return L.DATA_LOSS;default:return Y(39323,{code:t})}}(ie=De||(De={}))[ie.OK=0]="OK",ie[ie.CANCELLED=1]="CANCELLED",ie[ie.UNKNOWN=2]="UNKNOWN",ie[ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ie[ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ie[ie.NOT_FOUND=5]="NOT_FOUND",ie[ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",ie[ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",ie[ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",ie[ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ie[ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ie[ie.ABORTED=10]="ABORTED",ie[ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",ie[ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",ie[ie.INTERNAL=13]="INTERNAL",ie[ie.UNAVAILABLE=14]="UNAVAILABLE",ie[ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=new Nr([4294967295,4294967295],0);function t0(t){const e=kC().encode(t),n=new uw;return n.update(e),new Uint8Array(n.digest())}function n0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Nr([n,r],0),new Nr([s,i],0)]}class xm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new mo(`Invalid padding: ${n}`);if(r<0)throw new mo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new mo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new mo(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Nr.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Nr.fromNumber(r)));return s.compare(AC)===1&&(s=new Nr([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=t0(e),[r,s]=n0(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new xm(i,s,n);return r.forEach(u=>o.insert(u)),o}insert(e){if(this.ge===0)return;const n=t0(e),[r,s]=n0(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class mo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,xa.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new uc(X.min(),s,new be(re),Hn(),se())}}class xa{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new xa(r,n,se(),se(),se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class Qw{constructor(e,n){this.targetId=e,this.Ce=n}}class Yw{constructor(e,n,r=tt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class r0{constructor(){this.ve=0,this.Fe=s0(),this.Me=tt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=se(),n=se(),r=se();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Y(38017,{changeType:i})}}),new xa(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=s0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ue(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class CC{constructor(e){this.Ge=e,this.ze=new Map,this.je=Hn(),this.Je=cl(),this.He=cl(),this.Ye=new be(re)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Y(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Uh(i))if(r===0){const o=new K(i.path);this.et(n,o,ct.newNoDocument(o,X.min()))}else ue(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const u=this.ut(e),c=u?this.ct(u,e,o):1;if(c!==0){this.it(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,u;try{o=Dr(r).toUint8Array()}catch(c){if(c instanceof ww)return hi("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new xm(o,s,i)}catch(c){return hi(c instanceof mo?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),u=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(u)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const u=this.ot(o);if(u){if(i.current&&Uh(u.target)){const c=new K(u.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,ct.newNoDocument(c,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=se();this.He.forEach((i,o)=>{let u=!0;o.forEachWhile(c=>{const d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new uc(e,n,this.Ye,this.je,r);return this.je=Hn(),this.Je=cl(),this.He=cl(),this.Ye=new be(re),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new r0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Be(re),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Be(re),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new r0),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function cl(){return new be(K.comparator)}function s0(){return new be(K.comparator)}const RC={asc:"ASCENDING",desc:"DESCENDING"},PC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jC={and:"AND",or:"OR"};class DC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Bh(t,e){return t.useProto3Json||rc(e)?e:{value:e}}function yu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Jw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function OC(t,e){return yu(t,e.toTimestamp())}function yn(t){return ue(!!t,49232),X.fromTimestamp(function(n){const r=jr(n);return new _e(r.seconds,r.nanos)}(t))}function wm(t,e){return qh(t,e).canonicalString()}function qh(t,e){const n=function(s){return new me(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Xw(t){const e=me.fromString(t);return ue(r1(e),10190,{key:e.toString()}),e}function Hh(t,e){return wm(t.databaseId,e.path)}function Id(t,e){const n=Xw(e);if(n.get(1)!==t.databaseId.projectId)throw new B(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new B(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new K(e1(n))}function Zw(t,e){return wm(t.databaseId,e)}function VC(t){const e=Xw(t);return e.length===4?me.emptyPath():e1(e)}function Wh(t){return new me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function e1(t){return ue(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function i0(t,e,n){return{name:Hh(t,e),fields:n.value.mapValue.fields}}function LC(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Y(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,f){return d.useProto3Json?(ue(f===void 0||typeof f=="string",58123),tt.fromBase64String(f||"")):(ue(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),tt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,u=o&&function(d){const f=d.code===void 0?L.UNKNOWN:Gw(d.code);return new B(f,d.message||"")}(o);n=new Yw(r,s,i,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Id(t,r.document.name),i=yn(r.document.updateTime),o=r.document.createTime?yn(r.document.createTime):X.min(),u=new Tt({mapValue:{fields:r.document.fields}}),c=ct.newFoundDocument(s,i,o,u),d=r.targetIds||[],f=r.removedTargetIds||[];n=new Pl(d,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Id(t,r.document),i=r.readTime?yn(r.readTime):X.min(),o=ct.newNoDocument(s,i),u=r.removedTargetIds||[];n=new Pl([],u,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Id(t,r.document),i=r.removedTargetIds||[];n=new Pl([],i,s,null)}else{if(!("filter"in e))return Y(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new NC(s,i),u=r.targetId;n=new Qw(u,o)}}return n}function MC(t,e){let n;if(e instanceof _a)n={update:i0(t,e.key,e.value)};else if(e instanceof vm)n={delete:Hh(t,e.key)};else if(e instanceof $r)n={update:i0(t,e.key,e.data),updateMask:KC(e.fieldMask)};else{if(!(e instanceof TC))return Y(16599,{Vt:e.type});n={verify:Hh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const u=o.transform;if(u instanceof ra)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof sa)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof ia)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof gu)return{fieldPath:o.field.canonicalString(),increment:u.Ae};throw Y(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:OC(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Y(27497)}(t,e.precondition)),n}function FC(t,e){return t&&t.length>0?(ue(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?yn(s.updateTime):yn(i);return o.isEqual(X.min())&&(o=yn(i)),new xC(o,s.transformResults||[])}(n,e))):[]}function UC(t,e){return{documents:[Zw(t,e.path)]}}function zC(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Zw(t,s);const i=function(d){if(d.length!==0)return n1(nn.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(f=>function(g){return{field:Rs(g.field),direction:qC(g.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const u=Bh(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:s}}function $C(t){let e=VC(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ue(r===1,65062);const f=n.from[0];f.allDescendants?s=f.collectionId:e=e.child(f.collectionId)}let i=[];n.where&&(i=function(p){const g=t1(p);return g instanceof nn&&Rw(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(g=>function(k){return new na(Ps(k.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(g))}(n.orderBy));let u=null;n.limit&&(u=function(p){let g;return g=typeof p=="object"?p.value:p,rc(g)?null:g}(n.limit));let c=null;n.startAt&&(c=function(p){const g=!!p.before,T=p.values||[];return new pu(T,g)}(n.startAt));let d=null;return n.endAt&&(d=function(p){const g=!p.before,T=p.values||[];return new pu(T,g)}(n.endAt)),oC(e,s,o,i,u,"F",c,d)}function BC(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function t1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ps(n.unaryFilter.field);return Ve.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ps(n.unaryFilter.field);return Ve.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ps(n.unaryFilter.field);return Ve.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ps(n.unaryFilter.field);return Ve.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Y(61313);default:return Y(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ve.create(Ps(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Y(58110);default:return Y(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return nn.create(n.compositeFilter.filters.map(r=>t1(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Y(1026)}}(n.compositeFilter.op))}(t):Y(30097,{filter:t})}function qC(t){return RC[t]}function HC(t){return PC[t]}function WC(t){return jC[t]}function Rs(t){return{fieldPath:t.canonicalString()}}function Ps(t){return Xe.fromServerFormat(t.fieldPath)}function n1(t){return t instanceof Ve?function(n){if(n.op==="=="){if(Wy(n.value))return{unaryFilter:{field:Rs(n.field),op:"IS_NAN"}};if(Hy(n.value))return{unaryFilter:{field:Rs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Wy(n.value))return{unaryFilter:{field:Rs(n.field),op:"IS_NOT_NAN"}};if(Hy(n.value))return{unaryFilter:{field:Rs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rs(n.field),op:HC(n.op),value:n.value}}}(t):t instanceof nn?function(n){const r=n.getFilters().map(s=>n1(s));return r.length===1?r[0]:{compositeFilter:{op:WC(n.op),filters:r}}}(t):Y(54877,{filter:t})}function KC(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function r1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,n,r,s,i=X.min(),o=X.min(),u=tt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new fr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e){this.yt=e}}function QC(t){const e=$C({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?$h(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(){this.Cn=new JC}addToCollectionParentIndex(e,n){return this.Cn.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(Pr.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(Pr.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class JC{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Be(me.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Be(me.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},s1=41943040;class wt{static withCacheSize(e){return new wt(e,wt.DEFAULT_COLLECTION_PERCENTILE,wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wt.DEFAULT_COLLECTION_PERCENTILE=10,wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wt.DEFAULT=new wt(s1,wt.DEFAULT_COLLECTION_PERCENTILE,wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wt.DISABLED=new wt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new gi(0)}static cr(){return new gi(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="LruGarbageCollector",XC=1048576;function l0([t,e],[n,r]){const s=re(t,n);return s===0?re(e,r):s}class ZC{constructor(e){this.Ir=e,this.buffer=new Be(l0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();l0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class eR{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){q(a0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){bi(n)?q(a0,"Ignoring IndexedDB error during garbage collection: ",n):await Ni(n)}await this.Vr(3e5)})}}class tR{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return F.resolve(nc.ce);const r=new ZC(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(o0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),o0):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,u,c,d;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,o=Date.now(),this.nthSequenceNumber(e,s))).next(p=>(r=p,u=Date.now(),this.removeTargets(e,r,n))).next(p=>(i=p,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(d=Date.now(),As()<=ne.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${s} in `+(u-o)+`ms
	Removed ${i} targets in `+(c-u)+`ms
	Removed ${p} documents in `+(d-c)+`ms
Total Duration: ${d-f}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p})))}}function nR(t,e){return new tR(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(){this.changes=new xs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ct.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Ao(r.mutation,s,Rt.empty(),_e.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=se()){const s=ns();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=fo();return i.forEach((u,c)=>{o=o.insert(u,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ns();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,se()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,u)=>{n.set(o,u)})})}computeViews(e,n,r,s){let i=Hn();const o=ko(),u=function(){return ko()}();return n.forEach((c,d)=>{const f=r.get(d.key);s.has(d.key)&&(f===void 0||f.mutation instanceof $r)?i=i.insert(d.key,d):f!==void 0?(o.set(d.key,f.mutation.getFieldMask()),Ao(f.mutation,d,f.mutation.getFieldMask(),_e.now())):o.set(d.key,Rt.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((d,f)=>o.set(d,f)),n.forEach((d,f)=>u.set(d,new sR(f,o.get(d)??null))),u))}recalculateAndSaveOverlays(e,n){const r=ko();let s=new be((o,u)=>o-u),i=se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const u of o)u.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let f=r.get(c)||Rt.empty();f=u.applyToLocalView(d,f),r.set(c,f);const p=(s.get(u.batchId)||se()).add(c);s=s.insert(u.batchId,p)})}).next(()=>{const o=[],u=s.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),d=c.key,f=c.value,p=Uw();f.forEach(g=>{if(!i.has(g)){const T=Ww(n.get(g),r.get(g));T!==null&&p.set(g,T),i=i.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,p))}return F.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return K.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Ow(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):F.resolve(ns());let u=Xo,c=i;return o.next(d=>F.forEach(d,(f,p)=>(u<p.largestBatchId&&(u=p.largestBatchId),i.get(f)?F.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{c=c.insert(f,g)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,c,d,se())).next(f=>({batchId:u,changes:Fw(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new K(n)).next(r=>{let s=fo();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=fo();return this.indexManager.getCollectionParents(e,i).next(u=>F.forEach(u,c=>{const d=function(p,g){return new ki(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(f=>{f.forEach((p,g)=>{o=o.insert(p,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,d)=>{const f=d.getKey();o.get(f)===null&&(o=o.insert(f,ct.newInvalidDocument(f)))});let u=fo();return o.forEach((c,d)=>{const f=i.get(c);f!==void 0&&Ao(f.mutation,d,Rt.empty(),_e.now()),oc(n,d)&&(u=u.insert(c,d))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return F.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:yn(s.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:QC(s.bundledQuery),readTime:yn(s.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(){this.overlays=new be(K.comparator),this.qr=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ns();return F.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const s=ns(),i=n.length+1,o=new K(n.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const c=u.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return F.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new be((d,f)=>d-f);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let f=i.get(d.largestBatchId);f===null&&(f=ns(),i=i.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const u=ns(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,f)=>u.set(d,f)),!(u.size()>=s)););return F.resolve(u)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new SC(n,r));let i=this.qr.get(n);i===void 0&&(i=se(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(){this.sessionToken=tt.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(){this.Qr=new Be(We.$r),this.Ur=new Be(We.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new We(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new We(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new K(new me([])),r=new We(n,e),s=new We(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new K(new me([])),r=new We(n,e),s=new We(n,e+1);let i=se();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new We(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class We{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return K.comparator(e.key,n.key)||re(e.Yr,n.Yr)}static Kr(e,n){return re(e.Yr,n.Yr)||K.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Be(We.$r)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new IC(i,n,r,s);this.mutationQueue.push(o);for(const u of s)this.Zr=this.Zr.add(new We(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return F.resolve(o)}lookupMutationBatch(e,n){return F.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return F.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?dm:this.tr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new We(n,0),s=new We(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const u=this.Xr(o.Yr);i.push(u)}),F.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Be(re);return n.forEach(s=>{const i=new We(s,0),o=new We(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],u=>{r=r.add(u.Yr)})}),F.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;K.isDocumentKey(i)||(i=i.child(""));const o=new We(new K(i),0);let u=new Be(re);return this.Zr.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(u=u.add(c.Yr)),!0)},o),F.resolve(this.ti(u))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ue(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return F.forEach(n.mutations,s=>{const i=new We(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new We(n,0),s=this.Zr.firstAfterOrEqual(r);return F.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e){this.ri=e,this.docs=function(){return new be(K.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():ct.newInvalidDocument(n))}getEntries(e,n){let r=Hn();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():ct.newInvalidDocument(s))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Hn();const o=n.path,u=new K(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:d,value:{document:f}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||MA(LA(f),r)<=0||(s.has(f.key)||oc(n,f))&&(i=i.insert(f.key,f.mutableCopy()))}return F.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Y(9500)}ii(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new dR(this)}getSize(e){return F.resolve(this.size)}}class dR extends rR{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e){this.persistence=e,this.si=new xs(n=>mm(n),pm),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this.oi=0,this._i=new Em,this.targetCount=0,this.ai=gi.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),F.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new gi(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Pr(n),F.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)}),F.waitFor(i).next(()=>s)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),F.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,n){this.ui={},this.overlays={},this.ci=new nc(0),this.li=!1,this.li=!0,this.hi=new lR,this.referenceDelegate=e(this),this.Pi=new hR(this),this.indexManager=new YC,this.remoteDocumentCache=function(s){return new cR(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new GC(n),this.Ii=new oR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new aR,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new uR(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){q("MemoryPersistence","Starting transaction:",e);const s=new fR(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return F.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class fR extends UA{constructor(e){super(),this.currentSequenceNumber=e}}class Tm{constructor(e){this.persistence=e,this.Ri=new Em,this.Vi=null}static mi(e){return new Tm(e)}get fi(){if(this.Vi)return this.Vi;throw Y(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),F.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.fi,r=>{const s=K.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,X.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return F.or([()=>F.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class vu{constructor(e,n){this.persistence=e,this.pi=new xs(r=>BA(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=nR(this,n)}static mi(e,n){return new vu(e,n)}Ei(){}di(e){return F.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return F.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?F.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(u=>{u||(r++,i.removeEntry(o,X.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),F.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),F.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),F.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Al(e.data.value)),n}br(e,n,r){return F.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return F.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=se(),s=se();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Im(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return sk()?8:zA(ht())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new mR;return this.Ss(e,n,o).next(u=>{if(i.result=u,this.Vs)return this.bs(e,n,o,u.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(As()<=ne.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",Cs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),F.resolve()):(As()<=ne.DEBUG&&q("QueryEngine","Query:",Cs(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(As()<=ne.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",Cs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gn(n))):F.resolve())}ys(e,n){if(Yy(n))return F.resolve(null);let r=gn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=$h(n,null,"F"),r=gn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=se(...i);return this.ps.getDocuments(e,o).next(u=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.Ds(n,u);return this.Cs(n,d,o,c.readTime)?this.ys(e,$h(n,null,"F")):this.vs(e,d,n,c)}))})))}ws(e,n,r,s){return Yy(n)||s.isEqual(X.min())?F.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?F.resolve(null):(As()<=ne.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Cs(n)),this.vs(e,o,n,VA(s,Xo)).next(u=>u))})}Ds(e,n){let r=new Be(Lw(e));return n.forEach((s,i)=>{oc(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return As()<=ne.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",Cs(n)),this.ps.getDocumentsMatchingQuery(e,n,Pr.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm="LocalStore",gR=3e8;class yR{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new be(re),this.xs=new xs(i=>mm(i),pm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function vR(t,e,n,r){return new yR(t,e,n,r)}async function o1(t,e){const n=Z(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],u=[];let c=se();for(const d of s){o.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}for(const d of i){u.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(r,c).next(d=>({Ls:d,removedBatchIds:o,addedBatchIds:u}))})})}function _R(t,e){const n=Z(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(u,c,d,f){const p=d.batch,g=p.keys();let T=F.resolve();return g.forEach(k=>{T=T.next(()=>f.getEntry(c,k)).next(C=>{const R=d.docVersions.get(k);ue(R!==null,48541),C.version.compareTo(R)<0&&(p.applyToRemoteDocument(C,d),C.isValidDocument()&&(C.setReadTime(d.commitVersion),f.addEntry(C)))})}),T.next(()=>u.mutationQueue.removeMutationBatch(c,p))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let c=se();for(let d=0;d<u.mutationResults.length;++d)u.mutationResults[d].transformResults.length>0&&(c=c.add(u.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function a1(t){const e=Z(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function xR(t,e){const n=Z(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const u=[];e.targetChanges.forEach((f,p)=>{const g=s.get(p);if(!g)return;u.push(n.Pi.removeMatchingKeys(i,f.removedDocuments,p).next(()=>n.Pi.addMatchingKeys(i,f.addedDocuments,p)));let T=g.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?T=T.withResumeToken(tt.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):f.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(f.resumeToken,r)),s=s.insert(p,T),function(C,R,w){return C.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=gR?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(g,T,f)&&u.push(n.Pi.updateTargetData(i,T))});let c=Hn(),d=se();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(i,f))}),u.push(wR(i,o,e.documentUpdates).next(f=>{c=f.ks,d=f.qs})),!r.isEqual(X.min())){const f=n.Pi.getLastRemoteSnapshotVersion(i).next(p=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));u.push(f)}return F.waitFor(u).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,d)).next(()=>c)}).then(i=>(n.Ms=s,i))}function wR(t,e,n){let r=se(),s=se();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Hn();return n.forEach((u,c)=>{const d=i.get(u);c.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(u)),c.isNoDocument()&&c.version.isEqual(X.min())?(e.removeEntry(u,c.readTime),o=o.insert(u,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(u,c)):q(Sm,"Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",c.version)}),{ks:o,qs:s}})}function ER(t,e){const n=Z(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=dm),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function TR(t,e){const n=Z(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,F.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new fr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Kh(t,e,n){const r=Z(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!bi(o))throw o;q(Sm,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function u0(t,e,n){const r=Z(t);let s=X.min(),i=se();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,d,f){const p=Z(c),g=p.xs.get(f);return g!==void 0?F.resolve(p.Ms.get(g)):p.Pi.getTargetData(d,f)}(r,o,gn(e)).next(u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,u.targetId).next(c=>{i=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:X.min(),n?i:se())).next(u=>(IR(r,lC(e),u),{documents:u,Qs:i})))}function IR(t,e,n){let r=t.Os.get(e)||X.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class c0{constructor(){this.activeTargetIds=mC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class SR{constructor(){this.Mo=new c0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new c0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="ConnectivityMonitor";class h0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){q(d0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){q(d0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dl=null;function Gh(){return dl===null?dl=function(){return 268435456+Math.round(2147483648*Math.random())}():dl++,"0x"+dl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd="RestConnection",bR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===fu?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=Gh(),u=this.zo(e,n.toUriEncodedString());q(Sd,`Sending RPC '${e}' ${o}:`,u,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:d}=new URL(u),f=vs(d);return this.Jo(e,u,c,r,f).then(p=>(q(Sd,`Received RPC '${e}' ${o}: `,p),p),p=>{throw hi(Sd,`RPC '${e}' ${o} failed with error: `,p,"url: ",u,"request:",r),p})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Si}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=bR[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const at="WebChannelConnection";class CR extends kR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=Gh();return new Promise((u,c)=>{const d=new cw;d.setWithCredentials(!0),d.listenOnce(dw.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case kl.NO_ERROR:const p=d.getResponseJson();q(at,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),u(p);break;case kl.TIMEOUT:q(at,`RPC '${e}' ${o} timed out`),c(new B(L.DEADLINE_EXCEEDED,"Request time out"));break;case kl.HTTP_ERROR:const g=d.getStatus();if(q(at,`RPC '${e}' ${o} failed with status:`,g,"response text:",d.getResponseText()),g>0){let T=d.getResponseJson();Array.isArray(T)&&(T=T[0]);const k=T==null?void 0:T.error;if(k&&k.status&&k.message){const C=function(w){const v=w.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(v)>=0?v:L.UNKNOWN}(k.status);c(new B(C,k.message))}else c(new B(L.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new B(L.UNAVAILABLE,"Connection failed."));break;default:Y(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{q(at,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(s);q(at,`RPC '${e}' ${o} sending request:`,s),d.send(n,"POST",f,r,15)})}T_(e,n,r){const s=Gh(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=mw(),u=fw(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const f=i.join("");q(at,`Creating RPC '${e}' stream ${s}: ${f}`,c);const p=o.createWebChannel(f,c);this.I_(p);let g=!1,T=!1;const k=new AR({Yo:R=>{T?q(at,`Not sending because RPC '${e}' stream ${s} is closed:`,R):(g||(q(at,`Opening RPC '${e}' stream ${s} transport.`),p.open(),g=!0),q(at,`RPC '${e}' stream ${s} sending:`,R),p.send(R))},Zo:()=>p.close()}),C=(R,w,v)=>{R.listen(w,E=>{try{v(E)}catch(S){setTimeout(()=>{throw S},0)}})};return C(p,ho.EventType.OPEN,()=>{T||(q(at,`RPC '${e}' stream ${s} transport opened.`),k.o_())}),C(p,ho.EventType.CLOSE,()=>{T||(T=!0,q(at,`RPC '${e}' stream ${s} transport closed`),k.a_(),this.E_(p))}),C(p,ho.EventType.ERROR,R=>{T||(T=!0,hi(at,`RPC '${e}' stream ${s} transport errored. Name:`,R.name,"Message:",R.message),k.a_(new B(L.UNAVAILABLE,"The operation could not be completed")))}),C(p,ho.EventType.MESSAGE,R=>{var w;if(!T){const v=R.data[0];ue(!!v,16349);const E=v,S=(E==null?void 0:E.error)||((w=E[0])==null?void 0:w.error);if(S){q(at,`RPC '${e}' stream ${s} received error:`,S);const V=S.status;let M=function(I){const b=De[I];if(b!==void 0)return Gw(b)}(V),x=S.message;M===void 0&&(M=L.INTERNAL,x="Unknown error status: "+V+" with message "+S.message),T=!0,k.a_(new B(M,x)),p.close()}else q(at,`RPC '${e}' stream ${s} received:`,v),k.u_(v)}}),C(u,hw.STAT_EVENT,R=>{R.stat===Oh.PROXY?q(at,`RPC '${e}' stream ${s} detected buffering proxy`):R.stat===Oh.NOPROXY&&q(at,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{k.__()},0),k}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Nd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cc(t){return new DC(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&q("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="PersistentStream";class u1{constructor(e,n,r,s,i,o,u,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new l1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(qn(n.toString()),qn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new B(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return q(f0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(q(f0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class RR extends u1{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=LC(this.serializer,e),r=function(i){if(!("targetChange"in i))return X.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?X.min():o.readTime?yn(o.readTime):X.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Wh(this.serializer),n.addTarget=function(i,o){let u;const c=o.target;if(u=Uh(c)?{documents:UC(i,c)}:{query:zC(i,c).ft},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){u.resumeToken=Jw(i,o.resumeToken);const d=Bh(i,o.expectedCount);d!==null&&(u.expectedCount=d)}else if(o.snapshotVersion.compareTo(X.min())>0){u.readTime=yu(i,o.snapshotVersion.toTimestamp());const d=Bh(i,o.expectedCount);d!==null&&(u.expectedCount=d)}return u}(this.serializer,e);const r=BC(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Wh(this.serializer),n.removeTarget=e,this.q_(n)}}class PR extends u1{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ue(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ue(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ue(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=FC(e.writeResults,e.commitTime),r=yn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Wh(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>MC(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{}class DR extends jR{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new B(L.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,qh(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new B(L.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Ho(e,qh(n,r),s,o,u,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new B(L.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class OR{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(qn(n),this.aa=!1):q("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms="RemoteStore";class VR{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{ws(this)&&(q(ms,"Restarting streams for network reachability change."),await async function(c){const d=Z(c);d.Ea.add(4),await wa(d),d.Ra.set("Unknown"),d.Ea.delete(4),await dc(d)}(this))})}),this.Ra=new OR(r,s)}}async function dc(t){if(ws(t))for(const e of t.da)await e(!0)}async function wa(t){for(const e of t.da)await e(!1)}function c1(t,e){const n=Z(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Am(n)?km(n):Ai(n).O_()&&bm(n,e))}function Nm(t,e){const n=Z(t),r=Ai(n);n.Ia.delete(e),r.O_()&&d1(n,e),n.Ia.size===0&&(r.O_()?r.L_():ws(n)&&n.Ra.set("Unknown"))}function bm(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(X.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ai(t).Y_(e)}function d1(t,e){t.Va.Ue(e),Ai(t).Z_(e)}function km(t){t.Va=new CC({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ai(t).start(),t.Ra.ua()}function Am(t){return ws(t)&&!Ai(t).x_()&&t.Ia.size>0}function ws(t){return Z(t).Ea.size===0}function h1(t){t.Va=void 0}async function LR(t){t.Ra.set("Online")}async function MR(t){t.Ia.forEach((e,n)=>{bm(t,e)})}async function FR(t,e){h1(t),Am(t)?(t.Ra.ha(e),km(t)):t.Ra.set("Unknown")}async function UR(t,e,n){if(t.Ra.set("Online"),e instanceof Yw&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const u of i.targetIds)s.Ia.has(u)&&(await s.remoteSyncer.rejectListen(u,o),s.Ia.delete(u),s.Va.removeTarget(u))}(t,e)}catch(r){q(ms,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _u(t,r)}else if(e instanceof Pl?t.Va.Ze(e):e instanceof Qw?t.Va.st(e):t.Va.tt(e),!n.isEqual(X.min()))try{const r=await a1(t.localStore);n.compareTo(r)>=0&&await function(i,o){const u=i.Va.Tt(o);return u.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const f=i.Ia.get(d);f&&i.Ia.set(d,f.withResumeToken(c.resumeToken,o))}}),u.targetMismatches.forEach((c,d)=>{const f=i.Ia.get(c);if(!f)return;i.Ia.set(c,f.withResumeToken(tt.EMPTY_BYTE_STRING,f.snapshotVersion)),d1(i,c);const p=new fr(f.target,c,d,f.sequenceNumber);bm(i,p)}),i.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(r){q(ms,"Failed to raise snapshot:",r),await _u(t,r)}}async function _u(t,e,n){if(!bi(e))throw e;t.Ea.add(1),await wa(t),t.Ra.set("Offline"),n||(n=()=>a1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{q(ms,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await dc(t)})}function f1(t,e){return e().catch(n=>_u(t,n,e))}async function hc(t){const e=Z(t),n=Vr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:dm;for(;zR(e);)try{const s=await ER(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,$R(e,s)}catch(s){await _u(e,s)}m1(e)&&p1(e)}function zR(t){return ws(t)&&t.Ta.length<10}function $R(t,e){t.Ta.push(e);const n=Vr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function m1(t){return ws(t)&&!Vr(t).x_()&&t.Ta.length>0}function p1(t){Vr(t).start()}async function BR(t){Vr(t).ra()}async function qR(t){const e=Vr(t);for(const n of t.Ta)e.ea(n.mutations)}async function HR(t,e,n){const r=t.Ta.shift(),s=_m.from(r,e,n);await f1(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await hc(t)}async function WR(t,e){e&&Vr(t).X_&&await async function(r,s){if(function(o){return bC(o)&&o!==L.ABORTED}(s.code)){const i=r.Ta.shift();Vr(r).B_(),await f1(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await hc(r)}}(t,e),m1(t)&&p1(t)}async function m0(t,e){const n=Z(t);n.asyncQueue.verifyOperationInProgress(),q(ms,"RemoteStore received new credentials");const r=ws(n);n.Ea.add(3),await wa(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await dc(n)}async function KR(t,e){const n=Z(t);e?(n.Ea.delete(2),await dc(n)):e||(n.Ea.add(2),await wa(n),n.Ra.set("Unknown"))}function Ai(t){return t.ma||(t.ma=function(n,r,s){const i=Z(n);return i.sa(),new RR(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:LR.bind(null,t),t_:MR.bind(null,t),r_:FR.bind(null,t),H_:UR.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Am(t)?km(t):t.Ra.set("Unknown")):(await t.ma.stop(),h1(t))})),t.ma}function Vr(t){return t.fa||(t.fa=function(n,r,s){const i=Z(n);return i.sa(),new PR(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:BR.bind(null,t),r_:WR.bind(null,t),ta:qR.bind(null,t),na:HR.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await hc(t)):(await t.fa.stop(),t.Ta.length>0&&(q(ms,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Ln,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,u=new Cm(e,n,o,s,i);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rm(t,e){if(qn("AsyncQueue",`${e}: ${t}`),bi(t))return new B(L.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{static emptySet(e){return new Zs(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||K.comparator(n.key,r.key):(n,r)=>K.comparator(n.key,r.key),this.keyedMap=fo(),this.sortedSet=new be(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Zs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Zs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(){this.ga=new be(K.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Y(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class yi{constructor(e,n,r,s,i,o,u,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(u=>{o.push({type:0,doc:u})}),new yi(e,n,Zs.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ic(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class QR{constructor(){this.queries=g0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Z(n),i=s.queries;s.queries=g0(),i.forEach((o,u)=>{for(const c of u.Sa)c.onError(r)})})(this,new B(L.ABORTED,"Firestore shutting down"))}}function g0(){return new xs(t=>Vw(t),ic)}async function g1(t,e){const n=Z(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new GR,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const u=Rm(o,`Initialization of query '${Cs(e.query)}' failed`);return void e.onError(u)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Pm(n)}async function y1(t,e){const n=Z(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function YR(t,e){const n=Z(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const u of o.Sa)u.Fa(s)&&(r=!0);o.wa=s}}r&&Pm(n)}function JR(t,e,n){const r=Z(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Pm(t){t.Ca.forEach(e=>{e.next()})}var Qh,y0;(y0=Qh||(Qh={})).Ma="default",y0.Cache="cache";class v1{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new yi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=yi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Qh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e){this.key=e}}class x1{constructor(e){this.key=e}}class XR{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=se(),this.mutatedKeys=se(),this.eu=Lw(e),this.tu=new Zs(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new p0,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,u=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((f,p)=>{const g=s.get(f),T=oc(this.query,p)?p:null,k=!!g&&this.mutatedKeys.has(g.key),C=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let R=!1;g&&T?g.data.isEqual(T.data)?k!==C&&(r.track({type:3,doc:T}),R=!0):this.su(g,T)||(r.track({type:2,doc:T}),R=!0,(c&&this.eu(T,c)>0||d&&this.eu(T,d)<0)&&(u=!0)):!g&&T?(r.track({type:0,doc:T}),R=!0):g&&!T&&(r.track({type:1,doc:g}),R=!0,(c||d)&&(u=!0)),R&&(T?(o=o.add(T),i=C?i.add(f):i.delete(f)):(o=o.delete(f),i=i.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),i=i.delete(f.key),r.track({type:1,doc:f})}return{tu:o,iu:r,Cs:u,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((f,p)=>function(T,k){const C=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y(20277,{Rt:R})}};return C(T)-C(k)}(f.type,p.type)||this.eu(f.doc,p.doc)),this.ou(r),s=s??!1;const u=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,d=c!==this.Za;return this.Za=c,o.length!==0||d?{snapshot:new yi(this.query,e.tu,i,o,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new p0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=se(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new x1(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new _1(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=se();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return yi.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const jm="SyncEngine";class ZR{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class eP{constructor(e){this.key=e,this.hu=!1}}class tP{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new xs(u=>Vw(u),ic),this.Iu=new Map,this.Eu=new Set,this.du=new be(K.comparator),this.Au=new Map,this.Ru=new Em,this.Vu={},this.mu=new Map,this.fu=gi.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function nP(t,e,n=!0){const r=N1(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await w1(r,e,n,!0),s}async function rP(t,e){const n=N1(t);await w1(n,e,!0,!1)}async function w1(t,e,n,r){const s=await TR(t.localStore,gn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let u;return r&&(u=await sP(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&c1(t.remoteStore,s),u}async function sP(t,e,n,r,s){t.pu=(p,g,T)=>async function(C,R,w,v){let E=R.view.ru(w);E.Cs&&(E=await u0(C.localStore,R.query,!1).then(({documents:x})=>R.view.ru(x,E)));const S=v&&v.targetChanges.get(R.targetId),V=v&&v.targetMismatches.get(R.targetId)!=null,M=R.view.applyChanges(E,C.isPrimaryClient,S,V);return _0(C,R.targetId,M.au),M.snapshot}(t,p,g,T);const i=await u0(t.localStore,e,!0),o=new XR(e,i.Qs),u=o.ru(i.documents),c=xa.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(u,t.isPrimaryClient,c);_0(t,n,d.au);const f=new ZR(e,n,o);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function iP(t,e,n){const r=Z(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!ic(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Kh(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Nm(r.remoteStore,s.targetId),Yh(r,s.targetId)}).catch(Ni)):(Yh(r,s.targetId),await Kh(r.localStore,s.targetId,!0))}async function oP(t,e){const n=Z(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Nm(n.remoteStore,r.targetId))}async function aP(t,e,n){const r=mP(t);try{const s=await function(o,u){const c=Z(o),d=_e.now(),f=u.reduce((T,k)=>T.add(k.key),se());let p,g;return c.persistence.runTransaction("Locally write mutations","readwrite",T=>{let k=Hn(),C=se();return c.Ns.getEntries(T,f).next(R=>{k=R,k.forEach((w,v)=>{v.isValidDocument()||(C=C.add(w))})}).next(()=>c.localDocuments.getOverlayedDocuments(T,k)).next(R=>{p=R;const w=[];for(const v of u){const E=EC(v,p.get(v.key).overlayedDocument);E!=null&&w.push(new $r(v.key,E,kw(E.value.mapValue),Zt.exists(!0)))}return c.mutationQueue.addMutationBatch(T,d,w,u)}).next(R=>{g=R;const w=R.applyToLocalDocumentSet(p,C);return c.documentOverlayCache.saveOverlays(T,R.batchId,w)})}).then(()=>({batchId:g.batchId,changes:Fw(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,u,c){let d=o.Vu[o.currentUser.toKey()];d||(d=new be(re)),d=d.insert(u,c),o.Vu[o.currentUser.toKey()]=d}(r,s.batchId,n),await Ea(r,s.changes),await hc(r.remoteStore)}catch(s){const i=Rm(s,"Failed to persist write");n.reject(i)}}async function E1(t,e){const n=Z(t);try{const r=await xR(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(ue(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?ue(o.hu,14607):s.removedDocuments.size>0&&(ue(o.hu,42227),o.hu=!1))}),await Ea(n,r,e)}catch(r){await Ni(r)}}function v0(t,e,n){const r=Z(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const u=o.view.va(e);u.snapshot&&s.push(u.snapshot)}),function(o,u){const c=Z(o);c.onlineState=u;let d=!1;c.queries.forEach((f,p)=>{for(const g of p.Sa)g.va(u)&&(d=!0)}),d&&Pm(c)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function lP(t,e,n){const r=Z(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new be(K.comparator);o=o.insert(i,ct.newNoDocument(i,X.min()));const u=se().add(i),c=new uc(X.min(),new Map,new be(re),o,u);await E1(r,c),r.du=r.du.remove(i),r.Au.delete(e),Dm(r)}else await Kh(r.localStore,e,!1).then(()=>Yh(r,e,n)).catch(Ni)}async function uP(t,e){const n=Z(t),r=e.batch.batchId;try{const s=await _R(n.localStore,e);I1(n,r,null),T1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ea(n,s)}catch(s){await Ni(s)}}async function cP(t,e,n){const r=Z(t);try{const s=await function(o,u){const c=Z(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return c.mutationQueue.lookupMutationBatch(d,u).next(p=>(ue(p!==null,37113),f=p.keys(),c.mutationQueue.removeMutationBatch(d,p))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,f,u)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>c.localDocuments.getDocuments(d,f))})}(r.localStore,e);I1(r,e,n),T1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ea(r,s)}catch(s){await Ni(s)}}function T1(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function I1(t,e,n){const r=Z(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Yh(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||S1(t,r)})}function S1(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Nm(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Dm(t))}function _0(t,e,n){for(const r of n)r instanceof _1?(t.Ru.addReference(r.key,e),dP(t,r)):r instanceof x1?(q(jm,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||S1(t,r.key)):Y(19791,{wu:r})}function dP(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(q(jm,"New document in limbo: "+n),t.Eu.add(r),Dm(t))}function Dm(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new K(me.fromString(e)),r=t.fu.next();t.Au.set(r,new eP(n)),t.du=t.du.insert(n,r),c1(t.remoteStore,new fr(gn(gm(n.path)),r,"TargetPurposeLimboResolution",nc.ce))}}async function Ea(t,e,n){const r=Z(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((u,c)=>{o.push(r.pu(c,e,n).then(d=>{var f;if((d||n)&&r.isPrimaryClient){const p=d?!d.fromCache:(f=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:f.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(d){s.push(d);const p=Im.As(c.targetId,d);i.push(p)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(c,d){const f=Z(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>F.forEach(d,g=>F.forEach(g.Es,T=>f.persistence.referenceDelegate.addReference(p,g.targetId,T)).next(()=>F.forEach(g.ds,T=>f.persistence.referenceDelegate.removeReference(p,g.targetId,T)))))}catch(p){if(!bi(p))throw p;q(Sm,"Failed to update sequence numbers: "+p)}for(const p of d){const g=p.targetId;if(!p.fromCache){const T=f.Ms.get(g),k=T.snapshotVersion,C=T.withLastLimboFreeSnapshotVersion(k);f.Ms=f.Ms.insert(g,C)}}}(r.localStore,i))}async function hP(t,e){const n=Z(t);if(!n.currentUser.isEqual(e)){q(jm,"User change. New user:",e.toKey());const r=await o1(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(u=>{u.forEach(c=>{c.reject(new B(L.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ea(n,r.Ls)}}function fP(t,e){const n=Z(t),r=n.Au.get(e);if(r&&r.hu)return se().add(r.key);{let s=se();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const u=n.Tu.get(o);s=s.unionWith(u.view.nu)}return s}}function N1(t){const e=Z(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=E1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lP.bind(null,e),e.Pu.H_=YR.bind(null,e.eventManager),e.Pu.yu=JR.bind(null,e.eventManager),e}function mP(t){const e=Z(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cP.bind(null,e),e}class xu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return vR(this.persistence,new pR,e.initialUser,this.serializer)}Cu(e){return new i1(Tm.mi,this.serializer)}Du(e){return new SR}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xu.provider={build:()=>new xu};class pP extends xu{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ue(this.persistence.referenceDelegate instanceof vu,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new eR(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?wt.withCacheSize(this.cacheSizeBytes):wt.DEFAULT;return new i1(r=>vu.mi(r,n),this.serializer)}}class Jh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>v0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=hP.bind(null,this.syncEngine),await KR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new QR}()}createDatastore(e){const n=cc(e.databaseInfo.databaseId),r=function(i){return new CR(i)}(e.databaseInfo);return function(i,o,u,c){return new DR(i,o,u,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,u){return new VR(r,s,i,o,u)}(this.localStore,this.datastore,e.asyncQueue,n=>v0(this.syncEngine,n,0),function(){return h0.v()?new h0:new NR}())}createSyncEngine(e,n){return function(s,i,o,u,c,d,f){const p=new tP(s,i,o,u,c,d);return f&&(p.gu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Z(s);q(ms,"RemoteStore shutting down."),i.Ea.add(5),await wa(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Jh.provider={build:()=>new Jh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):qn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr="FirestoreClient";class gP{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=lt.UNAUTHENTICATED,this.clientId=cm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{q(Lr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(q(Lr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ln;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Rm(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function bd(t,e){t.asyncQueue.verifyOperationInProgress(),q(Lr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await o1(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function x0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await yP(t);q(Lr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>m0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>m0(e.remoteStore,s)),t._onlineComponents=e}async function yP(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q(Lr,"Using user provided OfflineComponentProvider");try{await bd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===L.FAILED_PRECONDITION||s.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;hi("Error using user provided cache. Falling back to memory cache: "+n),await bd(t,new xu)}}else q(Lr,"Using default OfflineComponentProvider"),await bd(t,new pP(void 0));return t._offlineComponents}async function k1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(q(Lr,"Using user provided OnlineComponentProvider"),await x0(t,t._uninitializedComponentsProvider._online)):(q(Lr,"Using default OnlineComponentProvider"),await x0(t,new Jh))),t._onlineComponents}function vP(t){return k1(t).then(e=>e.syncEngine)}async function A1(t){const e=await k1(t),n=e.eventManager;return n.onListen=nP.bind(null,e.syncEngine),n.onUnlisten=iP.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=rP.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=oP.bind(null,e.syncEngine),n}function _P(t,e,n={}){const r=new Ln;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,u,c,d){const f=new b1({next:g=>{f.Nu(),o.enqueueAndForget(()=>y1(i,p));const T=g.docs.has(u);!T&&g.fromCache?d.reject(new B(L.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&g.fromCache&&c&&c.source==="server"?d.reject(new B(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(g)},error:g=>d.reject(g)}),p=new v1(gm(u.path),f,{includeMetadataChanges:!0,qa:!0});return g1(i,p)}(await A1(t),t.asyncQueue,e,n,r)),r.promise}function xP(t,e,n={}){const r=new Ln;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,u,c,d){const f=new b1({next:g=>{f.Nu(),o.enqueueAndForget(()=>y1(i,p)),g.fromCache&&c.source==="server"?d.reject(new B(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(g)},error:g=>d.reject(g)}),p=new v1(u,f,{includeMetadataChanges:!0,qa:!0});return g1(i,p)}(await A1(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1="firestore.googleapis.com",E0=!0;class T0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new B(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=R1,this.ssl=E0}else this.host=e.host,this.ssl=e.ssl??E0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=s1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<XC)throw new B(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}OA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=C1(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new B(L.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new B(L.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new B(L.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fc{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new T0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new B(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new B(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new T0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new SA;switch(r.type){case"firstParty":return new AA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new B(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=w0.get(n);r&&(q("ComponentProvider","Removing Datastore"),w0.delete(n),r.terminate())}(this),Promise.resolve()}}function wP(t,e,n,r={}){var d;t=En(t,fc);const s=vs(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;s&&(im(`https://${u}`),om("Firestore",!0)),i.host!==R1&&i.host!==u&&hi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:u,ssl:s,emulatorOptions:r};if(!ds(c,o)&&(t._setSettings(c),r.mockUserToken)){let f,p;if(typeof r.mockUserToken=="string")f=r.mockUserToken,p=lt.MOCK_USER;else{f=rw(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new B(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new lt(g)}t._authCredentials=new NA(new gw(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Es(this.firestore,e,this._query)}}class je{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new br(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new je(this.firestore,e,this._key)}toJSON(){return{type:je._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(va(n,je._jsonSchema))return new je(e,r||null,new K(me.fromString(n.referencePath)))}}je._jsonSchemaVersion="firestore/documentReference/1.0",je._jsonSchema={type:Le("string",je._jsonSchemaVersion),referencePath:Le("string")};class br extends Es{constructor(e,n,r){super(e,n,gm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new je(this.firestore,null,new K(e))}withConverter(e){return new br(this.firestore,e,this._path)}}function P1(t,e,...n){if(t=qe(t),yw("collection","path",e),t instanceof fc){const r=me.fromString(e,...n);return Vy(r),new br(t,null,r)}{if(!(t instanceof je||t instanceof br))throw new B(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(me.fromString(e,...n));return Vy(r),new br(t.firestore,null,r)}}function Hs(t,e,...n){if(t=qe(t),arguments.length===1&&(e=cm.newId()),yw("doc","path",e),t instanceof fc){const r=me.fromString(e,...n);return Oy(r),new je(t,null,new K(r))}{if(!(t instanceof je||t instanceof br))throw new B(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(me.fromString(e,...n));return Oy(r),new je(t.firestore,t instanceof br?t.converter:null,new K(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="AsyncQueue";class S0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new l1(this,"async_queue_retry"),this._c=()=>{const r=Nd();r&&q(I0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Nd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Nd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Ln;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!bi(e))throw e;q(I0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,qn("INTERNAL UNHANDLED ERROR: ",N0(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Cm.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&Y(47125,{Pc:N0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function N0(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ci extends fc{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new S0,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new S0(e),this._firestoreClient=void 0,await e}}}function EP(t,e){const n=typeof t=="object"?t:ec(),r=typeof t=="string"?t:fu,s=Zu(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=ew("firestore");i&&wP(s,...i)}return s}function Om(t){if(t._terminated)throw new B(L.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||TP(t),t._firestoreClient}function TP(t){var r,s,i;const e=t._freezeSettings(),n=function(u,c,d,f){return new WA(u,c,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,C1(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new gP(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ut(tt.fromBase64String(e))}catch(n){throw new B(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ut(tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ut._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(va(e,Ut._jsonSchema))return Ut.fromBase64String(e.bytes)}}Ut._jsonSchemaVersion="firestore/bytes/1.0",Ut._jsonSchema={type:Le("string",Ut._jsonSchemaVersion),bytes:Le("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new B(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new B(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new B(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return re(this._lat,e._lat)||re(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:vn._jsonSchemaVersion}}static fromJSON(e){if(va(e,vn._jsonSchema))return new vn(e.latitude,e.longitude)}}vn._jsonSchemaVersion="firestore/geoPoint/1.0",vn._jsonSchema={type:Le("string",vn._jsonSchemaVersion),latitude:Le("number"),longitude:Le("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:_n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(va(e,_n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new _n(e.vectorValues);throw new B(L.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}_n._jsonSchemaVersion="firestore/vectorValue/1.0",_n._jsonSchema={type:Le("string",_n._jsonSchemaVersion),vectorValues:Le("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP=/^__.*__$/;class SP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new $r(e,this.data,this.fieldMask,n,this.fieldTransforms):new _a(e,this.data,n,this.fieldTransforms)}}class j1{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new $r(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function D1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y(40011,{Ac:t})}}class Vm{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Vm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return wu(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(D1(this.Ac)&&IP.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class NP{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||cc(e)}Cc(e,n,r,s=!1){return new Vm({Ac:e,methodName:n,Dc:r,path:Xe.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lm(t){const e=t._freezeSettings(),n=cc(t._databaseId);return new NP(t._databaseId,!!e.ignoreUndefinedProperties,n)}function bP(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);Fm("Data must be an object, but it was:",o,r);const u=O1(r,o);let c,d;if(i.merge)c=new Rt(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const f=[];for(const p of i.mergeFields){const g=Xh(e,p,n);if(!o.contains(g))throw new B(L.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);L1(f,g)||f.push(g)}c=new Rt(f),d=o.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,d=o.fieldTransforms;return new SP(new Tt(u),c,d)}class gc extends pc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gc}}class Mm extends pc{_toFieldTransform(e){return new vC(e.path,new ra)}isEqual(e){return e instanceof Mm}}function kP(t,e,n,r){const s=t.Cc(1,e,n);Fm("Data must be an object, but it was:",s,r);const i=[],o=Tt.empty();zr(r,(c,d)=>{const f=Um(e,c,n);d=qe(d);const p=s.yc(f);if(d instanceof gc)i.push(f);else{const g=Ta(d,p);g!=null&&(i.push(f),o.set(f,g))}});const u=new Rt(i);return new j1(o,u,s.fieldTransforms)}function AP(t,e,n,r,s,i){const o=t.Cc(1,e,n),u=[Xh(e,r,n)],c=[s];if(i.length%2!=0)throw new B(L.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<i.length;g+=2)u.push(Xh(e,i[g])),c.push(i[g+1]);const d=[],f=Tt.empty();for(let g=u.length-1;g>=0;--g)if(!L1(d,u[g])){const T=u[g];let k=c[g];k=qe(k);const C=o.yc(T);if(k instanceof gc)d.push(T);else{const R=Ta(k,C);R!=null&&(d.push(T),f.set(T,R))}}const p=new Rt(d);return new j1(f,p,o.fieldTransforms)}function CP(t,e,n,r=!1){return Ta(n,t.Cc(r?4:3,e))}function Ta(t,e){if(V1(t=qe(t)))return Fm("Unsupported field value:",e,t),O1(t,e);if(t instanceof pc)return function(r,s){if(!D1(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const u of r){let c=Ta(u,s.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=qe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return pC(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=_e.fromDate(r);return{timestampValue:yu(s.serializer,i)}}if(r instanceof _e){const i=new _e(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yu(s.serializer,i)}}if(r instanceof vn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ut)return{bytesValue:Jw(s.serializer,r._byteString)};if(r instanceof je){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:wm(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof _n)return function(o,u){return{mapValue:{fields:{[Nw]:{stringValue:bw},[mu]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw u.Sc("VectorValues must only contain numeric values.");return ym(u.serializer,d)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${tc(r)}`)}(t,e)}function O1(t,e){const n={};return xw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zr(t,(r,s)=>{const i=Ta(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function V1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof _e||t instanceof vn||t instanceof Ut||t instanceof je||t instanceof pc||t instanceof _n)}function Fm(t,e,n){if(!V1(n)||!vw(n)){const r=tc(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Xh(t,e,n){if((e=qe(e))instanceof mc)return e._internalPath;if(typeof e=="string")return Um(t,e);throw wu("Field path arguments must be of type string or ",t,!1,void 0,n)}const RP=new RegExp("[~\\*/\\[\\]]");function Um(t,e,n){if(e.search(RP)>=0)throw wu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new mc(...e.split("."))._internalPath}catch{throw wu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function wu(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new B(L.INVALID_ARGUMENT,u+t+c)}function L1(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new PP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(yc("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class PP extends M1{data(){return super.data()}}function yc(t,e){return typeof e=="string"?Um(t,e):e instanceof mc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new B(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zm{}class F1 extends zm{}function U1(t,e,...n){let r=[];e instanceof zm&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof $m).length,u=i.filter(c=>c instanceof vc).length;if(o>1||o>0&&u>0)throw new B(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class vc extends F1{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new vc(e,n,r)}_apply(e){const n=this._parse(e);return z1(e._query,n),new Es(e.firestore,e.converter,zh(e._query,n))}_parse(e){const n=Lm(e.firestore);return function(i,o,u,c,d,f,p){let g;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new B(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){k0(p,f);const k=[];for(const C of p)k.push(b0(c,i,C));g={arrayValue:{values:k}}}else g=b0(c,i,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||k0(p,f),g=CP(u,o,p,f==="in"||f==="not-in");return Ve.create(d,f,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function DP(t,e,n){const r=e,s=yc("where",t);return vc._create(s,r,n)}class $m extends zm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new $m(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:nn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const u=i.getFlattenedFilters();for(const c of u)z1(o,c),o=zh(o,c)}(e._query,n),new Es(e.firestore,e.converter,zh(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Bm extends F1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Bm(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new B(L.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new B(L.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new na(i,o)}(e._query,this._field,this._direction);return new Es(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new ki(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function OP(t,e="asc"){const n=e,r=yc("orderBy",t);return Bm._create(r,n)}function b0(t,e,n){if(typeof(n=qe(n))=="string"){if(n==="")throw new B(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ow(e)&&n.indexOf("/")!==-1)throw new B(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(me.fromString(n));if(!K.isDocumentKey(r))throw new B(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return qy(t,new K(r))}if(n instanceof je)return qy(t,n._key);throw new B(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tc(n)}.`)}function k0(t,e){if(!Array.isArray(t)||t.length===0)throw new B(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function z1(t,e){const n=function(s,i){for(const o of s)for(const u of o.getFlattenedFilters())if(i.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new B(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new B(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class VP{convertValue(e,n="none"){switch(Or(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Re(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Dr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Y(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return zr(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[mu].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>Re(o.doubleValue));return new _n(n)}convertGeoPoint(e){return new vn(Re(e.latitude),Re(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=sc(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Zo(e));default:return null}}convertTimestamp(e){const n=jr(e);return new _e(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=me.fromString(e);ue(r1(r),9688,{name:e});const s=new ea(r.get(1),r.get(3)),i=new K(r.popFirst(5));return s.isEqual(n)||qn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class po{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class is extends M1{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new jl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(yc("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new B(L.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=is._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}is._jsonSchemaVersion="firestore/documentSnapshot/1.0",is._jsonSchema={type:Le("string",is._jsonSchemaVersion),bundleSource:Le("string","DocumentSnapshot"),bundleName:Le("string"),bundle:Le("string")};class jl extends is{data(e={}){return super.data(e)}}class ei{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new po(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new jl(this._firestore,this._userDataWriter,r.key,r,new po(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new B(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(u=>{const c=new jl(s._firestore,s._userDataWriter,u.doc.key,u.doc,new po(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(u=>i||u.type!==3).map(u=>{const c=new jl(s._firestore,s._userDataWriter,u.doc.key,u.doc,new po(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,f=-1;return u.type!==0&&(d=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),u.type!==1&&(o=o.add(u.doc),f=o.indexOf(u.doc.key)),{type:MP(u.type),doc:c,oldIndex:d,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new B(L.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ei._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=cm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function MP(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(t){t=En(t,je);const e=En(t.firestore,Ci);return _P(Om(e),t._key).then(n=>$P(e,t,n))}ei._jsonSchemaVersion="firestore/querySnapshot/1.0",ei._jsonSchema={type:Le("string",ei._jsonSchemaVersion),bundleSource:Le("string","QuerySnapshot"),bundleName:Le("string"),bundle:Le("string")};class $1 extends VP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ut(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new je(this.firestore,null,n)}}function B1(t){t=En(t,Es);const e=En(t.firestore,Ci),n=Om(e),r=new $1(e);return jP(t._query),xP(n,t._query).then(s=>new ei(e,r,t,s))}function FP(t,e,n){t=En(t,je);const r=En(t.firestore,Ci),s=LP(t.converter,e);return Hm(r,[bP(Lm(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Zt.none())])}function UP(t,e,n,...r){t=En(t,je);const s=En(t.firestore,Ci),i=Lm(s);let o;return o=typeof(e=qe(e))=="string"||e instanceof mc?AP(i,"updateDoc",t._key,e,n,r):kP(i,"updateDoc",t._key,e),Hm(s,[o.toMutation(t._key,Zt.exists(!0))])}function zP(t){return Hm(En(t.firestore,Ci),[new vm(t._key,Zt.none())])}function Hm(t,e){return function(r,s){const i=new Ln;return r.asyncQueue.enqueueAndForget(async()=>aP(await vP(r),s,i)),i.promise}(Om(t),e)}function $P(t,e,n){const r=n.docs.get(e._key),s=new $1(t);return new is(t,s,e._key,r,new po(n.hasPendingWrites,n.fromCache),e.converter)}function A0(){return new Mm("serverTimestamp")}(function(e,n=!0){(function(s){Si=s})(_s),hs(new Rr("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),u=new Ci(new bA(r.getProvider("auth-internal")),new CA(o,r.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new B(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ea(d.options.projectId,f)}(o,s),o);return i={useFetchStreams:n,...i},u._setSettings(i),u},"PUBLIC").setMultipleInstances(!0)),pn(Ry,Py,e),pn(Ry,Py,"esm2020")})();function q1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BP=q1,H1=new ga("auth","Firebase",q1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu=new am("@firebase/auth");function qP(t,...e){Eu.logLevel<=ne.WARN&&Eu.warn(`Auth (${_s}): ${t}`,...e)}function Dl(t,...e){Eu.logLevel<=ne.ERROR&&Eu.error(`Auth (${_s}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(t,...e){throw Wm(t,...e)}function xn(t,...e){return Wm(t,...e)}function W1(t,e,n){const r={...BP(),[e]:n};return new ga("auth","Firebase",r).create(e,{appName:t.name})}function kr(t){return W1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return H1.create(t,...e)}function Q(t,e,...n){if(!t)throw Wm(e,...n)}function jn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Dl(e),new Error(e)}function Wn(t,e){t||jn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function HP(){return C0()==="http:"||C0()==="https:"}function C0(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HP()||tk()||"connection"in navigator)?navigator.onLine:!0}function KP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wn(n>e,"Short delay should be less than long delay!"),this.isMobile=Xb()||nk()}get(){return WP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Km(t,e){Wn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],YP=new Ia(3e4,6e4);function Ts(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Br(t,e,n,r,s={}){return G1(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const u=ya({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...i};return ek()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&vs(t.emulatorConfig.host)&&(d.credentials="include"),K1.fetch()(await Q1(t,t.config.apiHost,n,u),d)})}async function G1(t,e,n){t._canInitEmulator=!1;const r={...GP,...e};try{const s=new XP(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw hl(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const u=i.ok?o.errorMessage:o.error.message,[c,d]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw hl(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw hl(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw hl(t,"user-disabled",o);const f=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw W1(t,f,d);rn(t,f)}}catch(s){if(s instanceof Nn)throw s;rn(t,"network-request-failed",{message:String(s)})}}async function _c(t,e,n,r,s={}){const i=await Br(t,e,n,r,s);return"mfaPendingCredential"in i&&rn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function Q1(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Km(t.config,s):`${t.config.apiScheme}://${s}`;return QP.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function JP(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class XP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(xn(this.auth,"network-request-failed")),YP.get())})}}function hl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=xn(t,e,r);return s.customData._tokenResponse=n,s}function R0(t){return t!==void 0&&t.enterprise!==void 0}class ZP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return JP(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ej(t,e){return Br(t,"GET","/v2/recaptchaConfig",Ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tj(t,e){return Br(t,"POST","/v1/accounts:delete",e)}async function Tu(t,e){return Br(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Co(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function nj(t,e=!1){const n=qe(t),r=await n.getIdToken(e),s=Gm(r);Q(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Co(kd(s.auth_time)),issuedAtTime:Co(kd(s.iat)),expirationTime:Co(kd(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function kd(t){return Number(t)*1e3}function Gm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Dl("JWT malformed, contained fewer than 3 sections"),null;try{const s=Xx(n);return s?JSON.parse(s):(Dl("Failed to decode base64 JWT payload"),null)}catch(s){return Dl("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function P0(t){const e=Gm(t);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Nn&&rj(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function rj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Co(this.lastLoginAt),this.creationTime=Co(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iu(t){var p;const e=t.auth,n=await t.getIdToken(),r=await oa(t,Tu(e,{idToken:n}));Q(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(p=s.providerUserInfo)!=null&&p.length?Y1(s.providerUserInfo):[],o=oj(t.providerData,i),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),d=u?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new ef(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function ij(t){const e=qe(t);await Iu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function oj(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Y1(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aj(t,e){const n=await G1(t,{},async()=>{const r=ya({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await Q1(t,s,"/v1/token",`key=${i}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:u,body:r};return t.emulatorConfig&&vs(t.emulatorConfig.host)&&(c.credentials="include"),K1.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function lj(t,e){return Br(t,"POST","/v2/accounts:revokeToken",Ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):P0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Q(e.length!==0,"internal-error");const n=P0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await aj(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new ti;return r&&(Q(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Q(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Q(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ti,this.toJSON())}_performRefresh(){return jn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(t,e){Q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Qt{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new sj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ef(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await oa(this,this.stsTokenManager.getToken(this.auth,e));return Q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return nj(this,e)}reload(){return ij(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Qt({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Iu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ft(this.auth.app))return Promise.reject(kr(this.auth));const e=await this.getIdToken();return await oa(this,tj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,u=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:p,emailVerified:g,isAnonymous:T,providerData:k,stsTokenManager:C}=n;Q(p&&C,e,"internal-error");const R=ti.fromJSON(this.name,C);Q(typeof p=="string",e,"internal-error"),nr(r,e.name),nr(s,e.name),Q(typeof g=="boolean",e,"internal-error"),Q(typeof T=="boolean",e,"internal-error"),nr(i,e.name),nr(o,e.name),nr(u,e.name),nr(c,e.name),nr(d,e.name),nr(f,e.name);const w=new Qt({uid:p,auth:e,email:s,emailVerified:g,displayName:r,isAnonymous:T,photoURL:o,phoneNumber:i,tenantId:u,stsTokenManager:R,createdAt:d,lastLoginAt:f});return k&&Array.isArray(k)&&(w.providerData=k.map(v=>({...v}))),c&&(w._redirectEventId=c),w}static async _fromIdTokenResponse(e,n,r=!1){const s=new ti;s.updateFromServerResponse(n);const i=new Qt({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Iu(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Q(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Y1(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),u=new ti;u.updateFromIdToken(r);const c=new Qt({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new ef(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0=new Map;function Dn(t){Wn(t instanceof Function,"Expected a class definition");let e=j0.get(t);return e?(Wn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,j0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}J1.type="NONE";const D0=J1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(t,e,n){return`firebase:${t}:${e}:${n}`}class ni{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Ol(this.userKey,s.apiKey,i),this.fullPersistenceKey=Ol("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Tu(this.auth,{idToken:e}).catch(()=>{});return n?Qt._fromGetAccountInfoResponse(this.auth,n,e):null}return Qt._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ni(Dn(D0),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||Dn(D0);const o=Ol(r,e.config.apiKey,e.name);let u=null;for(const d of n)try{const f=await d._get(o);if(f){let p;if(typeof f=="string"){const g=await Tu(e,{idToken:f}).catch(()=>{});if(!g)break;p=await Qt._fromGetAccountInfoResponse(e,g,f)}else p=Qt._fromJSON(e,f);d!==i&&(u=p),i=d;break}}catch{}const c=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new ni(i,e,r):(i=c[0],u&&await i._set(o,u.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new ni(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(X1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rE(e))return"Blackberry";if(sE(e))return"Webos";if(Z1(e))return"Safari";if((e.includes("chrome/")||eE(e))&&!e.includes("edge/"))return"Chrome";if(nE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function X1(t=ht()){return/firefox\//i.test(t)}function Z1(t=ht()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eE(t=ht()){return/crios\//i.test(t)}function tE(t=ht()){return/iemobile/i.test(t)}function nE(t=ht()){return/android/i.test(t)}function rE(t=ht()){return/blackberry/i.test(t)}function sE(t=ht()){return/webos/i.test(t)}function Qm(t=ht()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function uj(t=ht()){var e;return Qm(t)&&!!((e=window.navigator)!=null&&e.standalone)}function cj(){return rk()&&document.documentMode===10}function iE(t=ht()){return Qm(t)||nE(t)||sE(t)||rE(t)||/windows phone/i.test(t)||tE(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(t,e=[]){let n;switch(t){case"Browser":n=O0(ht());break;case"Worker":n=`${O0(ht())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${_s}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,u)=>{try{const c=e(i);o(c)}catch(c){u(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hj(t,e={}){return Br(t,"GET","/v2/passwordPolicy",Ts(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fj=6;class mj{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??fj,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new V0(this),this.idTokenSubscription=new V0(this),this.beforeStateQueue=new dj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=H1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Dn(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await ni.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Tu(this,{idToken:e}),r=await Qt._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Ft(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,u=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===u)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Iu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=KP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ft(this.app))return Promise.reject(kr(this));const n=e?qe(e):null;return n&&Q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ft(this.app)?Promise.reject(kr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ft(this.app)?Promise.reject(kr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Dn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await hj(this),n=new mj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ga("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await lj(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Dn(e)||this._popupRedirectResolver;Q(n,this,"argument-error"),this.redirectPersistenceManager=await ni.create(this,[Dn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(u,this,"internal-error"),u.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Ft(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&qP(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ri(t){return qe(t)}class V0{constructor(e){this.auth=e,this.observer=null,this.addObserver=dk(n=>this.observer=n)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gj(t){xc=t}function aE(t){return xc.loadJS(t)}function yj(){return xc.recaptchaEnterpriseScript}function vj(){return xc.gapiScript}function _j(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class xj{constructor(){this.enterprise=new wj}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class wj{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Ej="recaptcha-enterprise",lE="NO_RECAPTCHA";class Tj{constructor(e){this.type=Ej,this.auth=Ri(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,u)=>{ej(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const d=new ZP(c);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,o(d.siteKey)}}).catch(c=>{u(c)})})}function s(i,o,u){const c=window.grecaptcha;R0(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(d=>{o(d)}).catch(()=>{o(lE)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new xj().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(u=>{if(!n&&R0(window.grecaptcha))s(u,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=yj();c.length!==0&&(c+=u),aE(c).then(()=>{s(u,i,o)}).catch(d=>{o(d)})}}).catch(u=>{o(u)})})}}async function L0(t,e,n,r=!1,s=!1){const i=new Tj(t);let o;if(s)o=lE;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const c=u.phoneEnrollmentInfo.phoneNumber,d=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const c=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:o}):Object.assign(u,{captchaResponse:o}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function M0(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await L0(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await L0(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ij(t,e){const n=Zu(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(ds(i,e??{}))return s;rn(s,"already-initialized")}return n.initialize({options:e})}function Sj(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Dn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Nj(t,e,n){const r=Ri(t);Q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=uE(e),{host:o,port:u}=bj(e),c=u===null?"":`:${u}`,d={url:`${i}//${o}${c}/`},f=Object.freeze({host:o,port:u,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Q(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Q(ds(d,r.config.emulator)&&ds(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,vs(o)?(im(`${i}//${o}${c}`),om("Auth",!0)):kj()}function uE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function bj(t){const e=uE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:F0(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:F0(o)}}}function F0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function kj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return jn("not implemented")}_getIdTokenResponse(e){return jn("not implemented")}_linkToIdToken(e,n){return jn("not implemented")}_getReauthenticationResolver(e){return jn("not implemented")}}async function Aj(t,e){return Br(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cj(t,e){return _c(t,"POST","/v1/accounts:signInWithPassword",Ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rj(t,e){return _c(t,"POST","/v1/accounts:signInWithEmailLink",Ts(t,e))}async function Pj(t,e){return _c(t,"POST","/v1/accounts:signInWithEmailLink",Ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa extends Ym{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new aa(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new aa(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return M0(e,n,"signInWithPassword",Cj);case"emailLink":return Rj(e,{email:this._email,oobCode:this._password});default:rn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return M0(e,r,"signUpPassword",Aj);case"emailLink":return Pj(e,{idToken:n,email:this._email,oobCode:this._password});default:rn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ri(t,e){return _c(t,"POST","/v1/accounts:signInWithIdp",Ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj="http://localhost";class ps extends Ym{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ps(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):rn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new ps(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ri(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ri(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ri(e,n)}buildRequest(){const e={requestUri:jj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ya(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Oj(t){const e=uo(co(t)).link,n=e?uo(co(e)).deep_link_id:null,r=uo(co(t)).deep_link_id;return(r?uo(co(r)).link:null)||r||n||e||t}class Jm{constructor(e){const n=uo(co(e)),r=n.apiKey??null,s=n.oobCode??null,i=Dj(n.mode??null);Q(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Oj(e);try{return new Jm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(){this.providerId=Pi.PROVIDER_ID}static credential(e,n){return aa._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Jm.parseLink(n);return Q(r,"argument-error"),aa._fromEmailAndCode(e,r.code,r.tenantId)}}Pi.PROVIDER_ID="password";Pi.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Pi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa extends cE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar extends Sa{constructor(){super("facebook.com")}static credential(e){return ps._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ar.credential(e.oauthAccessToken)}catch{return null}}}ar.FACEBOOK_SIGN_IN_METHOD="facebook.com";ar.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr extends Sa{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ps._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return lr.credential(n,r)}catch{return null}}}lr.GOOGLE_SIGN_IN_METHOD="google.com";lr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur extends Sa{constructor(){super("github.com")}static credential(e){return ps._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ur.credential(e.oauthAccessToken)}catch{return null}}}ur.GITHUB_SIGN_IN_METHOD="github.com";ur.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr extends Sa{constructor(){super("twitter.com")}static credential(e,n){return ps._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return cr.credential(n,r)}catch{return null}}}cr.TWITTER_SIGN_IN_METHOD="twitter.com";cr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Qt._fromIdTokenResponse(e,r,s),o=U0(r);return new vi({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=U0(r);return new vi({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function U0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su extends Nn{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Su.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Su(e,n,r,s)}}function dE(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Su._fromErrorAndOperation(t,i,e,r):i})}async function Vj(t,e,n=!1){const r=await oa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return vi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lj(t,e,n=!1){const{auth:r}=t;if(Ft(r.app))return Promise.reject(kr(r));const s="reauthenticate";try{const i=await oa(t,dE(r,s,e,t),n);Q(i.idToken,r,"internal-error");const o=Gm(i.idToken);Q(o,r,"internal-error");const{sub:u}=o;return Q(t.uid===u,r,"user-mismatch"),vi._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&rn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hE(t,e,n=!1){if(Ft(t.app))return Promise.reject(kr(t));const r="signIn",s=await dE(t,r,e),i=await vi._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function Mj(t,e){return hE(Ri(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fj(t){const e=Ri(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function Uj(t,e,n){return Ft(t.app)?Promise.reject(kr(t)):Mj(qe(t),Pi.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Fj(t),r})}function zj(t,e,n,r){return qe(t).onIdTokenChanged(e,n,r)}function $j(t,e,n){return qe(t).beforeAuthStateChanged(e,n)}function Bj(t,e,n,r){return qe(t).onAuthStateChanged(e,n,r)}function fE(t){return qe(t).signOut()}const Nu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nu,"1"),this.storage.removeItem(Nu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qj=1e3,Hj=10;class pE extends mE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,u,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);cj()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Hj):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},qj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}pE.type="LOCAL";const Wj=pE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE extends mE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}gE.type="SESSION";const yE=gE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new wc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const u=Array.from(o).map(async d=>d(n.origin,i)),c=await Kj(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((u,c)=>{const d=Xm("",20);s.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(p){const g=p;if(g.data.eventId===d)switch(g.data.status){case"ack":clearTimeout(f),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),u(g.data.response);break;default:clearTimeout(f),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(){return window}function Qj(t){wn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(){return typeof wn().WorkerGlobalScope<"u"&&typeof wn().importScripts=="function"}async function Yj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Jj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function Xj(){return vE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="firebaseLocalStorageDb",Zj=1,bu="firebaseLocalStorage",xE="fbase_key";class Na{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ec(t,e){return t.transaction([bu],e?"readwrite":"readonly").objectStore(bu)}function e4(){const t=indexedDB.deleteDatabase(_E);return new Na(t).toPromise()}function tf(){const t=indexedDB.open(_E,Zj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(bu,{keyPath:xE})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(bu)?e(r):(r.close(),await e4(),e(await tf()))})})}async function z0(t,e,n){const r=Ec(t,!0).put({[xE]:e,value:n});return new Na(r).toPromise()}async function t4(t,e){const n=Ec(t,!1).get(e),r=await new Na(n).toPromise();return r===void 0?null:r.value}function $0(t,e){const n=Ec(t,!0).delete(e);return new Na(n).toPromise()}const n4=800,r4=3;class wE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tf(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>r4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wc._getInstance(Xj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await Yj(),!this.activeServiceWorker)return;this.sender=new Gj(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Jj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tf();return await z0(e,Nu,"1"),await $0(e,Nu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>z0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>t4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>$0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Ec(s,!1).getAll();return new Na(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),n4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wE.type="LOCAL";const s4=wE;new Ia(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(t,e){return e?Dn(e):(Q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm extends Ym{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ri(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ri(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ri(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function o4(t){return hE(t.auth,new Zm(t),t.bypassAuthState)}function a4(t){const{auth:e,user:n}=t;return Q(n,e,"internal-error"),Lj(n,new Zm(t),t.bypassAuthState)}async function l4(t){const{auth:e,user:n}=t;return Q(n,e,"internal-error"),Vj(n,new Zm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:u}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return o4;case"linkViaPopup":case"linkViaRedirect":return l4;case"reauthViaPopup":case"reauthViaRedirect":return a4;default:rn(this.auth,"internal-error")}}resolve(e){Wn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4=new Ia(2e3,1e4);class Ws extends EE{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ws.currentPopupAction&&Ws.currentPopupAction.cancel(),Ws.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Q(e,this.auth,"internal-error"),e}async onExecution(){Wn(this.filter.length===1,"Popup operations only handle one event");const e=Xm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(xn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(xn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ws.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,u4.get())};e()}}Ws.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4="pendingRedirect",Vl=new Map;class d4 extends EE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Vl.get(this.auth._key());if(!e){try{const r=await h4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Vl.set(this.auth._key(),e)}return this.bypassAuthState||Vl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function h4(t,e){const n=p4(e),r=m4(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function f4(t,e){Vl.set(t._key(),e)}function m4(t){return Dn(t._redirectPersistence)}function p4(t){return Ol(c4,t.config.apiKey,t.name)}async function g4(t,e,n=!1){if(Ft(t.app))return Promise.reject(kr(t));const r=Ri(t),s=i4(r,e),o=await new d4(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4=10*60*1e3;class v4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!TE(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(xn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=y4&&this.cachedEventUids.clear(),this.cachedEventUids.has(B0(e))}saveEventToCache(e){this.cachedEventUids.add(B0(e)),this.lastProcessedEventTime=Date.now()}}function B0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function TE({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return TE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x4(t,e={}){return Br(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,E4=/^https?/;async function T4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await x4(t);for(const n of e)try{if(I4(n))return}catch{}rn(t,"unauthorized-domain")}function I4(t){const e=Zh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!E4.test(n))return!1;if(w4.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4=new Ia(3e4,6e4);function q0(){const t=wn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function N4(t){return new Promise((e,n)=>{var s,i,o;function r(){q0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{q0(),n(xn(t,"network-request-failed"))},timeout:S4.get()})}if((i=(s=wn().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=wn().gapi)!=null&&o.load)r();else{const u=_j("iframefcb");return wn()[u]=()=>{gapi.load?r():n(xn(t,"network-request-failed"))},aE(`${vj()}?onload=${u}`).catch(c=>n(c))}}).catch(e=>{throw Ll=null,e})}let Ll=null;function b4(t){return Ll=Ll||N4(t),Ll}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4=new Ia(5e3,15e3),A4="__/auth/iframe",C4="emulator/auth/iframe",R4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},P4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function j4(t){const e=t.config;Q(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Km(e,C4):`https://${t.config.authDomain}/${A4}`,r={apiKey:e.apiKey,appName:t.name,v:_s},s=P4.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${ya(r).slice(1)}`}async function D4(t){const e=await b4(t),n=wn().gapi;return Q(n,t,"internal-error"),e.open({where:document.body,url:j4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:R4,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=xn(t,"network-request-failed"),u=wn().setTimeout(()=>{i(o)},k4.get());function c(){wn().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},V4=500,L4=600,M4="_blank",F4="http://localhost";class H0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function U4(t,e,n,r=V4,s=L4){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c={...O4,width:r.toString(),height:s.toString(),top:i,left:o},d=ht().toLowerCase();n&&(u=eE(d)?M4:n),X1(d)&&(e=e||F4,c.scrollbars="yes");const f=Object.entries(c).reduce((g,[T,k])=>`${g}${T}=${k},`,"");if(uj(d)&&u!=="_self")return z4(e||"",u),new H0(null);const p=window.open(e||"",u,f);Q(p,t,"popup-blocked");try{p.focus()}catch{}return new H0(p)}function z4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4="__/auth/handler",B4="emulator/auth/handler",q4=encodeURIComponent("fac");async function W0(t,e,n,r,s,i){Q(t.config.authDomain,t,"auth-domain-config-required"),Q(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:_s,eventId:s};if(e instanceof cE){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",ck(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries({}))o[f]=p}if(e instanceof Sa){const f=e.getScopes().filter(p=>p!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const u=o;for(const f of Object.keys(u))u[f]===void 0&&delete u[f];const c=await t._getAppCheckToken(),d=c?`#${q4}=${encodeURIComponent(c)}`:"";return`${H4(t)}?${ya(u).slice(1)}${d}`}function H4({config:t}){return t.emulator?Km(t,B4):`https://${t.authDomain}/${$4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad="webStorageSupport";class W4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yE,this._completeRedirectFn=g4,this._overrideRedirectResult=f4}async _openPopup(e,n,r,s){var o;Wn((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await W0(e,n,r,Zh(),s);return U4(e,i,Xm())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await W0(e,n,r,Zh(),s);return Qj(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Wn(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await D4(e),r=new v4(e);return n.register("authEvent",s=>(Q(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ad,{type:Ad},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[Ad];i!==void 0&&n(!!i),rn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=T4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return iE()||Z1()||Qm()}}const K4=W4;var K0="@firebase/auth",G0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Y4(t){hs(new Rr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:u}=r.options;Q(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oE(t)},d=new pj(r,s,i,c);return Sj(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),hs(new Rr("auth-internal",e=>{const n=Ri(e.getProvider("auth").getImmediate());return(r=>new G4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pn(K0,G0,Q4(t)),pn(K0,G0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4=5*60,X4=nw("authIdTokenMaxAge")||J4;let Q0=null;const Z4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>X4)return;const s=n==null?void 0:n.token;Q0!==s&&(Q0=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function e3(t=ec()){const e=Zu(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Ij(t,{popupRedirectResolver:K4,persistence:[s4,Wj,yE]}),r=nw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=Z4(i.toString());$j(n,o,()=>o(n.currentUser)),zj(n,u=>o(u))}}const s=Zx("auth");return s&&Nj(n,`http://${s}`),n}function t3(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}gj({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=xn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",t3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Y4("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="firebasestorage.googleapis.com",n3="storageBucket",r3=2*60*1e3,s3=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn extends Nn{constructor(e,n,r=0){super(Cd(e),`Firebase Storage: ${n} (${Cd(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,bn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Cd(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var In;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(In||(In={}));function Cd(t){return"storage/"+t}function i3(){const t="An unknown error occurred, please check the error payload for server response.";return new bn(In.UNKNOWN,t)}function o3(){return new bn(In.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function a3(){return new bn(In.CANCELED,"User canceled the upload/download.")}function l3(t){return new bn(In.INVALID_URL,"Invalid URL '"+t+"'.")}function u3(t){return new bn(In.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Y0(t){return new bn(In.INVALID_ARGUMENT,t)}function SE(){return new bn(In.APP_DELETED,"The Firebase app was deleted.")}function c3(t){return new bn(In.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Yt.makeFromUrl(e,n)}catch{return new Yt(e,"")}if(r.path==="")return r;throw u3(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const o="(/(.*))?$",u=new RegExp("^gs://"+s+o,"i"),c={bucket:1,path:3};function d(S){S.path_=decodeURIComponent(S.path)}const f="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",T=new RegExp(`^https?://${p}/${f}/b/${s}/o${g}`,"i"),k={bucket:1,path:3},C=n===IE?"(?:storage.googleapis.com|storage.cloud.google.com)":n,R="([^?#]*)",w=new RegExp(`^https?://${C}/${s}/${R}`,"i"),E=[{regex:u,indices:c,postModify:i},{regex:T,indices:k,postModify:d},{regex:w,indices:{bucket:1,path:2},postModify:d}];for(let S=0;S<E.length;S++){const V=E[S],M=V.regex.exec(e);if(M){const x=M[V.indices.bucket];let y=M[V.indices.path];y||(y=""),r=new Yt(x,y),V.postModify(r);break}}if(r==null)throw l3(e);return r}}class d3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(t,e,n){let r=1,s=null,i=null,o=!1,u=0;function c(){return u===2}let d=!1;function f(...R){d||(d=!0,e.apply(null,R))}function p(R){s=setTimeout(()=>{s=null,t(T,c())},R)}function g(){i&&clearTimeout(i)}function T(R,...w){if(d){g();return}if(R){g(),f.call(null,R,...w);return}if(c()||o){g(),f.call(null,R,...w);return}r<64&&(r*=2);let E;u===1?(u=2,E=0):E=(r+Math.random())*1e3,p(E)}let k=!1;function C(R){k||(k=!0,g(),!d&&(s!==null?(R||(u=2),clearTimeout(s),p(0)):R||(u=1)))}return p(0),i=setTimeout(()=>{o=!0,C(!0)},n),C}function f3(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m3(t){return t!==void 0}function J0(t,e,n,r){if(r<e)throw Y0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Y0(`Invalid value for '${t}'. Expected ${n} or less.`)}function p3(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var ku;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ku||(ku={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g3(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e,n,r,s,i,o,u,c,d,f,p,g=!0,T=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=f,this.connectionFactory_=p,this.retry=g,this.isUsingEmulator=T,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,C)=>{this.resolve_=k,this.reject_=C,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new fl(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=u=>{const c=u.loaded,d=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const u=i.getErrorCode()===ku.NO_ERROR,c=i.getStatus();if(!u||g3(c,this.additionalRetryCodes_)&&this.retry){const f=i.getErrorCode()===ku.ABORT;r(!1,new fl(!1,null,f));return}const d=this.successCodes_.indexOf(c)!==-1;r(!0,new fl(d,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,u=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(u,u.getResponse());m3(c)?i(c):i()}catch(c){o(c)}else if(u!==null){const c=i3();c.serverResponse=u.getErrorText(),this.errorCallback_?o(this.errorCallback_(u,c)):o(c)}else if(s.canceled){const c=this.appDelete_?SE():a3();o(c)}else{const c=o3();o(c)}};this.canceled_?n(!1,new fl(!1,null,!0)):this.backoffId_=h3(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&f3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class fl{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function v3(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function _3(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function x3(t,e){e&&(t["X-Firebase-GMPID"]=e)}function w3(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function E3(t,e,n,r,s,i,o=!0,u=!1){const c=p3(t.urlParams),d=t.url+c,f=Object.assign({},t.headers);return x3(f,e),v3(f,n),_3(f,i),w3(f,r),new y3(d,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T3(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function I3(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,n){this._service=e,n instanceof Yt?this._location=n:this._location=Yt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Au(e,n)}get root(){const e=new Yt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return I3(this._location.path)}get storage(){return this._service}get parent(){const e=T3(this._location.path);if(e===null)return null;const n=new Yt(this._location.bucket,e);return new Au(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw c3(e)}}function X0(t,e){const n=e==null?void 0:e[n3];return n==null?null:Yt.makeFromBucketSpec(n,t)}function S3(t,e,n,r={}){t.host=`${e}:${n}`;const s=vs(e);s&&(im(`https://${t.host}/b`),om("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:rw(i,t.app.options.projectId))}class N3{constructor(e,n,r,s,i,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=IE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=r3,this._maxUploadRetryTime=s3,this._requests=new Set,s!=null?this._bucket=Yt.makeFromBucketSpec(s,this._host):this._bucket=X0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Yt.makeFromBucketSpec(this._url,e):this._bucket=X0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){J0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){J0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Ft(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Au(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new d3(SE());{const o=E3(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const Z0="@firebase/storage",ev="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="storage";function b3(t=ec(),e){t=qe(t);const r=Zu(t,NE).getImmediate({identifier:e}),s=ew("storage");return s&&k3(r,...s),r}function k3(t,e,n,r={}){S3(t,e,n,r)}function A3(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new N3(n,r,s,e,_s)}function C3(){hs(new Rr(NE,A3,"PUBLIC").setMultipleInstances(!0)),pn(Z0,ev,""),pn(Z0,ev,"esm2020")}C3();const bE={apiKey:"AIzaSyDiPsSLQC2qqEibteSsJfn9BtPEMeazuZg",authDomain:"beafrique-65903.firebaseapp.com",projectId:"beafrique-65903",storageBucket:"beafrique-65903.firebasestorage.app",messagingSenderId:"331784703585",appId:"1:331784703585:web:e1796a85c252776e2e6420",measurementId:"G-NT7G9EZ1CE"},tv=Object.entries(bE).filter(([,t])=>!t).map(([t])=>t);if(tv.length){const t=`[Firebase config] Missing env(s): ${tv.join(", ")}. Remember: in Vite they must start with VITE_.`;console.error(t)}const ep=hA().length?ec():ow(bE),mr=EP(ep),Cu=e3(ep);b3(ep);const R3={black:"#000000",white:"#ffffff",olive:"#556B2F",green:"#008000",red:"#cc0000",blue:"#1e40af",navy:"#001f3f",brown:"#6b4423",beige:"#f5f5dc",gold:"#d4af37",cream:"#f1eadb",purple:"#6b21a8"};function P3(t){if(!t)return"#ddd";const e=t.trim().toLowerCase();return R3[e]||e}function j3(t){return t?t.split(/[•\-\n.;,]/g).map(n=>n.trim()).filter(Boolean).filter(n=>n.length>=3&&n.length<=40).slice(0,4):[]}function D3(){const{slug:t=""}=rS(),[e,n]=P.useState(null),[r,s]=P.useState([]),[i,o]=P.useState(null),[u,c]=P.useState(null),[d,f]=P.useState(null),[p,g]=P.useState(!0),T=pa(S=>S.add);function k(){var S;T({slug:t,qty:1,size:u,color:i,title:e==null?void 0:e.title,image:d||(e==null?void 0:e.primary_image_url)||((S=e==null?void 0:e.image_urls)==null?void 0:S[0])})}P.useEffect(()=>{(async()=>{var N,ge,Te,Qe,Vt,$,G,J,ce,fe;g(!0);const S=Hs(mr,"products",t),V=await qm(S);if(!V.exists()){n(null),g(!1);return}const M=V.data();n(M);const y=(await B1(U1(P1(mr,"products",t,"variants"),OP("size","asc")))).docs.map(nt=>({sku:nt.id,...nt.data()}));s(y);const I=((ge=(N=M.swatches)==null?void 0:N[0])==null?void 0:ge.id)||((Te=y[0])==null?void 0:Te.color_id)||(((Qe=M.colors)==null?void 0:Qe[0])??null);o(I);const A=((Vt=y.find(nt=>(nt.color_id??"")===I))==null?void 0:Vt.size)||(($=y[0])==null?void 0:$.size)||null||(((G=M.sizes)==null?void 0:G[0])??null);c(A);const j=(ce=(J=y.find(nt=>(nt.color_id??"")===I))==null?void 0:J.image_urls)==null?void 0:ce[0];f(j??M.primary_image_url??((fe=M.image_urls)==null?void 0:fe[0])??null),g(!1)})()},[t]);const C=P.useMemo(()=>r.length?Array.from(new Set(r.filter(S=>(S.color_id??"")===(i??"")).map(S=>S.size))):(e==null?void 0:e.sizes)??[],[r,i,e==null?void 0:e.sizes]),R=P.useMemo(()=>{var x;const S=((x=r.find(y=>(y.color_id??"")===(i??"")&&y.size===u))==null?void 0:x.image_urls)??[],V=(e==null?void 0:e.image_urls)??[],M=[d||"",...S.filter(y=>y&&y!==d),...V].filter(Boolean);return Array.from(new Map(M.map(y=>[y,!0])).keys())},[r,i,u,d,e==null?void 0:e.image_urls]),w=P.useMemo(()=>r.find(S=>(S.color_id??"")===(i??"")&&S.size===u),[r,i,u]),v=new Intl.NumberFormat("en-GB",{style:"currency",currency:(e==null?void 0:e.currency)||"GBP"}).format(((w==null?void 0:w.price_cents)??(e==null?void 0:e.min_price_cents)??0)/100),E=P.useMemo(()=>{var S,V;return(S=e==null?void 0:e.swatches)!=null&&S.length?e.swatches.map(M=>({key:M.id,title:M.name,hex:M.hex})):(V=e==null?void 0:e.colors)!=null&&V.length?e.colors.map(M=>({key:M,title:M,hex:P3(M)})):[]},[e==null?void 0:e.swatches,e==null?void 0:e.colors]);return P.useMemo(()=>j3(e==null?void 0:e.description),[e==null?void 0:e.description]),p?l.jsx("div",{className:"container py-16",children:"Loading…"}):e?l.jsxs("div",{className:"container py-10 grid lg:grid-cols-2 gap-10",children:[l.jsxs("div",{children:[l.jsx("div",{className:"aspect-[3/4] bg-gray-50 rounded-2xl overflow-hidden",children:d?l.jsx("img",{src:d,alt:e.title,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full grid place-items-center text-gray-400",children:"Image"})}),R.length>1&&l.jsx("div",{className:"mt-3 grid grid-cols-5 gap-2",children:R.map((S,V)=>l.jsx("button",{onClick:()=>f(S),className:`aspect-square rounded overflow-hidden border ${d===S?"ring-2 ring-emerald-600":""}`,children:l.jsx("img",{src:S,alt:"",className:"w-full h-full object-cover"})},V))})]}),l.jsxs("div",{children:[e.brand&&l.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:e.brand}),l.jsx("h1",{className:"text-2xl md:text-3xl font-bold",children:e.title}),l.jsx("div",{className:"mt-2 text-emerald-700 text-xl font-semibold",children:v}),E.length>0&&l.jsxs("div",{className:"mt-5",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Colour"}),l.jsx("div",{className:"flex gap-2",children:E.map(S=>l.jsx("button",{title:S.title,onClick:()=>{var x,y,I,b;o(S.key);const V=((x=r.find(A=>(A.color_id??"")===S.key))==null?void 0:x.size)||((y=e==null?void 0:e.sizes)==null?void 0:y[0])||null;c(V);const M=(b=(I=r.find(A=>(A.color_id??"")===S.key))==null?void 0:I.image_urls)==null?void 0:b[0];f(M||(e==null?void 0:e.primary_image_url)||null)},className:`h-8 w-8 rounded-full border ring-2 ${i===S.key?"ring-emerald-600":"ring-transparent"}`,style:{background:S.hex}},S.key))})]}),C.length>0&&l.jsxs("div",{className:"mt-5",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Size"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:C.map(S=>l.jsx("button",{onClick:()=>c(S),className:`px-3 py-1 rounded-full border text-sm ${u===S?"bg-emerald-600 text-white border-emerald-600":"bg-white"}`,children:S},S))})]}),e.description&&l.jsx("div",{className:"mt-6 prose prose-sm max-w-none",children:l.jsx("p",{className:"text-gray-700",children:e.description})}),l.jsxs("div",{className:"mt-8 flex gap-3",children:[l.jsx(ae,{to:"/checkout",onClick:k,className:"px-4 py-2 rounded bg-emerald-600 text-white",children:"Buy now"}),l.jsx("button",{onClick:k,className:"px-4 py-2 rounded border",children:"Add to cart"})]})]})]}):l.jsx("div",{className:"container py-16",children:"Not found"})}function O3(){return l.jsxs("div",{className:"bg-white",children:[l.jsx("section",{className:"bg-emerald-900 text-emerald-50",children:l.jsx("div",{className:"container py-12 md:py-16",children:l.jsxs("div",{className:"grid gap-8 md:grid-cols-2 items-center",children:[l.jsxs("div",{children:[l.jsx("span",{className:"inline-flex items-center gap-2 rounded-full bg-yellow-400 px-3 py-1 text-xs font-semibold text-emerald-900 ring-1 ring-yellow-300",children:"About Be Afrique"}),l.jsx("h1",{className:"mt-4 text-3xl md:text-5xl font-bold leading-tight tracking-tight",children:"Conscious fashion, rooted in heritage."}),l.jsx("p",{className:"mt-3 text-sm md:text-base text-emerald-100/90 max-w-xl",children:"We create sustainable ready-to-wear that celebrates African identity, empowers women, and protects the planet—crafted in the spirit of culture and community."})]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"overflow-hidden rounded-2xl ring-1 ring-emerald-800 shadow-sm",children:l.jsx("img",{src:Ah,alt:"Be Afrique",className:"h-full w-full object-cover"})}),l.jsx("div",{className:"absolute -top-3 -right-3 rounded-full bg-yellow-400 px-3 py-1 text-xs font-bold text-emerald-900 shadow",children:"Since 2022"})]})]})})}),l.jsx("section",{id:"values",className:"py-14",children:l.jsxs("div",{className:"container",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-emerald-700 text-sm font-semibold",children:"Our Core"}),l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-emerald-900",children:"Values"}),l.jsx("div",{className:"mt-2 h-1 w-16 bg-yellow-400 rounded mx-auto"})]}),l.jsxs("div",{className:"mt-8 grid gap-5 md:grid-cols-3",children:[l.jsxs("div",{className:"rounded-2xl ring-1 ring-gray-200 bg-white p-6 shadow-sm",children:[l.jsx("div",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-yellow-400 text-emerald-900 font-bold",children:"♻️"}),l.jsx("h3",{className:"mt-4 text-lg font-semibold text-emerald-900",children:"Sustainability"}),l.jsx("p",{className:"mt-2 text-[15px] leading-relaxed text-gray-700",children:"Ethical, eco-friendly practices at the core—so fashion feels good on you and the planet."})]}),l.jsxs("div",{className:"rounded-2xl ring-1 ring-gray-200 bg-white p-6 shadow-sm",children:[l.jsx("div",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-yellow-400 text-emerald-900 font-bold",children:"🪡"}),l.jsx("h3",{className:"mt-4 text-lg font-semibold text-emerald-900",children:"Craft & Heritage"}),l.jsx("p",{className:"mt-2 text-[15px] leading-relaxed text-gray-700",children:"Designs that celebrate African identity, artistry, and stories—stitched with intention."})]}),l.jsxs("div",{className:"rounded-2xl ring-1 ring-gray-200 bg-white p-6 shadow-sm",children:[l.jsx("div",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-yellow-400 text-emerald-900 font-bold",children:"🤝"}),l.jsx("h3",{className:"mt-4 text-lg font-semibold text-emerald-900",children:"Women Empowerment"}),l.jsx("p",{className:"mt-2 text-[15px] leading-relaxed text-gray-700",children:"We support artisans, build communities, and foster economic independence for women."})]})]})]})}),l.jsx("section",{id:"mission-vision",className:"py-14 bg-emerald-50",children:l.jsxs("div",{className:"container",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-emerald-700 text-sm font-semibold",children:"Why we exist"}),l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-emerald-900",children:"Mission & Vision"}),l.jsx("div",{className:"mt-2 h-1 w-16 bg-yellow-400 rounded mx-auto"})]}),l.jsxs("div",{className:"mt-8 grid gap-6 md:grid-cols-2",children:[l.jsxs("article",{className:"rounded-2xl ring-1 ring-gray-200 bg-white p-6 md:p-8 shadow-sm",children:[l.jsx("div",{className:"inline-flex items-center gap-2 rounded-full bg-yellow-400 px-3 py-1 text-xs font-semibold text-emerald-900 ring-1 ring-yellow-300",children:"🎯 Mission"}),l.jsx("h3",{className:"mt-4 text-2xl font-bold text-emerald-900",children:"Sustainable style, African pride."}),l.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[l.jsx("span",{className:"inline-flex rounded-full bg-yellow-100 text-emerald-900 px-3 py-1 text-[11px] font-semibold ring-1 ring-yellow-200",children:"“Sustainable style, African pride.”"}),l.jsx("span",{className:"inline-flex rounded-full bg-yellow-100 text-emerald-900 px-3 py-1 text-[11px] font-semibold ring-1 ring-yellow-200",children:"“Eco-friendly fashion, rooted in culture.”"})]}),l.jsx("p",{className:"mt-4 text-[15px] leading-relaxed text-gray-700",children:"At BeAfrique, our mission is to craft eco-friendly and sustainable ready-to-wear designs that celebrate African heritage and identity. We promote cultural awareness with timeless pieces that inspire Africans in the diaspora to embrace their roots—while welcoming everyone who appreciates the beauty and artistry of African fashion. Our commitment is to people and the planet, ensuring every design uplifts culture, fosters pride, and supports a more sustainable future."})]}),l.jsxs("article",{className:"rounded-2xl ring-1 ring-gray-200 bg-white p-6 md:p-8 shadow-sm",children:[l.jsx("div",{className:"inline-flex items-center gap-2 rounded-full bg-yellow-400 px-3 py-1 text-xs font-semibold text-emerald-900 ring-1 ring-yellow-300",children:"🌍 Vision"}),l.jsx("h3",{className:"mt-4 text-2xl font-bold text-emerald-900",children:"Bridging cultures through conscious fashion."}),l.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[l.jsx("span",{className:"inline-flex rounded-full bg-yellow-100 text-emerald-900 px-3 py-1 text-[11px] font-semibold ring-1 ring-yellow-200",children:"“Bridging cultures through conscious fashion.”"}),l.jsx("span",{className:"inline-flex rounded-full bg-yellow-100 text-emerald-900 px-3 py-1 text-[11px] font-semibold ring-1 ring-yellow-200",children:"“Where African heritage meets sustainable living.”"})]}),l.jsx("p",{className:"mt-4 text-[15px] leading-relaxed text-gray-700",children:"Our vision is to become a leading global brand in sustainable African fashion—bridging cultures, empowering communities, and setting new standards for ethical style. We aspire to a world where African-inspired fashion is embraced universally—not only as a statement of identity but as a movement toward conscious, responsible living."})]})]})]})}),l.jsx("section",{className:"py-14",children:l.jsxs("div",{className:"container grid gap-10 md:grid-cols-2 items-start",children:[l.jsxs("div",{className:"order-2 md:order-1",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-emerald-900",children:"Our Story"}),l.jsx("div",{className:"mt-2 h-1 w-16 bg-yellow-400 rounded"}),l.jsxs("div",{className:"mt-6 space-y-4 text-[15px] leading-relaxed text-gray-700",children:[l.jsx("p",{children:"Be Afrique was born from a love of African fashion and a passion for sustainability. We create eco-friendly, sustainable ready-to-wear designs that celebrate African heritage and identity—inviting the world to wear culture with pride while caring for the planet."}),l.jsx("p",{children:"Clothing is more than fabric; it’s a reflection of identity, culture, and values. Our journey began with a vision: to keep the diaspora connected to home while welcoming everyone to celebrate the artistry of African design. Every piece carries a story of tradition, pride, and belonging."}),l.jsx("p",{children:"Our mission goes beyond style. We protect people and planet by crafting with responsible materials and mindful production. Be Afrique is a movement—to embrace identity, champion sustainability, and celebrate African culture everywhere."})]}),l.jsx("div",{className:"mt-8",children:l.jsxs("a",{href:"/values",className:"inline-flex items-center gap-2 rounded-full bg-yellow-400 px-6 py-3 text-sm font-semibold text-emerald-900 hover:bg-yellow-500",children:["Learn more about our values ",l.jsx("span",{"aria-hidden":!0,children:"→"})]})})]}),l.jsx("div",{className:"order-1 md:order-2",children:l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"overflow-hidden rounded-2xl ring-1 ring-gray-200 shadow-sm",children:l.jsx("img",{src:Ah,alt:"Our Values",className:"w-full h-full object-cover"})}),l.jsx("div",{className:"pointer-events-none absolute inset-0 rounded-2xl bg-gradient-to-t from-black/30 via-transparent to-transparent"})]})})]})}),l.jsx("section",{className:"py-10 bg-emerald-50",children:l.jsx("div",{className:"container",children:l.jsx("div",{className:"grid grid-cols-3 gap-4",children:[{label:"Years in Business",value:"3+"},{label:"Women Empowered",value:"2,000+"},{label:"Reviews",value:"65+"}].map(t=>l.jsxs("div",{className:"rounded-2xl bg-white ring-1 ring-gray-200 p-5 text-center",children:[l.jsx("p",{className:"text-3xl font-bold text-emerald-900",children:t.value}),l.jsx("p",{className:"text-xs font-semibold text-emerald-900/70 mt-1",children:t.label})]},t.label))})})}),l.jsx("section",{className:"py-14 bg-emerald-900 text-emerald-50",children:l.jsxs("div",{className:"container grid gap-6 md:grid-cols-2 items-center",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl md:text-3xl font-bold",children:"Join the movement—wear culture with pride."}),l.jsx("p",{className:"mt-2 text-sm md:text-base text-emerald-100/90",children:"Explore our latest drops or learn how we’re empowering women and communities."})]}),l.jsxs("div",{className:"flex flex-wrap gap-3 md:justify-end",children:[l.jsx("a",{href:"/catalogue",className:"inline-flex items-center gap-2 rounded-full bg-yellow-400 px-6 py-3 text-sm font-semibold text-emerald-900 hover:bg-yellow-500",children:"Shop Catalogue"}),l.jsx("a",{href:"/what-we-do#women",className:"inline-flex items-center gap-2 rounded-full border border-emerald-200/40 px-6 py-3 text-sm font-semibold text-emerald-50 hover:bg-emerald-800",children:"Our Impact"})]})]})})]})}function V3(){return l.jsx("div",{className:"container py-12",children:l.jsxs("div",{className:"grid md:grid-cols-2 gap-12",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsx("h1",{className:"text-3xl md:text-4xl font-semibold text-center md:text-left text-gray-900",children:"Get in Touch"}),l.jsx("p",{className:"mt-2 text-gray-600 text-lg text-center md:text-left",children:"We'd love to hear from you. Schedule a free consultation or drop us a message."}),l.jsxs("ul",{className:"mt-6 space-y-4 text-gray-700 text-lg",children:[l.jsxs("li",{children:[l.jsx("strong",{children:"📞 Phone:"})," ",ze.phone]}),l.jsxs("li",{children:[l.jsx("strong",{children:"📧 Email:"})," ",ze.email]}),l.jsxs("li",{children:[l.jsx("strong",{children:"🏢 Address:"})," ",ze.address]})]}),l.jsx("a",{href:`https://wa.me/${ze.whatsapp}`,target:"_blank",rel:"noreferrer",className:"inline-block mt-6 rounded-lg bg-green-600 text-white px-6 py-3 text-lg font-semibold hover:bg-green-700 transition",children:"Chat with Us on WhatsApp"})]}),l.jsxs("form",{className:"p-8 rounded-2xl border bg-white shadow-xl space-y-6",children:[l.jsx("h2",{className:"text-2xl font-semibold text-gray-900 text-center",children:"Send Us a Message"}),l.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[l.jsx("input",{placeholder:"First Name",className:"border border-gray-300 rounded-lg px-4 py-2 text-lg focus:outline-none focus:ring-2 focus:ring-green-600"}),l.jsx("input",{placeholder:"Last Name",className:"border border-gray-300 rounded-lg px-4 py-2 text-lg focus:outline-none focus:ring-2 focus:ring-green-600"})]}),l.jsx("input",{placeholder:"Your Email",className:"border border-gray-300 rounded-lg px-4 py-2 text-lg w-full focus:outline-none focus:ring-2 focus:ring-green-600"}),l.jsx("textarea",{placeholder:"Your Message",className:"border border-gray-300 rounded-lg px-4 py-2 text-lg w-full h-40 focus:outline-none focus:ring-2 focus:ring-green-600"}),l.jsx("button",{className:"w-full bg-green-600 text-white py-3 text-lg font-semibold rounded-lg hover:bg-green-700 transition",children:"Send Message"})]})]})})}const L3="https://beafrique-server.vercel.app",M3=window.location.origin;async function F3(t){var r;if(!((r=t.items)!=null&&r.length))throw new Error("Cart is empty.");const e=await fetch(`${L3}/api/createCheckoutSession`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...t,returnUrl:M3})}),{url:n}=await e.json();if(!n)throw new Error("No checkout URL returned");window.location.href=n}function U3(){const{items:t,setQty:e,remove:n,clear:r}=pa(),s=ze==null?void 0:ze.currencySymbol,[i,o]=P.useState(!1),[u,c]=P.useState(null),d=t.reduce((S,V)=>S+(V.price||0)*V.qty,0),f=P.useMemo(()=>{const S=new Date,V=M=>String(M).padStart(2,"0");return`BA-${S.getFullYear()}${V(S.getMonth()+1)}${V(S.getDate())}-${V(S.getHours())}${V(S.getMinutes())}`},[]),[p,g]=P.useState({name:"",phone:"",email:"",address:"",city:"",state:""}),[T,k]=P.useState(!1);if(!t.length)return l.jsxs("div",{className:"container py-12",children:[l.jsx("p",{children:"Your cart is empty."}),l.jsx(ae,{to:"/products",className:"mt-4 inline-block px-4 py-2 rounded bg-brand text-white",children:"Shop products"})]});const C=async S=>{try{await navigator.clipboard.writeText(S),alert("Copied!")}catch{alert(S)}},R=`Hello ${ze.name},
Order ID: ${f}

Items:
${t.map(S=>`• ${S.name??S.slug}${S.size?` (UK ${S.size})`:""} ×${S.qty} = ${s}${((S.price||0)*S.qty).toLocaleString()}`).join(`
`)}

Total: ${s}${d.toLocaleString()}

Shipping details:
Name: ${p.name||"-"}
Phone: ${p.phone||"-"}
Email: ${p.email||"-"}
Address: ${p.address||"-"}, ${p.city||"-"}, ${p.state||"-"}

Payment method: Bank Transfer
I'll send proof shortly.`,w=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(p.email.trim()),v=p.name.trim().length>1&&w&&T&&t.every(S=>!!S.slug&&S.qty>0),E=async()=>{if(c(null),!v){c("Please fill name & a valid email, and accept the terms.");return}try{o(!0),await F3({items:t.map(S=>({slug:S.slug,qty:S.qty,size:S.size??void 0,color:S.color??void 0})),orderId:f,email:p.email})}catch(S){c((S==null?void 0:S.message)||"Could not start checkout"),o(!1)}};return l.jsxs("div",{className:"container py-10 grid lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"lg:col-span-2",children:[l.jsx("h1",{className:"text-2xl md:text-3xl font-bold",children:"Checkout"}),l.jsx("div",{className:"mt-6 space-y-4",children:t.map(S=>l.jsxs("div",{className:"p-4 rounded-xl border flex items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[S.image&&l.jsx("img",{src:S.image,alt:S.name||S.slug,className:"h-16 w-16 rounded-lg object-cover border"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:S.name||S.slug}),l.jsxs("p",{className:"text-sm text-gray-600",children:[S.size?`UK ${S.size} • `:"",s,(S.price||0).toLocaleString()]})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("input",{type:"number",min:1,value:S.qty,onChange:V=>e(S.slug,S.size??null,S.color??null,Math.max(1,Number(V.target.value||1))),className:"w-20 border rounded-lg px-3 py-2"}),l.jsx("button",{onClick:()=>n(S.slug,S.size??null,S.color??null),className:"text-red-600 hover:underline",children:"Remove"})]})]},`${S.slug}-${S.size??""}-${S.color??""}`))}),l.jsxs("div",{className:"mt-8 p-6 rounded-xl border",children:[l.jsx("p",{className:"font-semibold",children:"Shipping information"}),l.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 mt-3",children:[l.jsx("input",{placeholder:"Full name *",value:p.name,onChange:S=>g({...p,name:S.target.value}),className:"border rounded-lg px-3 h-11"}),l.jsx("input",{placeholder:"Phone",value:p.phone,onChange:S=>g({...p,phone:S.target.value}),className:"border rounded-lg px-3 h-11"}),l.jsx("input",{placeholder:"Email *",value:p.email,onChange:S=>g({...p,email:S.target.value}),className:"border rounded-lg px-3 h-11 sm:col-span-2"}),l.jsx("input",{placeholder:"Address line",value:p.address,onChange:S=>g({...p,address:S.target.value}),className:"border rounded-lg px-3 h-11 sm:col-span-2"}),l.jsx("input",{placeholder:"City",value:p.city,onChange:S=>g({...p,city:S.target.value}),className:"border rounded-lg px-3 h-11"}),l.jsx("input",{placeholder:"State / County",value:p.state,onChange:S=>g({...p,state:S.target.value}),className:"border rounded-lg px-3 h-11"})]}),l.jsxs("label",{className:"flex items-start gap-2 mt-3 text-sm",children:[l.jsx("input",{type:"checkbox",checked:T,onChange:S=>k(S.target.checked)}),l.jsxs("span",{children:["I agree to the ",l.jsx(ae,{to:"/terms",className:"underline",children:"Terms"})," &"," ",l.jsx(ae,{to:"/returns",className:"underline",children:"Returns Policy"}),"."]})]}),u&&l.jsx("p",{className:"mt-3 text-sm text-red-600",children:u})]})]}),l.jsxs("aside",{className:"h-fit p-6 rounded-xl border bg-white shadow-sm",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"font-semibold text-lg",children:"Order summary"}),l.jsx("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded-full",children:f})]}),l.jsxs("div",{className:"flex justify-between mt-2 text-sm text-gray-700",children:[l.jsx("span",{children:"Subtotal"}),l.jsxs("span",{children:[s,d.toLocaleString()]})]}),l.jsxs("div",{className:"flex justify-between text-sm text-gray-700 mt-1",children:[l.jsx("span",{children:"Shipping"}),l.jsx("span",{children:"Calculated at fulfillment"})]}),l.jsxs("div",{className:"border-t mt-3 pt-3 flex justify-between font-semibold",children:[l.jsx("span",{children:"Total"}),l.jsxs("span",{children:[s,d.toLocaleString()]})]}),l.jsx("button",{onClick:E,disabled:i,className:`mt-6 w-full rounded-lg px-5 py-3 text-white ${i?"bg-emerald-400 cursor-not-allowed":"bg-emerald-600 hover:bg-emerald-700"}`,children:i?"Redirecting…":"Pay with Card (Secure)"}),l.jsxs("div",{className:"mt-6",children:[l.jsx("p",{className:"font-semibold",children:"Or pay by Bank Transfer"}),l.jsxs("div",{className:"mt-2 p-4 rounded-lg bg-gray-50 border text-sm space-y-1",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Bank:"})," ",tr.bankName]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Account Name:"})," ",tr.accountName]}),l.jsxs("p",{className:"flex items-center justify-between",children:[l.jsxs("span",{children:[l.jsx("strong",{children:"Account No:"})," ",tr.accountNumber,` • Sort code: ${tr.sortCode}`]}),l.jsx("button",{onClick:()=>C(tr.accountNumber),className:"ml-3 text-emerald-700 hover:underline",children:"Copy"})]}),l.jsxs("p",{className:"flex items-center justify-between",children:[l.jsxs("span",{children:[l.jsx("strong",{children:"IBAN:"})," ",tr.iban]}),l.jsx("button",{onClick:()=>C(tr.iban),className:"ml-3 text-emerald-700 hover:underline",children:"Copy"})]}),l.jsx("p",{className:"mt-2 text-gray-600",children:tr.note})]}),l.jsx("a",{href:`https://wa.me/${ze.whatsapp}?text=`+encodeURIComponent(R),target:"_blank",rel:"noreferrer",className:"mt-4 inline-flex items-center justify-center w-full rounded-lg bg-brand text-white px-5 py-3 hover:bg-brand-dark",children:"Send Proof on WhatsApp"}),l.jsx("button",{onClick:r,className:"mt-3 w-full rounded-lg border px-5 py-3 hover:bg-gray-50",children:"Clear Cart"})]}),l.jsx("p",{className:"mt-4 text-xs text-gray-500",children:"Card payments are processed securely by Stripe. Your items are reserved for 24h for bank transfers."})]})]})}function z3(){const t=Gx;return l.jsxs("div",{className:"bg-white",children:[l.jsxs("section",{className:"relative isolate overflow-hidden bg-emerald-900 text-emerald-50",children:[l.jsx("div",{className:`pointer-events-none absolute inset-0 -z-10 opacity-70 [background:
          radial-gradient(700px_700px_at_0%_0%,rgba(250,204,21,0.12),transparent_60%),
          radial-gradient(700px_700px_at_100%_100%,rgba(255,255,255,0.08),transparent_60%)]`}),l.jsx("div",{className:"container py-12 md:py-16",children:l.jsxs("div",{className:"text-center max-w-3xl mx-auto",children:[l.jsx("span",{className:"inline-flex items-center gap-2 rounded-full bg-yellow-400 px-3 py-1 text-xs font-semibold text-emerald-900 ring-1 ring-yellow-300",children:"What we do"}),l.jsx("h1",{className:"mt-4 text-3xl md:text-5xl font-bold leading-tight tracking-tight",children:"Conscious fashion services,crafted with care"}),l.jsx("p",{className:"mt-3 text-sm md:text-base text-emerald-100/90",children:"From ready-to-wear and bespoke fittings to corporate styling and education, we design beautiful pieces rooted in African heritage responsibly made for people and planet."}),l.jsxs("div",{className:"mt-6 flex flex-wrap justify-center gap-3",children:[l.jsx(ae,{to:"/catalogue",className:"inline-flex items-center gap-2 rounded-full bg-yellow-400 px-6 py-3 text-sm font-semibold text-emerald-900 hover:bg-yellow-500",children:"Shop catalogue"}),l.jsx(ae,{to:"/contact",className:"inline-flex items-center gap-2 rounded-full border border-emerald-200/40 px-6 py-3 text-sm font-semibold text-emerald-50 hover:bg-emerald-800",children:"Book a consultation"})]})]})})]}),l.jsx("section",{className:"py-14",children:l.jsxs("div",{className:"container",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-emerald-700 text-sm font-semibold",children:"What we offer"}),l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-emerald-900",children:"Our Services"}),l.jsx("div",{className:"mt-2 h-1 w-16 bg-yellow-400 rounded mx-auto"})]}),l.jsx("div",{className:"mt-8 grid gap-5 md:grid-cols-2 lg:grid-cols-3",children:[{icon:l.jsx(CN,{className:"w-5 h-5"}),title:"Ready-to-Wear",text:"Seasonal drops with timeless silhouettes, premium finishing, and versatile styling.",link:"/catalogue",cta:"View collection"},{icon:l.jsx(fy,{className:"w-5 h-5"}),title:"Bespoke & Fittings",text:"Made-to-measure pieces, studio fittings, and personalized adjustments for perfect fit.",link:"/contact",cta:"Start your fitting"},{icon:l.jsx(MN,{className:"w-5 h-5"}),title:"Corporate / Styling",text:"Capsule uniforms, shoots, and event styling for teams, productions, and campaigns.",link:"/contact",cta:"Enquire"},{icon:l.jsx(bN,{className:"w-5 h-5"}),title:"Alterations & Repairs",text:"Fine alterations, mends, and refreshes to extend the life of the garments you love.",link:"/contact",cta:"Request a repair"},{icon:l.jsx(uN,{className:"w-5 h-5"}),title:"Bridal & Occasion",text:"Custom bridal and special-occasion looks that honor culture and elevate your moment.",link:"/contact",cta:"Design my look"},{icon:l.jsx(dN,{className:"w-5 h-5"}),title:"Workshops & Mentorship",text:"Hands-on learning for aspiring designers—skills, sustainability, and business basics.",link:"/about#mission-vision",cta:"Learn more"}].map(e=>l.jsxs("article",{className:"rounded-2xl ring-1 ring-gray-200 bg-white p-6 shadow-sm transition hover:shadow-md",children:[l.jsx("div",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-yellow-400 text-emerald-900 ring-1 ring-yellow-300",children:e.icon}),l.jsx("h3",{className:"mt-4 text-lg font-semibold text-emerald-900",children:e.title}),l.jsx("p",{className:"mt-2 text-[15px] leading-relaxed text-gray-700",children:e.text}),l.jsx("div",{className:"mt-4",children:l.jsxs(ae,{to:e.link,className:"inline-flex items-center gap-2 text-emerald-900 hover:underline text-sm font-semibold",children:[e.cta," ",l.jsx("span",{"aria-hidden":!0,children:"→"})]})})]},e.title))})]})}),l.jsx("section",{className:"py-14 bg-emerald-50",children:l.jsxs("div",{className:"container",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-emerald-700 text-sm font-semibold",children:"Simple & transparent"}),l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-emerald-900",children:"How it works"}),l.jsx("div",{className:"mt-2 h-1 w-16 bg-yellow-400 rounded mx-auto"})]}),l.jsx("div",{className:"mt-8 grid gap-5 md:grid-cols-5",children:[{icon:l.jsx(Vx,{className:"w-5 h-5"}),title:"Consult",text:"Share your vision, timeline, and budget."},{icon:l.jsx(fy,{className:"w-5 h-5"}),title:"Design",text:"We sketch, source, and confirm details."},{icon:l.jsx(kh,{className:"w-5 h-5"}),title:"Fitting",text:"Measurements and try-ons for precision."},{icon:l.jsx(bh,{className:"w-5 h-5"}),title:"Make",text:"Mindful production with quality control."},{icon:l.jsx(Lx,{className:"w-5 h-5"}),title:"Deliver",text:"Pickup or shipping—track & enjoy."}].map((e,n)=>l.jsxs("div",{className:"rounded-2xl bg-white ring-1 ring-gray-200 p-5 text-center shadow-sm",children:[l.jsx("div",{className:"mx-auto flex h-10 w-10 items-center justify-center rounded-full bg-yellow-400 text-emerald-900 ring-1 ring-yellow-300",children:e.icon}),l.jsxs("div",{className:"mt-3 text-xs font-semibold text-emerald-700",children:["Step ",n+1]}),l.jsx("h3",{className:"mt-1 text-emerald-900 font-semibold",children:e.title}),l.jsx("p",{className:"mt-1 text-xs text-gray-600",children:e.text})]},e.title))})]})}),l.jsx("section",{className:"py-12 bg-emerald-900 text-emerald-50",children:l.jsx("div",{className:"container",children:l.jsx("div",{className:"grid gap-6 md:grid-cols-3",children:[{icon:l.jsx(bh,{className:"w-5 h-5"}),title:"Ethical materials",text:"Responsible sourcing and skin-friendly fabrics."},{icon:l.jsx(IN,{className:"w-5 h-5"}),title:"Low-waste patterns",text:"Smart cutting, repairs, and circular ideas."},{icon:l.jsx(kh,{className:"w-5 h-5"}),title:"Fair work",text:"Respect, training, and uplift for artisans."}].map(e=>l.jsxs("div",{className:"rounded-2xl bg-white/5 ring-1 ring-emerald-800 p-6",children:[l.jsx("div",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-yellow-400 text-emerald-900 ring-1 ring-yellow-300",children:e.icon}),l.jsx("h3",{className:"mt-4 text-lg font-semibold text-white",children:e.title}),l.jsx("p",{className:"mt-2 text-sm text-emerald-100/90",children:e.text})]},e.title))})})}),l.jsxs("section",{id:"faqs",className:"py-14 bg-white",children:[l.jsx("div",{className:"container",children:l.jsxs("div",{className:"max-w-3xl mx-auto",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-emerald-900 text-center",children:"FAQs"}),l.jsxs("div",{className:"mt-8 divide-y divide-emerald-100",children:[l.jsxs("div",{className:"py-6",children:[l.jsxs("p",{className:"font-semibold text-emerald-900",children:[l.jsx("span",{className:"mr-2 select-none",children:"–"}),"Do we have a pick-up location?"]}),l.jsxs("p",{className:"mt-2 text-[15px] leading-7 text-gray-700",children:["Yes. You can walk in to pick up your order and make payment at our UK studio:",l.jsx("br",{}),l.jsx("span",{className:"font-medium text-emerald-900",children:"24 Jubilee Road, Southsea, Portsmouth, PO40JE, United Kingdom"}),"."]})]}),l.jsxs("div",{className:"py-6",children:[l.jsxs("p",{className:"font-semibold text-emerald-900",children:[l.jsx("span",{className:"mr-2 select-none",children:"–"}),"How long does delivery take?"]}),l.jsxs("p",{className:"mt-2 text-[15px] leading-7 text-gray-700",children:["UK orders typically arrive within ",l.jsx("span",{className:"font-medium",children:"2–5 business days"}),". International delivery takes ",l.jsx("span",{className:"font-medium",children:"7–10 business days"}),". You’ll receive tracking details once your order ships."]})]}),l.jsxs("div",{className:"py-6",children:[l.jsxs("p",{className:"font-semibold text-emerald-900",children:[l.jsx("span",{className:"mr-2 select-none",children:"–"}),"What sizes do you offer?"]}),l.jsxs("p",{className:"mt-2 text-[15px] leading-7 text-gray-700",children:["We offer sizes from ",l.jsx("span",{className:"font-medium",children:"Small to 3XL"}),". Each product page includes a size guide to help you find your perfect fit."]})]}),l.jsxs("div",{className:"py-6",children:[l.jsxs("p",{className:"font-semibold text-emerald-900",children:[l.jsx("span",{className:"mr-2 select-none",children:"–"}),"Are your outfits ready-made or custom?"]}),l.jsxs("p",{className:"mt-2 text-[15px] leading-7 text-gray-700",children:["Most designs are ",l.jsx("span",{className:"font-medium",children:"ready-to-wear"}),", but we also offer custom sizing for select pieces. If you’d like a custom fit, please contact us before placing an order."]})]}),l.jsxs("div",{className:"py-6",children:[l.jsxs("p",{className:"font-semibold text-emerald-900",children:[l.jsx("span",{className:"mr-2 select-none",children:"–"}),"How do I care for my outfit?"]}),l.jsxs("p",{className:"mt-2 text-[15px] leading-7 text-gray-700",children:["To maintain quality, we recommend ",l.jsx("span",{className:"font-medium",children:"dry cleaning"})," or gentle hand washing with mild detergent. Always follow the care label on your garment."]})]})]})]})}),l.jsx("a",{href:`https://wa.me/${ze.whatsapp}?text=Hi%20there%2C%20I%20have%20a%20question%20about%20your%20products.`,target:"_blank",rel:"noreferrer","aria-label":"Chat on WhatsApp",className:"fixed bottom-6 right-4 z-40 inline-flex h-12 w-12 items-center justify-center rounded-full bg-[#25D366] shadow-lg ring-1 ring-black/5",children:l.jsx(t,{className:"h-6 w-6 text-white"})})]}),l.jsx("section",{className:"py-14 bg-gradient-to-b from-emerald-50/60 to-white",children:l.jsxs("div",{className:"container grid gap-6 md:grid-cols-2 items-center",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-emerald-900",children:"Ready to create something special?"}),l.jsx("p",{className:"mt-2 text-sm md:text-base text-gray-700",children:"Share your ideas and timeline—let’s design a piece that fits your story and your life."})]}),l.jsxs("div",{className:"flex flex-wrap gap-3 md:justify-end",children:[l.jsx(ae,{to:"/contact",className:"inline-flex items-center gap-2 rounded-full bg-yellow-400 px-6 py-3 text-sm font-semibold text-emerald-900 hover:bg-yellow-500",children:"Book a consultation"}),l.jsx(ae,{to:"/catalogue",className:"inline-flex items-center gap-2 rounded-full border border-emerald-600 px-6 py-3 text-sm font-semibold text-emerald-900 hover:bg-emerald-50",children:"Browse catalogue"})]})]})})]})}function $3({items:t,getOutsideLink:e}){return l.jsx("div",{className:"grid gap-8 md:grid-cols-3",children:t.map(n=>{const r=e==null?void 0:e(n),s=encodeURIComponent(`Hello ${ze.name}, I'm interested in ${n.name}.`);return l.jsxs("article",{className:"rounded-2xl overflow-hidden bg-emerald-900 ring-1 ring-emerald-900 shadow-sm flex flex-col",children:[l.jsx(ae,{to:`/products/${n.slug}`,className:"block",children:l.jsx("img",{src:n.image,alt:n.name,className:"w-full aspect-[4/5] object-cover"})}),l.jsxs("div",{className:"p-5 text-emerald-50",children:[l.jsx("div",{className:"flex justify-center",children:l.jsx("a",{href:r||"#",target:r?"_blank":void 0,rel:r?"noreferrer":void 0,"aria-disabled":!r,className:`inline-flex items-center justify-center rounded-full px-5 py-3 text-sm font-semibold transition
  ${r?"bg-yellow-300 hover:bg-yellow-400 text-emerald-900 shadow-sm focus:outline-none focus:ring-2 focus:ring-yellow-200":"bg-emerald-50 text-emerald-400 ring-1 ring-emerald-200 cursor-not-allowed pointer-events-none"}
`,children:"Buy from our UK store"})}),l.jsx("p",{className:"mt-2 text-xs text-emerald-200 text-center"}),l.jsx("div",{className:"mt-4 flex justify-center",children:l.jsx("a",{href:`https://wa.me/${ze.whatsapp}?text=${s}`,target:"_blank",rel:"noreferrer","aria-label":"Chat on WhatsApp",className:"h-12 w-12 grid place-items-center rounded-full bg-white text-emerald-900 shadow-sm hover:bg-yellow-400 transition",children:l.jsx(xN,{className:"w-5 h-5"})})})]})]},n.slug)})})}function kE(){const[t,e]=P.useState([]),[n,r]=P.useState(!0),[s,i]=P.useState(null);if(P.useEffect(()=>{(async()=>{try{r(!0),i(null);const c=U1(P1(mr,"products"),DP("is_active","==",!0)),f=(await B1(c)).docs.map(p=>p.data());e(f)}catch(c){i(c.message||"Failed to load catalogue")}finally{r(!1)}})()},[]),n)return l.jsx("div",{className:"container py-10",children:"Loading…"});if(s)return l.jsxs("div",{className:"container py-10 text-red-600",children:["Error: ",s]});if(!t.length)return l.jsx("div",{className:"container py-10",children:"No products yet."});const o=t.map(c=>({slug:c.slug,name:c.title,image:c.primary_image_url||""})),u=c=>{const d=t.find(f=>f.slug===c.slug);return(d==null?void 0:d.uk_url)||void 0};return l.jsxs("div",{className:"container py-10",children:[l.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-6",children:"Catalogue"}),l.jsx($3,{items:o,getOutsideLink:u})]})}function B3(){return l.jsx(kE,{})}const q3="/assets/pic4-JP2lHRKH.jpeg";function H3(){const t=ze==null?void 0:ze.name,e=ze==null?void 0:ze.whatsapp;return l.jsxs("div",{className:"bg-white",children:[l.jsx("section",{className:"bg-emerald-900 text-emerald-50",children:l.jsx("div",{className:"container py-12 md:py-16",children:l.jsxs("div",{className:"grid gap-8 md:grid-cols-2 items-center ",children:[l.jsxs("div",{className:"mt-[-5em]",children:[l.jsx("span",{className:"inline-flex items-center gap-2 rounded-full bg-yellow-400 px-3 py-1 text-xs font-semibold text-emerald-900 ring-1 ring-yellow-300",children:"Founder Story"}),l.jsx("h1",{className:"mt-4 text-3xl md:text-5xl font-bold leading-tight tracking-tight",children:"From grassroots tailoring to a global movement"}),l.jsxs("p",{className:"mt-3 text-sm md:text-base text-emerald-100/90 max-w-xl",children:["Bukonla’s journey—from Unilorin to the UK—shapes ",t,": a sustainable fashion house celebrating African identity, empowering women, and designing for the planet."]}),l.jsxs("div",{className:"mt-4 flex flex-wrap gap-3",children:[l.jsx("a",{href:`https://wa.me/${e}?text=Hello%20${encodeURIComponent(t)}%2C%20I%27d%20love%20to%20learn%20more%20about%20your%20story.`,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full bg-yellow-400 px-6 py-3 text-sm font-semibold text-emerald-900 hover:bg-yellow-500",children:"Chat on WhatsApp"}),l.jsx("a",{href:"/catalogue",className:"inline-flex items-center gap-2 rounded-full border border-emerald-200/40 px-6 py-3 text-sm font-semibold text-emerald-50 hover:bg-emerald-800",children:"Explore the collection"})]})]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"overflow-hidden rounded-3xl ring-1 ring-emerald-800 shadow-sm",children:l.jsx("img",{src:q3,alt:"Bukonla, founder of Be Afrique",className:" w-full object-cover"})}),l.jsx("div",{className:"absolute -top-3 -right-3 rounded-full bg-yellow-400 px-3 py-1 text-xs font-bold text-emerald-900 shadow",children:"Based in the UK"})]})]})})}),l.jsx("section",{className:"py-14",children:l.jsx("div",{className:"container",children:l.jsx("div",{className:"grid gap-5 md:grid-cols-3",children:[{icon:"🪡",title:"Craft & Heritage",text:"Rooted in African identity and artisanal traditions—pieces that carry stories of home and pride."},{icon:"♻️",title:"Sustainability",text:"Eco-friendly materials, mindful production, and circular ideas—style that cares for people and planet."},{icon:"🤝",title:"Empowerment",text:"A movement for women and communities—skills, dignity, and opportunity stitched into every seam."}].map(n=>l.jsxs("div",{className:"rounded-2xl ring-1 ring-gray-200 bg-white p-6 shadow-sm",children:[l.jsx("div",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-yellow-400 text-emerald-900 font-bold",children:n.icon}),l.jsx("h3",{className:"mt-4 text-lg font-semibold text-emerald-900",children:n.title}),l.jsx("p",{className:"mt-2 text-[15px] leading-relaxed text-gray-700",children:n.text})]},n.title))})})}),l.jsx("section",{className:"py-14 bg-emerald-50",children:l.jsxs("div",{className:"container",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-emerald-700 text-sm font-semibold",children:"Milestones"}),l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-emerald-900",children:"The Journey"}),l.jsx("div",{className:"mt-2 h-1 w-16 bg-yellow-400 rounded mx-auto"})]}),l.jsxs("div",{className:"mt-10 grid gap-10 md:grid-cols-2",children:[l.jsxs("ol",{className:"relative border-l border-emerald-200 pl-6 space-y-8",children:[l.jsxs("li",{children:[l.jsx("div",{className:"absolute -left-2 top-1 h-4 w-4 rounded-full bg-yellow-400 ring-2 ring-white"}),l.jsx("h3",{className:"text-emerald-900 font-semibold",children:"2013 — Unilorin"}),l.jsx("p",{className:"mt-1 text-[15px] text-gray-700",children:"Early roots in tailoring; the spark for fashion as identity and purpose."})]}),l.jsxs("li",{children:[l.jsx("div",{className:"absolute -left-2 top-[92px] h-4 w-4 rounded-full bg-yellow-400 ring-2 ring-white"}),l.jsx("h3",{className:"text-emerald-900 font-semibold",children:"Training — Silk & Purple, Datina Designs"}),l.jsx("p",{className:"mt-1 text-[15px] text-gray-700",children:"Refined craft at two of Nigeria’s respected fashion houses."})]}),l.jsxs("li",{children:[l.jsx("div",{className:"absolute -left-2 top-[184px] h-4 w-4 rounded-full bg-yellow-400 ring-2 ring-white"}),l.jsx("h3",{className:"text-emerald-900 font-semibold",children:"2019 — Le Soughtout"}),l.jsx("p",{className:"mt-1 text-[15px] text-gray-700",children:"First registered business; “Mummy & Daughter” line celebrates bonds and sustainability."})]})]}),l.jsxs("ol",{className:"relative border-l border-emerald-200 pl-6 space-y-8",children:[l.jsxs("li",{children:[l.jsx("div",{className:"absolute -left-2 top-1 h-4 w-4 rounded-full bg-yellow-400 ring-2 ring-white"}),l.jsx("h3",{className:"text-emerald-900 font-semibold",children:"2020 — Author"}),l.jsxs("p",{className:"mt-1 text-[15px] text-gray-700",children:[l.jsx("em",{children:"Make Massive Income Sewing from Home"}),": empowering creative entrepreneurship."]})]}),l.jsxs("li",{children:[l.jsx("div",{className:"absolute -left-2 top-[92px] h-4 w-4 rounded-full bg-yellow-400 ring-2 ring-white"}),l.jsx("h3",{className:"text-emerald-900 font-semibold",children:"2021 — Recognition"}),l.jsx("p",{className:"mt-1 text-[15px] text-gray-700",children:"Brand Award: Most Promising SME of the Year."})]}),l.jsxs("li",{children:[l.jsx("div",{className:"absolute -left-2 top-[184px] h-4 w-4 rounded-full bg-yellow-400 ring-2 ring-white"}),l.jsx("h3",{className:"text-emerald-900 font-semibold",children:"2022–2025 — UK"}),l.jsxs("p",{className:"mt-1 text-[15px] text-gray-700",children:["University of Portsmouth (MSc); thesis on tech & sustainability. 2025: ",t," launches in the UK."]})]})]})]})]})}),l.jsx("section",{className:"py-14",children:l.jsxs("div",{className:"container grid gap-10 md:grid-cols-2 items-start",children:[l.jsxs("div",{className:"order-2 md:order-1",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-emerald-900",children:"The Vision Behind the Label"}),l.jsx("div",{className:"mt-2 h-1 w-16 bg-yellow-400 rounded"}),l.jsxs("div",{className:"mt-6 space-y-4 text-[15px] leading-relaxed text-gray-700",children:[l.jsxs("p",{children:[t," creates sustainable ready-to-wear that celebrates African heritage and identity. We invite the world to wear culture with pride—while respecting the earth we share."]}),l.jsx("p",{children:"Clothing is more than fabric; it’s memory, meaning, and belonging. Our designs reflect stories of tradition and community, made with eco-friendly materials and mindful production."}),l.jsxs("p",{children:["Innovation meets culture in unexpected ways—like upcycling ",l.jsx("strong",{children:"snail shells"})," into textural details, turning waste into beauty and narrative."]})]})]}),l.jsx("div",{className:"order-1 md:order-2",children:l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"overflow-hidden rounded-2xl ring-1 ring-gray-200 shadow-sm",children:l.jsx("img",{src:sm,alt:"Founder portrait",className:"w-full h-full object-cover"})}),l.jsx("div",{className:"pointer-events-none absolute inset-0 rounded-2xl bg-gradient-to-t from-black/30 via-transparent to-transparent"})]})})]})}),l.jsx("section",{className:"py-10",children:l.jsx("div",{className:"container",children:l.jsxs("blockquote",{className:"relative overflow-hidden rounded-2xl bg-emerald-900 p-8 text-emerald-50 ring-1 ring-emerald-800",children:[l.jsx("div",{className:"absolute -top-6 -left-6 h-24 w-24 rounded-full bg-yellow-400/20 blur-2xl"}),l.jsx("p",{className:"text-lg md:text-xl leading-relaxed",children:"“Fashion can be beautiful and responsible. Our work bridges continents—honoring African heritage while designing a more sustainable future.”"}),l.jsx("footer",{className:"mt-4 text-sm text-emerald-100/80",children:"— Bukonla, Founder"})]})})}),l.jsx("section",{className:"py-10 bg-emerald-50",children:l.jsx("div",{className:"container",children:l.jsx("div",{className:"grid grid-cols-3 gap-4",children:[{label:"Years in Craft",value:"10+"},{label:"Women Empowered",value:"2,000+"},{label:"Collections & Reviews",value:"65+"}].map(n=>l.jsxs("div",{className:"rounded-2xl bg-white ring-1 ring-gray-200 p-5 text-center",children:[l.jsx("p",{className:"text-3xl font-bold text-emerald-900",children:n.value}),l.jsx("p",{className:"text-xs font-semibold text-emerald-900/70 mt-1",children:n.label})]},n.label))})})}),l.jsx("section",{className:"py-14 bg-emerald-900 text-emerald-50",children:l.jsxs("div",{className:"container grid gap-6 md:grid-cols-2 items-center",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl md:text-3xl font-bold",children:"Join the movement—wear culture with pride."}),l.jsx("p",{className:"mt-2 text-sm md:text-base text-emerald-100/90",children:"Explore new drops, read our values, or partner with us on sustainable initiatives."})]}),l.jsxs("div",{className:"flex flex-wrap gap-3 md:justify-end",children:[l.jsx("a",{href:"/catalogue",className:"inline-flex items-center gap-2 rounded-full bg-yellow-400 px-6 py-3 text-sm font-semibold text-emerald-900 hover:bg-yellow-500",children:"Shop Catalogue"}),l.jsx("a",{href:"/about#mission-vision",className:"inline-flex items-center gap-2 rounded-full border border-emerald-200/40 px-6 py-3 text-sm font-semibold text-emerald-50 hover:bg-emerald-800",children:"Mission & Vision"})]})]})})]})}const W3="/assets/pic6-CUlXgC52.jpeg",K3="/assets/pic7-W2OeXP0k.jpeg",G3="/assets/Oshopic-BjbI9D1f.jpeg",Q3=[{name:"Osho Ademola Joel",role:"Strategic Advisor & Team Lead",photo:G3},{name:"Bukonla Sowale",role:"creative director",photo:sm},{name:"Adeola Ayorimde",role:"production manager",photo:K3},{name:"Amaka Patrick",role:"social media manager",photo:W3}];function Y3(){return l.jsxs("div",{className:"bg-white",children:[l.jsx("section",{className:"bg-emerald-900 text-emerald-50",children:l.jsx("div",{className:"container py-10 md:py-14",children:l.jsxs("div",{className:"max-w-3xl",children:[l.jsx("span",{className:"inline-flex items-center gap-2 rounded-full bg-yellow-400 px-3 py-1 text-xs font-semibold text-emerald-900 ring-1 ring-yellow-300",children:"Our Team"}),l.jsx("h1",{className:"mt-4 text-3xl md:text-5xl font-bold leading-tight tracking-tight",children:"People who stitch culture into every seam"}),l.jsx("p",{className:"mt-3 text-sm md:text-base text-emerald-100/90",children:"A small, mighty team crafting conscious fashion—rooted in African heritage and designed for the planet."})]})})}),l.jsx("section",{className:"py-14",children:l.jsxs("div",{className:"container",children:[l.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:Q3.map(t=>{var e,n,r;return l.jsxs("article",{className:"group overflow-hidden rounded-2xl ring-1 ring-gray-200 bg-white shadow-sm transition hover:shadow-md",children:[l.jsxs("div",{className:"relative aspect-[4/5] overflow-hidden",children:[l.jsx("img",{src:t.photo,alt:`${t.name}, ${t.role}`,className:"h-full w-full object-cover transition duration-500 group-hover:scale-[1.03]"}),l.jsx("span",{className:"absolute top-3 left-3 rounded-full bg-yellow-400 px-3 py-1 text-xs font-semibold text-emerald-900 shadow",children:"Team"}),l.jsx("div",{className:"pointer-events-none absolute inset-0 bg-gradient-to-t from-black/25 via-transparent to-transparent"})]}),l.jsxs("div",{className:"p-5",children:[l.jsx("h3",{className:"text-lg font-semibold text-emerald-900",children:t.name}),l.jsx("p",{className:"text-sm font-medium text-emerald-700",children:t.role}),t.bio&&l.jsx("p",{className:"mt-2 text-[15px] leading-relaxed text-gray-700",children:t.bio}),(((e=t.socials)==null?void 0:e.linkedin)||((n=t.socials)==null?void 0:n.instagram)||((r=t.socials)==null?void 0:r.email))&&l.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[t.socials.linkedin&&l.jsx("a",{href:t.socials.linkedin,target:"_blank",rel:"noreferrer",className:"inline-flex h-9 w-9 items-center justify-center rounded-full ring-1 ring-gray-200 hover:bg-emerald-50","aria-label":`${t.name} on LinkedIn`,children:l.jsx(gN,{className:"h-4 w-4 text-emerald-900"})}),t.socials.instagram&&l.jsx("a",{href:t.socials.instagram,target:"_blank",rel:"noreferrer",className:"inline-flex h-9 w-9 items-center justify-center rounded-full ring-1 ring-gray-200 hover:bg-emerald-50","aria-label":`${t.name} on Instagram`,children:l.jsx(fN,{className:"h-4 w-4 text-emerald-900"})}),t.socials.email&&l.jsx("a",{href:`mailto:${t.socials.email}`,className:"inline-flex h-9 w-9 items-center justify-center rounded-full ring-1 ring-gray-200 hover:bg-emerald-50","aria-label":`Email ${t.name}`,children:l.jsx(vN,{className:"h-4 w-4 text-emerald-900"})})]})]})]},t.name)})}),l.jsxs("div",{className:"mt-10 grid items-center gap-4 rounded-2xl bg-emerald-900 p-6 text-emerald-50 md:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg md:text-xl font-bold",children:"Want to collaborate or partner?"}),l.jsx("p",{className:"mt-1 text-sm text-emerald-100/90",children:"Press, partnerships, or mentorship—our team would love to hear from you."})]}),l.jsx("div",{className:"md:text-right",children:l.jsx("a",{href:"mailto:hello@beafrique.com",className:"inline-flex items-center gap-2 rounded-full bg-yellow-400 px-6 py-3 text-sm font-semibold text-emerald-900 hover:bg-yellow-500",children:"Get in touch →"})})]})]})})]})}const J3=[{slug:"afara-maxi-dress",name:"Afara Maxi Dress",price:48e3,image:new URL("/assets/buk1-C5UGe4R4.webp",import.meta.url).href,category:"long-dresses",sizes:["S","M","L","XL"],description:"Timeless silhouette in premium fabric with elegant flow and structured fit."},{slug:"orente-two-piece",name:"Orente Two‑Piece",price:42e3,image:new URL("/assets/buk2-E3iEPJVS.webp",import.meta.url).href,category:"two-piece",sizes:["S","M","L"],description:"Versatile set with tailored lines and day‑to‑night elegance."},{slug:"adire-wrap-top",name:"Adire Wrap Top",price:28e3,image:new URL("/assets/buk3-B61Tn9RI.webp",import.meta.url).href,category:"tops",sizes:["S","M","L","XL"],description:"Statement wrap top with heritage pattern and modern silhouette."},{slug:"afara-maxi-dress",name:"Afara Maxi Dress",price:48e3,image:new URL("/assets/buk4-Bw_ahjkR.webp",import.meta.url).href,category:"long-dresses",sizes:["S","M","L","XL"],description:"Timeless silhouette in premium fabric with elegant flow and structured fit."}],X3=Bx()(qx((t,e)=>({staticItems:J3,userItems:[],add:n=>t({userItems:[n,...e().userItems]}),all:()=>[...e().userItems,...e().staticItems]}),{name:"beafrique-products"})),Z3=[{id:"long-dresses",name:"Long Dresses"},{id:"two-piece",name:"Two-Piece Sets"},{id:"tops",name:"Tops"},{id:"accessories",name:"Accessories"}];function eD(){const t=Gu(),e=X3(x=>x.add),[n,r]=P.useState(""),[s,i]=P.useState(""),[o,u]=P.useState("long-dresses"),[c,d]=P.useState(""),[f,p]=P.useState("S,M,L"),[g,T]=P.useState(""),[k,C]=P.useState(!1),[R,w]=P.useState(!1),[v,E]=P.useState(""),S=x=>x.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)+/g,""),V=async x=>{var y;if(x){E(""),C(!0);try{const I=new FormData;I.append("file",x),I.append("upload_preset",ol.uploadPreset),ol.folder&&I.append("folder",ol.folder);const b=await fetch(`https://api.cloudinary.com/v1_1/${ol.cloudName}/image/upload`,{method:"POST",body:I}),A=await b.json();if(!b.ok)throw new Error(((y=A.error)==null?void 0:y.message)||"Upload failed");const j=A.secure_url,N=j.indexOf("/upload/"),ge=N>-1?j.slice(0,N+8)+"f_auto,q_auto,c_fill"+j.slice(N+8):j;T(ge)}catch(I){E(I.message||"Upload error")}finally{C(!1)}}},M=async x=>{if(x.preventDefault(),E(""),!n||!s||!g){E("Name, price and image are required.");return}w(!0);try{const y={slug:S(n),name:n,price:Number(s),image:g,category:o,sizes:f.split(",").map(I=>I.trim()).filter(Boolean),description:c||"—"};e(y),t("/catalogue")}catch(y){E(y.message||"Save failed")}finally{w(!1)}};return l.jsxs("div",{className:"container py-10",children:[l.jsx("h1",{className:"text-2xl md:text-3xl font-bold",children:"Add New Product"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"Upload image to Cloudinary and publish to your catalogue."}),l.jsxs("form",{onSubmit:M,className:"mt-6 grid lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"lg:col-span-1",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Product image"}),l.jsxs("div",{className:"mt-2 rounded-xl border-dashed border-2 p-4 text-center",children:[l.jsx("input",{type:"file",accept:"image/*",onChange:x=>{var y;return V((y=x.target.files)==null?void 0:y[0])},className:"block w-full text-sm"}),k&&l.jsx("p",{className:"mt-3 text-sm text-gray-500",children:"Uploading…"}),g&&l.jsx("div",{className:"mt-3 rounded-xl overflow-hidden",children:l.jsx("img",{src:g,alt:"preview",className:"w-full aspect-[4/5] object-cover"})})]}),g&&l.jsxs("p",{className:"mt-2 text-xs text-gray-500 break-all",children:["URL: ",g]})]}),l.jsxs("div",{className:"lg:col-span-2 grid sm:grid-cols-2 gap-4 content-start",children:[l.jsxs("div",{className:"sm:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),l.jsx("input",{className:"mt-1 w-full h-11 rounded-lg border px-3",value:n,onChange:x=>r(x.target.value),placeholder:"Afara Maxi Dress",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Price (NGN)"}),l.jsx("input",{type:"number",min:0,className:"mt-1 w-full h-11 rounded-lg border px-3",value:s,onChange:x=>i(x.target.value===""?"":Number(x.target.value)),placeholder:"48000",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Category"}),l.jsx("select",{className:"mt-1 w-full h-11 rounded-lg border px-3 bg-white",value:o,onChange:x=>u(x.target.value),children:Z3.map(x=>l.jsx("option",{value:x.id,children:x.name},x.id))})]}),l.jsxs("div",{className:"sm:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Available sizes (comma-separated)"}),l.jsx("input",{className:"mt-1 w-full h-11 rounded-lg border px-3",value:f,onChange:x=>p(x.target.value),placeholder:"XS,S,M,L,XL"})]}),l.jsxs("div",{className:"sm:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),l.jsx("textarea",{className:"mt-1 w-full rounded-lg border px-3 py-2",rows:4,value:c,onChange:x=>d(x.target.value),placeholder:"Timeless silhouette in premium fabric with elegant flow and structured fit."})]}),v&&l.jsx("div",{className:"sm:col-span-2 text-sm text-red-600",children:v}),l.jsxs("div",{className:"sm:col-span-2 flex gap-3",children:[l.jsx("button",{type:"submit",disabled:R||k,className:"rounded-lg bg-green-600 text-white px-5 py-3 hover:bg-green-700 disabled:opacity-60",children:R?"Saving…":"Publish Product"}),l.jsx("button",{type:"button",onClick:()=>t("/catalogue"),className:"rounded-lg border px-5 py-3 hover:bg-gray-50",children:"Cancel"})]})]})]})]})}function tD(){return l.jsxs("section",{className:"relative isolate",children:[l.jsx("div",{className:`pointer-events-none absolute inset-0 -z-10 opacity-70 [background:
        radial-gradient(600px_600px_at_0%_0%,rgba(250,204,21,0.08),transparent_60%),
        radial-gradient(800px_800px_at_100%_100%,rgba(16,185,129,0.08),transparent_60%)]`}),l.jsxs("div",{className:"container py-12 md:py-16",children:[l.jsxs("div",{className:"max-w-3xl",children:[l.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-yellow-100 text-emerald-800 px-3 py-1 text-xs font-semibold ring-1 ring-yellow-200",children:[l.jsx(aN,{className:"h-3.5 w-3.5"})," Store Policy"]}),l.jsx("h1",{className:"mt-3 text-3xl md:text-4xl font-bold text-emerald-900",children:"Refund & Returns Policy"}),l.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Last updated: Jan 2025"})]}),l.jsxs("div",{className:"mt-8 grid gap-6 md:grid-cols-3",children:[l.jsxs("div",{className:"md:col-span-2 rounded-2xl bg-white ring-1 ring-gray-200 p-6 shadow-sm",children:[l.jsx("h2",{className:"text-lg font-semibold text-emerald-900",children:"What is our returns policy?"}),l.jsxs("p",{className:"mt-2 text-[15px] leading-7 text-gray-700",children:["You may return your order within ",l.jsx("span",{className:"font-semibold",children:"5 days"})," of receiving it for a refund, exchange, or store credit (subject to the conditions below)."]}),l.jsx("h3",{className:"mt-6 font-semibold text-emerald-900",children:"Conditions for returns"}),l.jsxs("ul",{className:"mt-2 list-disc pl-5 space-y-2 text-[15px] leading-7 text-gray-700",children:[l.jsxs("li",{children:["Items must be ",l.jsx("strong",{children:"unused, unworn, unwashed"}),", and in their original condition."]}),l.jsxs("li",{children:["All ",l.jsx("strong",{children:"tags/labels"})," and the original ",l.jsx("strong",{children:"packaging"})," must be included."]}),l.jsxs("li",{children:["Returns with ",l.jsx("strong",{children:"stains"}),", ",l.jsx("strong",{children:"odours"})," (e.g., perfume, smoke, sweat), signs of wear, or missing tags/packaging will not be accepted."]})]}),l.jsx("h3",{className:"mt-6 font-semibold text-emerald-900",children:"Faulty / “Not as Described” items"}),l.jsxs("p",{className:"mt-2 text-[15px] leading-7 text-gray-700",children:["If an item is faulty, damaged, or not as described, you are entitled to a ",l.jsx("strong",{children:"full refund or replacement"}),". We will cover the return postage for approved claims."]}),l.jsx("div",{className:"mt-4 rounded-xl bg-emerald-50 ring-1 ring-emerald-100 p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(Ox,{className:"h-5 w-5 text-emerald-800 mt-0.5"}),l.jsxs("div",{className:"text-[15px] leading-7 text-emerald-900/90",children:[l.jsx("p",{className:"font-semibold",children:"Evidence required"}),l.jsxs("ul",{className:"mt-1 list-disc pl-5 space-y-1",children:[l.jsx("li",{children:"Clear photographic or video evidence of the fault/damage."}),l.jsx("li",{children:"A brief description of the issue and when it was noticed."})]}),l.jsx("p",{className:"mt-2 text-emerald-900/80",children:"If evidence is not provided, we may reject your claim. All returned items are inspected on arrival. If a claim is determined to be false, we reserve the right to refuse a refund and return the item back to you."})]})]})}),l.jsx("h3",{className:"mt-6 font-semibold text-emerald-900",children:"Can I exchange for a different size?"}),l.jsxs("ul",{className:"mt-2 list-disc pl-5 space-y-2 text-[15px] leading-7 text-gray-700",children:[l.jsx("li",{children:"Yes—size exchanges are accepted if the item is unworn, unwashed, and in original condition."}),l.jsxs("li",{children:["Customer must keep the ",l.jsx("strong",{children:"proof of postage"})," and ",l.jsx("strong",{children:"tracking number"}),"."]}),l.jsx("li",{children:"If a return goes missing in transit, we can only process a refund/exchange if tracking confirms it was sent. If tracking doesn’t show delivery to us, please contact the courier directly to resolve the issue."})]}),l.jsx("h3",{className:"mt-6 font-semibold text-emerald-900",children:"Non-returnable items"}),l.jsxs("p",{className:"mt-2 text-[15px] leading-7 text-gray-700",children:["For hygiene and customisation reasons, ",l.jsx("strong",{children:"made-to-measure"})," items, ",l.jsx("strong",{children:"final-sale"})," items, and ",l.jsx("strong",{children:"intimate apparel"})," (where applicable) cannot be returned unless faulty."]}),l.jsx("h3",{className:"mt-6 font-semibold text-emerald-900",children:"How to start a return"}),l.jsxs("ol",{className:"mt-2 list-decimal pl-5 space-y-2 text-[15px] leading-7 text-gray-700",children:[l.jsx("li",{children:"Contact us within 5 days of delivery (WhatsApp or email) with your order ID and reason."}),l.jsx("li",{children:"Provide photos/video if the item is faulty or not as described."}),l.jsx("li",{children:"We’ll confirm approval and share the return address and instructions."}),l.jsx("li",{children:"Send the item back using a tracked service and keep proof of postage."})]}),l.jsx("h3",{className:"mt-6 font-semibold text-emerald-900",children:"Refund timeline"}),l.jsxs("p",{className:"mt-2 text-[15px] leading-7 text-gray-700",children:["Approved refunds are processed within ",l.jsx("strong",{children:"3–7 business days"})," of receiving and inspecting the item, back to your original payment method or as store credit (as agreed)."]}),l.jsx("div",{className:"mt-6 rounded-xl bg-white ring-1 ring-gray-200 p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(sN,{className:"h-5 w-5 text-emerald-800 mt-0.5"}),l.jsx("p",{className:"text-[15px] leading-7 text-gray-700",children:"This policy does not affect your statutory rights. For assistance, message us on WhatsApp or email our support team."})]})})]}),l.jsxs("aside",{className:"h-fit rounded-2xl bg-emerald-900 text-emerald-50 ring-1 ring-emerald-800 p-6 shadow-sm",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Need help?"}),l.jsxs("div",{className:"mt-3 space-y-2 text-sm",children:[l.jsxs("p",{children:["WhatsApp:"," ",l.jsx("a",{href:"https://wa.me/447733729418",className:"underline hover:no-underline",children:"+44 7733 729 418"})]}),l.jsxs("p",{children:["Email:"," ",l.jsx("a",{href:"mailto:hello@beafrique.com",className:"underline hover:no-underline",children:"hello@beafrique.com"})]})]}),l.jsxs("div",{className:"mt-5 rounded-xl bg-white/10 ring-1 ring-emerald-800 p-4",children:[l.jsx("p",{className:"text-xs uppercase tracking-wide text-emerald-200 font-semibold",children:"Return address"}),l.jsxs("p",{className:"mt-1 text-sm",children:["24 Jubilee Road, Southsea",l.jsx("br",{}),"Portsmouth, PO40JE, United Kingdom"]})]}),l.jsxs("div",{className:"mt-5 flex flex-wrap gap-2",children:[l.jsx("a",{href:"https://wa.me/447733729418?text=Hi%20Be%20Afrique%2C%20I%27d%20like%20to%20start%20a%20return.%20My%20order%20ID%20is%20____.",target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full bg-yellow-400 px-5 py-2.5 text-sm font-semibold text-emerald-900 hover:bg-yellow-500",children:"Start a return on WhatsApp →"}),l.jsx(ae,{to:"/contact",className:"inline-flex items-center gap-2 rounded-full border border-emerald-200 px-5 py-2.5 text-sm font-semibold text-emerald-50 hover:bg-emerald-800",children:"Contact support"})]})]})]})]})]})}function nD(){return l.jsxs("div",{className:"p-3 border-b flex justify-between items-center",children:[l.jsx("div",{className:"font-semibold",children:"Admin"}),l.jsx("button",{className:"text-sm underline",onClick:()=>fE(Cu),children:"Sign out"})]})}function nv({children:t}){const[e,n]=P.useState("loading");return P.useEffect(()=>Bj(Cu,async s=>{var o;if(!s){n("signedout");return}const i=await qm(Hs(mr,"roles",s.uid));n(i.exists()&&((o=i.data())==null?void 0:o.admin)===!0?"ok":"no")}),[]),e==="loading"?l.jsx("div",{className:"p-6",children:"Checking admin…"}):e==="signedout"?l.jsx(kx,{to:"/admin/sign-in",replace:!0}):e==="no"?l.jsxs("div",{className:"p-6",children:[l.jsx("p",{className:"mb-3",children:"You’re signed in, but not authorized for admin."}),l.jsx("button",{className:"underline",onClick:()=>fE(Cu),children:"Sign out"})]}):t}const rD="dbl85m2kz",sD="beafrique",iD="beafrique";async function rv(t,e){var u,c;const n=`https://api.cloudinary.com/v1_1/${rD}/upload`,r=new FormData;r.append("upload_preset",sD),r.append("folder",iD),e&&r.append("public_id",e),r.append("file",t);const s=await fetch(n,{method:"POST",body:r}),i=await s.text();if(!s.ok)try{throw new Error(((c=(u=JSON.parse(i))==null?void 0:u.error)==null?void 0:c.message)||`Cloudinary ${s.status}`)}catch{throw new Error(`Cloudinary ${s.status}: ${i}`)}const o=JSON.parse(i);return{url:o.secure_url,publicId:o.public_id}}function Rd(t){return t.toLowerCase().trim().replace(/['"]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)+/g,"")}function sv(t){return t.split(/[,|\n]+/g).map(e=>e.trim()).filter(Boolean)}function Pd(t=8,e=20,n=2){const r=[];for(let s=t;s<=e;s+=n)r.push(String(s));return r}function oD(){const[t,e]=P.useState(""),[n,r]=P.useState(""),[s,i]=P.useState("Be-Afrique"),[o,u]=P.useState("Be-Afrique"),[c,d]=P.useState("unisex"),[f,p]=P.useState(""),[g,T]=P.useState(180),[k,C]=P.useState(!1),[R,w]=P.useState(""),[v,E]=P.useState(Pd(8,20).join(", ")),[S,V]=P.useState("Olive"),[M,x]=P.useState(null),[y,I]=P.useState([]),[b,A]=P.useState(!1),[j,N]=P.useState(null),[ge,Te]=P.useState(null),[Qe,Vt]=P.useState(null),$=P.useMemo(()=>M?URL.createObjectURL(M):"",[M]),G=P.useMemo(()=>y.map(W=>URL.createObjectURL(W)),[y]);P.useEffect(()=>()=>{$&&URL.revokeObjectURL($),G.forEach(W=>URL.revokeObjectURL(W))},[$,G]),P.useEffect(()=>{if(!n)return;const W=Rd(n);(!t||t===Rd(t))&&e(W)},[n]),P.useEffect(()=>{if(!t)return;let W=!1;return(async()=>{const le=Hs(mr,"products",t),rt=await qm(le);W||Vt(rt.exists()?{id:rt.id}:null)})(),()=>{W=!0}},[t]);const J=W=>{W!=null&&W.length&&I(le=>[...le,...Array.from(W)])},ce=W=>{I(le=>le.filter((rt,qr)=>qr!==W))},fe=async W=>{if(W.preventDefault(),Te(null),N(null),!t)return Te("Please provide a slug (e.g. linen-shirt-olive).");if(!n)return Te("Please provide a product title.");if(!M)return Te("Please choose a main image.");if(k&&R!==""&&Number(R)<=Number(g))return Te("Compare-at must be greater than the main price when 'On sale' is checked.");try{A(!0);const le=await rv(M,`${t}/main`);let rt=[];y.length&&(rt=await Promise.all(y.map((kn,Aa)=>rv(kn,`${t}/img-${Aa+1}`))));const qr=sv(v),ba=sv(S),Tc=Math.round(Number(g)*100),ka=R!==""?Math.round(Number(R)*100):null,ji={slug:t,title:n,brand:s,collection:o,gender:c,description:f,min_price_cents:Tc,has_sale:!!k,sizes:qr,colors:ba,primary_image_url:le.url,primary_public_id:le.publicId,image_urls:rt.map(kn=>kn.url),gallery_public_ids:rt.map(kn=>kn.publicId),is_active:!0,created_at:A0(),currency:"GBP"};ka&&k&&(ji.compare_at_cents=ka),await FP(Hs(mr,"products",t),ji),N(Qe?"Updated product!":"Created product!"),Vt({id:t}),x(null),I([])}catch(le){Te((le==null?void 0:le.message)||"Failed to save product")}finally{A(!1)}},nt=async()=>{if(t&&confirm(`Hide "${t}" from the catalogue?`))try{A(!0),N(null),Te(null),await UP(Hs(mr,"products",t),{is_active:!1,deleted_at:A0()}),N("Product hidden (soft deleted).")}catch(W){Te(W.message||"Soft delete failed")}finally{A(!1)}},xt=async()=>{if(t&&confirm(`Permanently delete "${t}" document? Images on Cloudinary will remain.`))try{A(!0),N(null),Te(null),await zP(Hs(mr,"products",t)),N("Product document deleted."),Vt(null),r(""),p(""),x(null),I([])}catch(W){Te(W.message||"Hard delete failed")}finally{A(!1)}};return l.jsx("div",{className:"min-h-screen w-full flex items-start md:items-center justify-center bg-gray-50 py-10",children:l.jsxs("form",{onSubmit:fe,className:"space-y-6 border p-6 md:p-8 rounded-2xl max-w-3xl w-full bg-white shadow-sm mx-4",children:[l.jsxs("header",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-xl md:text-2xl font-bold",children:"Add / Edit Product"}),Qe&&l.jsxs("span",{className:"text-xs px-2 py-1 rounded bg-amber-100 text-amber-800",children:["Editing: ",Qe.id]})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm mb-1",children:"Title"}),l.jsx("input",{className:"border px-3 py-2 w-full rounded",value:n,onChange:W=>r(W.target.value),placeholder:"Linen Shirt - Olive"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm mb-1",children:"Slug"}),l.jsx("input",{className:`border px-3 py-2 w-full rounded ${Qe?"border-amber-400 bg-amber-50":""}`,value:t,onChange:W=>e(Rd(W.target.value)),placeholder:"linen-shirt-olive"}),Qe&&l.jsx("p",{className:"text-xs text-amber-700 mt-1",children:"A product with this slug exists — saving will update it."})]})]}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm mb-1",children:"Brand"}),l.jsx("input",{className:"border px-3 py-2 w-full rounded",value:s,onChange:W=>i(W.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm mb-1",children:"Collection"}),l.jsx("input",{className:"border px-3 py-2 w-full rounded",value:o,onChange:W=>u(W.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm mb-1",children:"Gender"}),l.jsxs("select",{className:"border px-3 py-2 w-full rounded",value:c,onChange:W=>d(W.target.value),children:[l.jsx("option",{value:"women",children:"women"}),l.jsx("option",{value:"men",children:"men"}),l.jsx("option",{value:"unisex",children:"unisex"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm mb-1",children:"Description"}),l.jsx("textarea",{className:"border px-3 py-2 w-full rounded min-h-[80px]",value:f,onChange:W=>p(W.target.value),placeholder:"Breathable premium linen"})]}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm mb-1",children:"Price (£)"}),l.jsx("input",{type:"number",step:"0.01",className:"border px-3 py-2 w-full rounded",value:g,onChange:W=>T(parseFloat(W.target.value||"0"))}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Saved as pence in ",l.jsx("code",{children:"min_price_cents"}),"."]})]}),l.jsxs("div",{className:"flex items-end gap-2",children:[l.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[l.jsx("input",{type:"checkbox",checked:k,onChange:W=>C(W.target.checked)}),"On sale"]}),l.jsx("input",{type:"number",step:"0.01",className:"border px-3 py-2 w-full rounded",placeholder:"Compare-at (£)",disabled:!k,value:R,onChange:W=>w(W.target.value===""?"":parseFloat(W.target.value))})]})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("label",{className:"block text-sm mb-1",children:"Sizes (CSV or new lines)"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{type:"button",className:"text-xs px-2 py-1 rounded border",onClick:()=>E(Pd(8,20).join(", ")),children:"Fill 8–20"}),l.jsx("button",{type:"button",className:"text-xs px-2 py-1 rounded border",onClick:()=>E(Pd(8,24).join(", ")),children:"8–24"})]})]}),l.jsx("textarea",{className:"border px-3 py-2 w-full rounded",value:v,onChange:W=>E(W.target.value),placeholder:"8, 10, 12, 14, 16, 18, 20"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"UK sizes — defaults to 8 and above."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm mb-1",children:"Colors (CSV or new lines)"}),l.jsx("textarea",{className:"border px-3 py-2 w-full rounded",value:S,onChange:W=>V(W.target.value),placeholder:"Olive, Black, Purple Ankara"})]})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm mb-2",children:"Main image"}),l.jsx("input",{type:"file",accept:"image/*",onChange:W=>{var le;return x(((le=W.target.files)==null?void 0:le[0])||null)}}),$&&l.jsx("div",{className:"mt-2 aspect-[3/4] rounded overflow-hidden border bg-gray-50",children:l.jsx("img",{src:$,alt:"preview",className:"w-full h-full object-cover"})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm mb-2",children:"Gallery images (upload multiple)"}),l.jsx("input",{multiple:!0,type:"file",accept:"image/*",onChange:W=>J(W.target.files)}),!!G.length&&l.jsx("div",{className:"mt-2 grid grid-cols-4 gap-2",children:G.map((W,le)=>l.jsxs("div",{className:"relative aspect-square rounded overflow-hidden border bg-gray-50",children:[l.jsx("img",{src:W,alt:"",className:"w-full h-full object-cover"}),l.jsx("button",{type:"button",className:"absolute top-1 right-1 text-xs bg-white/90 rounded px-1",onClick:()=>ce(le),children:"×"})]},le))})]})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[l.jsx("button",{disabled:b,className:"px-4 py-2 bg-emerald-600 text-white rounded",children:b?"Saving…":Qe?"Update Product":"Add Product"}),Qe&&l.jsx("button",{type:"button",disabled:b,onClick:nt,className:"px-4 py-2 rounded border border-amber-500 text-amber-700",children:"Hide (soft delete)"}),Qe&&l.jsx("button",{type:"button",disabled:b,onClick:xt,className:"px-4 py-2 rounded border border-red-600 text-red-700",children:"Delete (hard)"}),j&&l.jsx("span",{className:"text-emerald-700 text-sm",children:j}),ge&&l.jsx("span",{className:"text-red-600 text-sm",children:ge})]}),l.jsxs("p",{className:"text-xs text-gray-500",children:["Will save to: ",l.jsxs("code",{children:["products/",t||"…"]})]})]})})}function aD(){return l.jsxs("div",{children:[l.jsx(nD,{}),l.jsxs("div",{className:"p-6",children:[l.jsx("h1",{className:"text-xl font-bold mb-4",children:"Add Product"}),l.jsx(oD,{})]})]})}function lD(){const[t,e]=P.useState(""),[n,r]=P.useState(""),[s,i]=P.useState(null),[o,u]=P.useState(!1),c=Gu(),d=async f=>{f.preventDefault();try{u(!0),i(null),await Uj(Cu,t,n),c("/admin")}catch(p){i(p.message||"Sign-in failed")}finally{u(!1)}};return l.jsxs("form",{onSubmit:d,className:"max-w-sm m-8 space-y-3",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Admin Sign In"}),l.jsx("input",{className:"border px-3 py-2 w-full",placeholder:"Email",value:t,onChange:f=>e(f.target.value)}),l.jsx("input",{type:"password",className:"border px-3 py-2 w-full",placeholder:"Password",value:n,onChange:f=>r(f.target.value)}),l.jsx("button",{disabled:o,className:"px-4 py-2 bg-emerald-600 text-white rounded",children:o?"…":"Sign in"}),s&&l.jsx("p",{className:"text-red-600 text-sm",children:s})]})}function uD(){const{items:t,setQty:e,remove:n,clear:r}=pa(),s=t.length>0;return l.jsxs("div",{className:"container py-10",children:[l.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-6",children:"Your cart"}),!s&&l.jsx("p",{children:"Your cart is empty."}),s&&l.jsxs(l.Fragment,{children:[l.jsx("ul",{className:"divide-y border rounded-2xl bg-white",children:t.map(i=>l.jsxs("li",{className:"p-4 flex gap-4 items-center",children:[l.jsx("div",{className:"w-20 h-24 bg-gray-100 rounded overflow-hidden",children:i.image?l.jsx("img",{src:i.image,className:"w-full h-full object-cover"}):null}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-semibold",children:i.title||i.slug}),l.jsxs("div",{className:"text-sm text-gray-500",children:[i.color?l.jsxs(l.Fragment,{children:["Colour: ",i.color," · "]}):null,i.size?l.jsxs(l.Fragment,{children:["Size: ",i.size]}):null]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{className:"px-2 py-1 border rounded",onClick:()=>e(i.slug,i.size??null,i.color??null,Math.max(1,i.qty-1)),children:"-"}),l.jsx("input",{className:"w-12 text-center border rounded py-1",value:i.qty,onChange:o=>e(i.slug,i.size??null,i.color??null,Math.max(1,parseInt(o.target.value||"1",10)))}),l.jsx("button",{className:"px-2 py-1 border rounded",onClick:()=>e(i.slug,i.size??null,i.color??null,i.qty+1),children:"+"})]}),l.jsx("button",{className:"ml-4 text-red-600 text-sm",onClick:()=>n(i.slug,i.size??null,i.color??null),children:"Remove"})]},`${i.slug}-${i.size}-${i.color}`))}),l.jsxs("div",{className:"mt-6 flex gap-3",children:[l.jsx(ae,{to:"/checkout",className:"px-5 py-3 rounded bg-emerald-600 text-white",children:"Checkout"}),l.jsx("button",{onClick:r,className:"px-5 py-3 rounded border",children:"Clear cart"})]})]})]})}function cD(){const t=new URLSearchParams(Sn().search),e=t.get("oid"),n=t.get("sid");return l.jsxs("div",{className:"container mx-auto px-4 py-16",children:[l.jsx("h1",{className:"text-2xl font-bold text-emerald-900",children:"Payment successful 🎉"}),l.jsxs("p",{className:"mt-2 text-gray-700",children:["Order: ",e]}),l.jsxs("p",{className:"text-gray-700",children:["Session: ",n]}),l.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"We’ll email your receipt shortly."})]})}function dD(){return l.jsxs("div",{className:"container mx-auto px-4 py-16",children:[l.jsx("h1",{className:"text-2xl font-bold text-emerald-900",children:"Checkout canceled"}),l.jsx("p",{className:"mt-2 text-gray-700",children:"You can try again or continue shopping."})]})}function hD(){return l.jsx(Rb,{children:l.jsxs(vS,{children:[l.jsx(Fe,{path:"/",element:l.jsx(Ub,{})}),l.jsx(Fe,{path:"/about",element:l.jsx(O3,{})}),l.jsx(Fe,{path:"/our-team",element:l.jsx(Y3,{})}),l.jsx(Fe,{path:"/what-we-do",element:l.jsx(z3,{})}),l.jsx(Fe,{path:"/catalogue",element:l.jsx(B3,{})}),l.jsx(Fe,{path:"/contact",element:l.jsx(V3,{})}),l.jsx(Fe,{path:"/client",element:l.jsx(H3,{})}),l.jsx(Fe,{path:"/refund-policy",element:l.jsx(tD,{})}),l.jsx(Fe,{path:"/checkout",element:l.jsx(U3,{})}),l.jsx(Fe,{path:"/cart",element:l.jsx(uD,{})}),l.jsx(Fe,{path:"/admin/sign-in",element:l.jsx(lD,{})}),l.jsx(Fe,{path:"/admin",element:l.jsx(nv,{children:l.jsx(aD,{})})}),l.jsx(Fe,{path:"/admin/products/new",element:l.jsx(nv,{children:l.jsx(eD,{})})}),l.jsx(Fe,{path:"/products/:slug",element:l.jsx(D3,{})}),l.jsx(Fe,{path:"/products",element:l.jsx(kE,{})}),l.jsx(Fe,{path:"*",element:l.jsx(kx,{to:"/",replace:!0})}),"// e.g. in App.tsx",l.jsx(Fe,{path:"/checkout/success",element:l.jsx(cD,{})}),l.jsx(Fe,{path:"/checkout/cancel",element:l.jsx(dD,{})})]})})}function fD(){const{pathname:t,search:e,hash:n}=Sn();return P.useEffect(()=>{n||window.scrollTo({top:0,left:0,behavior:"auto"})},[t,e,n]),null}vx(document.getElementById("root")).render(l.jsx(P.StrictMode,{children:l.jsxs(zS,{children:[l.jsx(fD,{}),l.jsx(hD,{})]})}));
