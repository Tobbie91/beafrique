var LT=Object.defineProperty;var VT=(t,e,n)=>e in t?LT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Pn=(t,e,n)=>VT(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function ga(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var L0={exports:{}},Hu={},V0={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ya=Symbol.for("react.element"),MT=Symbol.for("react.portal"),FT=Symbol.for("react.fragment"),UT=Symbol.for("react.strict_mode"),$T=Symbol.for("react.profiler"),zT=Symbol.for("react.provider"),BT=Symbol.for("react.context"),HT=Symbol.for("react.forward_ref"),qT=Symbol.for("react.suspense"),WT=Symbol.for("react.memo"),KT=Symbol.for("react.lazy"),wg=Symbol.iterator;function GT(t){return t===null||typeof t!="object"?null:(t=wg&&t[wg]||t["@@iterator"],typeof t=="function"?t:null)}var M0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F0=Object.assign,U0={};function Si(t,e,n){this.props=t,this.context=e,this.refs=U0,this.updater=n||M0}Si.prototype.isReactComponent={};Si.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Si.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function $0(){}$0.prototype=Si.prototype;function Ef(t,e,n){this.props=t,this.context=e,this.refs=U0,this.updater=n||M0}var Tf=Ef.prototype=new $0;Tf.constructor=Ef;F0(Tf,Si.prototype);Tf.isPureReactComponent=!0;var Eg=Array.isArray,z0=Object.prototype.hasOwnProperty,If={current:null},B0={key:!0,ref:!0,__self:!0,__source:!0};function H0(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)z0.call(e,r)&&!B0.hasOwnProperty(r)&&(s[r]=e[r]);var u=arguments.length-2;if(u===1)s.children=n;else if(1<u){for(var c=Array(u),d=0;d<u;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)s[r]===void 0&&(s[r]=u[r]);return{$$typeof:ya,type:t,key:i,ref:o,props:s,_owner:If.current}}function QT(t,e){return{$$typeof:ya,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Sf(t){return typeof t=="object"&&t!==null&&t.$$typeof===ya}function YT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Tg=/\/+/g;function nd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?YT(""+t.key):e.toString(36)}function Il(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ya:case MT:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+nd(o,0):r,Eg(s)?(n="",t!=null&&(n=t.replace(Tg,"$&/")+"/"),Il(s,e,n,"",function(d){return d})):s!=null&&(Sf(s)&&(s=QT(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Tg,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Eg(t))for(var u=0;u<t.length;u++){i=t[u];var c=r+nd(i,u);o+=Il(i,e,n,c,s)}else if(c=GT(t),typeof c=="function")for(t=c.call(t),u=0;!(i=t.next()).done;)i=i.value,c=r+nd(i,u++),o+=Il(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ja(t,e,n){if(t==null)return t;var r=[],s=0;return Il(t,r,"","",function(i){return e.call(n,i,s++)}),r}function JT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var _t={current:null},Sl={transition:null},XT={ReactCurrentDispatcher:_t,ReactCurrentBatchConfig:Sl,ReactCurrentOwner:If};function q0(){throw Error("act(...) is not supported in production builds of React.")}te.Children={map:Ja,forEach:function(t,e,n){Ja(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ja(t,function(){e++}),e},toArray:function(t){return Ja(t,function(e){return e})||[]},only:function(t){if(!Sf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};te.Component=Si;te.Fragment=FT;te.Profiler=$T;te.PureComponent=Ef;te.StrictMode=UT;te.Suspense=qT;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XT;te.act=q0;te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=F0({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=If.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)z0.call(e,c)&&!B0.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];r.children=u}return{$$typeof:ya,type:t.type,key:s,ref:i,props:r,_owner:o}};te.createContext=function(t){return t={$$typeof:BT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:zT,_context:t},t.Consumer=t};te.createElement=H0;te.createFactory=function(t){var e=H0.bind(null,t);return e.type=t,e};te.createRef=function(){return{current:null}};te.forwardRef=function(t){return{$$typeof:HT,render:t}};te.isValidElement=Sf;te.lazy=function(t){return{$$typeof:KT,_payload:{_status:-1,_result:t},_init:JT}};te.memo=function(t,e){return{$$typeof:WT,type:t,compare:e===void 0?null:e}};te.startTransition=function(t){var e=Sl.transition;Sl.transition={};try{t()}finally{Sl.transition=e}};te.unstable_act=q0;te.useCallback=function(t,e){return _t.current.useCallback(t,e)};te.useContext=function(t){return _t.current.useContext(t)};te.useDebugValue=function(){};te.useDeferredValue=function(t){return _t.current.useDeferredValue(t)};te.useEffect=function(t,e){return _t.current.useEffect(t,e)};te.useId=function(){return _t.current.useId()};te.useImperativeHandle=function(t,e,n){return _t.current.useImperativeHandle(t,e,n)};te.useInsertionEffect=function(t,e){return _t.current.useInsertionEffect(t,e)};te.useLayoutEffect=function(t,e){return _t.current.useLayoutEffect(t,e)};te.useMemo=function(t,e){return _t.current.useMemo(t,e)};te.useReducer=function(t,e,n){return _t.current.useReducer(t,e,n)};te.useRef=function(t){return _t.current.useRef(t)};te.useState=function(t){return _t.current.useState(t)};te.useSyncExternalStore=function(t,e,n){return _t.current.useSyncExternalStore(t,e,n)};te.useTransition=function(){return _t.current.useTransition()};te.version="18.3.1";V0.exports=te;var R=V0.exports;const ht=ga(R);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZT=R,eI=Symbol.for("react.element"),tI=Symbol.for("react.fragment"),nI=Object.prototype.hasOwnProperty,rI=ZT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sI={key:!0,ref:!0,__self:!0,__source:!0};function W0(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)nI.call(e,r)&&!sI.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:eI,type:t,key:i,ref:o,props:s,_owner:rI.current}}Hu.Fragment=tI;Hu.jsx=W0;Hu.jsxs=W0;L0.exports=Hu;var l=L0.exports,K0={exports:{}},Dt={},G0={exports:{}},Q0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,G){var J=z.length;z.push(G);e:for(;0<J;){var ce=J-1>>>1,fe=z[ce];if(0<s(fe,G))z[ce]=G,z[J]=fe,J=ce;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var G=z[0],J=z.pop();if(J!==G){z[0]=J;e:for(var ce=0,fe=z.length,Vt=fe>>>1;ce<Vt;){var Re=2*(ce+1)-1,W=z[Re],le=Re+1,rt=z[le];if(0>s(W,J))le<fe&&0>s(rt,W)?(z[ce]=rt,z[le]=J,ce=le):(z[ce]=W,z[Re]=J,ce=Re);else if(le<fe&&0>s(rt,J))z[ce]=rt,z[le]=J,ce=le;else break e}}return G}function s(z,G){var J=z.sortIndex-G.sortIndex;return J!==0?J:z.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var c=[],d=[],f=1,m=null,g=3,T=!1,b=!1,C=!1,k=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(z){for(var G=n(d);G!==null;){if(G.callback===null)r(d);else if(G.startTime<=z)r(d),G.sortIndex=G.expirationTime,e(c,G);else break;G=n(d)}}function D(z){if(C=!1,w(z),!b)if(n(c)!==null)b=!0,Ye(L);else{var G=n(d);G!==null&&Lt(D,G.startTime-z)}}function L(z,G){b=!1,C&&(C=!1,E(v),v=-1),T=!0;var J=g;try{for(w(G),m=n(c);m!==null&&(!(m.expirationTime>G)||z&&!A());){var ce=m.callback;if(typeof ce=="function"){m.callback=null,g=m.priorityLevel;var fe=ce(m.expirationTime<=G);G=t.unstable_now(),typeof fe=="function"?m.callback=fe:m===n(c)&&r(c),w(G)}else r(c);m=n(c)}if(m!==null)var Vt=!0;else{var Re=n(d);Re!==null&&Lt(D,Re.startTime-G),Vt=!1}return Vt}finally{m=null,g=J,T=!1}}var F=!1,x=null,v=-1,I=5,N=-1;function A(){return!(t.unstable_now()-N<I)}function P(){if(x!==null){var z=t.unstable_now();N=z;var G=!0;try{G=x(!0,z)}finally{G?S():(F=!1,x=null)}}else F=!1}var S;if(typeof y=="function")S=function(){y(P)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,Te=ge.port2;ge.port1.onmessage=P,S=function(){Te.postMessage(null)}}else S=function(){k(P,0)};function Ye(z){x=z,F||(F=!0,S())}function Lt(z,G){v=k(function(){z(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){b||T||(b=!0,Ye(L))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(z){switch(g){case 1:case 2:case 3:var G=3;break;default:G=g}var J=g;g=G;try{return z()}finally{g=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,G){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var J=g;g=z;try{return G()}finally{g=J}},t.unstable_scheduleCallback=function(z,G,J){var ce=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ce+J:ce):J=ce,z){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=J+fe,z={id:f++,callback:G,priorityLevel:z,startTime:J,expirationTime:fe,sortIndex:-1},J>ce?(z.sortIndex=J,e(d,z),n(c)===null&&z===n(d)&&(C?(E(v),v=-1):C=!0,Lt(D,J-ce))):(z.sortIndex=fe,e(c,z),b||T||(b=!0,Ye(L))),z},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(z){var G=g;return function(){var J=g;g=G;try{return z.apply(this,arguments)}finally{g=J}}}})(Q0);G0.exports=Q0;var iI=G0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oI=R,jt=iI;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Y0=new Set,Fo={};function xs(t,e){ci(t,e),ci(t+"Capture",e)}function ci(t,e){for(Fo[t]=e,t=0;t<e.length;t++)Y0.add(e[t])}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yd=Object.prototype.hasOwnProperty,aI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ig={},Sg={};function lI(t){return Yd.call(Sg,t)?!0:Yd.call(Ig,t)?!1:aI.test(t)?Sg[t]=!0:(Ig[t]=!0,!1)}function uI(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function cI(t,e,n,r){if(e===null||typeof e>"u"||uI(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function xt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){tt[t]=new xt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];tt[e]=new xt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){tt[t]=new xt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){tt[t]=new xt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){tt[t]=new xt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){tt[t]=new xt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){tt[t]=new xt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){tt[t]=new xt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){tt[t]=new xt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Nf=/[\-:]([a-z])/g;function bf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Nf,bf);tt[e]=new xt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Nf,bf);tt[e]=new xt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Nf,bf);tt[e]=new xt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){tt[t]=new xt(t,1,!1,t.toLowerCase(),null,!1,!1)});tt.xlinkHref=new xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){tt[t]=new xt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Af(t,e,n,r){var s=tt.hasOwnProperty(e)?tt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(cI(e,n,s,r)&&(n=null),r||s===null?lI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Xn=oI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xa=Symbol.for("react.element"),Vs=Symbol.for("react.portal"),Ms=Symbol.for("react.fragment"),Cf=Symbol.for("react.strict_mode"),Jd=Symbol.for("react.profiler"),J0=Symbol.for("react.provider"),X0=Symbol.for("react.context"),kf=Symbol.for("react.forward_ref"),Xd=Symbol.for("react.suspense"),Zd=Symbol.for("react.suspense_list"),Rf=Symbol.for("react.memo"),ar=Symbol.for("react.lazy"),Z0=Symbol.for("react.offscreen"),Ng=Symbol.iterator;function no(t){return t===null||typeof t!="object"?null:(t=Ng&&t[Ng]||t["@@iterator"],typeof t=="function"?t:null)}var Ne=Object.assign,rd;function mo(t){if(rd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);rd=e&&e[1]||""}return`
`+rd+t}var sd=!1;function id(t,e){if(!t||sd)return"";sd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,u=i.length-1;1<=o&&0<=u&&s[o]!==i[u];)u--;for(;1<=o&&0<=u;o--,u--)if(s[o]!==i[u]){if(o!==1||u!==1)do if(o--,u--,0>u||s[o]!==i[u]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=u);break}}}finally{sd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?mo(t):""}function dI(t){switch(t.tag){case 5:return mo(t.type);case 16:return mo("Lazy");case 13:return mo("Suspense");case 19:return mo("SuspenseList");case 0:case 2:case 15:return t=id(t.type,!1),t;case 11:return t=id(t.type.render,!1),t;case 1:return t=id(t.type,!0),t;default:return""}}function eh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ms:return"Fragment";case Vs:return"Portal";case Jd:return"Profiler";case Cf:return"StrictMode";case Xd:return"Suspense";case Zd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case X0:return(t.displayName||"Context")+".Consumer";case J0:return(t._context.displayName||"Context")+".Provider";case kf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Rf:return e=t.displayName||null,e!==null?e:eh(t.type)||"Memo";case ar:e=t._payload,t=t._init;try{return eh(t(e))}catch{}}return null}function hI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return eh(e);case 8:return e===Cf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Rr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function e_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function fI(t){var e=e_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Za(t){t._valueTracker||(t._valueTracker=fI(t))}function t_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=e_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Yl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function th(t,e){var n=e.checked;return Ne({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function bg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Rr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function n_(t,e){e=e.checked,e!=null&&Af(t,"checked",e,!1)}function nh(t,e){n_(t,e);var n=Rr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?rh(t,e.type,n):e.hasOwnProperty("defaultValue")&&rh(t,e.type,Rr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ag(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function rh(t,e,n){(e!=="number"||Yl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var po=Array.isArray;function Js(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Rr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function sh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return Ne({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Cg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(po(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Rr(n)}}function r_(t,e){var n=Rr(e.value),r=Rr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function kg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function s_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ih(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?s_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var el,i_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(el=el||document.createElement("div"),el.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=el.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Uo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Io={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mI=["Webkit","ms","Moz","O"];Object.keys(Io).forEach(function(t){mI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Io[e]=Io[t]})});function o_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Io.hasOwnProperty(t)&&Io[t]?(""+e).trim():e+"px"}function a_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=o_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var pI=Ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function oh(t,e){if(e){if(pI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function ah(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lh=null;function Pf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var uh=null,Xs=null,Zs=null;function Rg(t){if(t=xa(t)){if(typeof uh!="function")throw Error(U(280));var e=t.stateNode;e&&(e=Qu(e),uh(t.stateNode,t.type,e))}}function l_(t){Xs?Zs?Zs.push(t):Zs=[t]:Xs=t}function u_(){if(Xs){var t=Xs,e=Zs;if(Zs=Xs=null,Rg(t),e)for(t=0;t<e.length;t++)Rg(e[t])}}function c_(t,e){return t(e)}function d_(){}var od=!1;function h_(t,e,n){if(od)return t(e,n);od=!0;try{return c_(t,e,n)}finally{od=!1,(Xs!==null||Zs!==null)&&(d_(),u_())}}function $o(t,e){var n=t.stateNode;if(n===null)return null;var r=Qu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var ch=!1;if(Bn)try{var ro={};Object.defineProperty(ro,"passive",{get:function(){ch=!0}}),window.addEventListener("test",ro,ro),window.removeEventListener("test",ro,ro)}catch{ch=!1}function gI(t,e,n,r,s,i,o,u,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(f){this.onError(f)}}var So=!1,Jl=null,Xl=!1,dh=null,yI={onError:function(t){So=!0,Jl=t}};function vI(t,e,n,r,s,i,o,u,c){So=!1,Jl=null,gI.apply(yI,arguments)}function _I(t,e,n,r,s,i,o,u,c){if(vI.apply(this,arguments),So){if(So){var d=Jl;So=!1,Jl=null}else throw Error(U(198));Xl||(Xl=!0,dh=d)}}function ws(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function f_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Pg(t){if(ws(t)!==t)throw Error(U(188))}function xI(t){var e=t.alternate;if(!e){if(e=ws(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Pg(s),t;if(i===r)return Pg(s),e;i=i.sibling}throw Error(U(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,u=s.child;u;){if(u===n){o=!0,n=s,r=i;break}if(u===r){o=!0,r=s,n=i;break}u=u.sibling}if(!o){for(u=i.child;u;){if(u===n){o=!0,n=i,r=s;break}if(u===r){o=!0,r=i,n=s;break}u=u.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function m_(t){return t=xI(t),t!==null?p_(t):null}function p_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=p_(t);if(e!==null)return e;t=t.sibling}return null}var g_=jt.unstable_scheduleCallback,jg=jt.unstable_cancelCallback,wI=jt.unstable_shouldYield,EI=jt.unstable_requestPaint,je=jt.unstable_now,TI=jt.unstable_getCurrentPriorityLevel,jf=jt.unstable_ImmediatePriority,y_=jt.unstable_UserBlockingPriority,Zl=jt.unstable_NormalPriority,II=jt.unstable_LowPriority,v_=jt.unstable_IdlePriority,qu=null,yn=null;function SI(t){if(yn&&typeof yn.onCommitFiberRoot=="function")try{yn.onCommitFiberRoot(qu,t,void 0,(t.current.flags&128)===128)}catch{}}var en=Math.clz32?Math.clz32:AI,NI=Math.log,bI=Math.LN2;function AI(t){return t>>>=0,t===0?32:31-(NI(t)/bI|0)|0}var tl=64,nl=4194304;function go(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function eu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var u=o&~s;u!==0?r=go(u):(i&=o,i!==0&&(r=go(i)))}else o=n&~s,o!==0?r=go(o):i!==0&&(r=go(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-en(e),s=1<<n,r|=t[n],e&=~s;return r}function CI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kI(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-en(i),u=1<<o,c=s[o];c===-1?(!(u&n)||u&r)&&(s[o]=CI(u,e)):c<=e&&(t.expiredLanes|=u),i&=~u}}function hh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function __(){var t=tl;return tl<<=1,!(tl&4194240)&&(tl=64),t}function ad(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function va(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-en(e),t[e]=n}function RI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-en(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Df(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-en(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var de=0;function x_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var w_,Of,E_,T_,I_,fh=!1,rl=[],vr=null,_r=null,xr=null,zo=new Map,Bo=new Map,ur=[],PI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dg(t,e){switch(t){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":_r=null;break;case"mouseover":case"mouseout":xr=null;break;case"pointerover":case"pointerout":zo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bo.delete(e.pointerId)}}function so(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=xa(e),e!==null&&Of(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function jI(t,e,n,r,s){switch(e){case"focusin":return vr=so(vr,t,e,n,r,s),!0;case"dragenter":return _r=so(_r,t,e,n,r,s),!0;case"mouseover":return xr=so(xr,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return zo.set(i,so(zo.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Bo.set(i,so(Bo.get(i)||null,t,e,n,r,s)),!0}return!1}function S_(t){var e=ns(t.target);if(e!==null){var n=ws(e);if(n!==null){if(e=n.tag,e===13){if(e=f_(n),e!==null){t.blockedOn=e,I_(t.priority,function(){E_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=mh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);lh=r,n.target.dispatchEvent(r),lh=null}else return e=xa(n),e!==null&&Of(e),t.blockedOn=n,!1;e.shift()}return!0}function Og(t,e,n){Nl(t)&&n.delete(e)}function DI(){fh=!1,vr!==null&&Nl(vr)&&(vr=null),_r!==null&&Nl(_r)&&(_r=null),xr!==null&&Nl(xr)&&(xr=null),zo.forEach(Og),Bo.forEach(Og)}function io(t,e){t.blockedOn===e&&(t.blockedOn=null,fh||(fh=!0,jt.unstable_scheduleCallback(jt.unstable_NormalPriority,DI)))}function Ho(t){function e(s){return io(s,t)}if(0<rl.length){io(rl[0],t);for(var n=1;n<rl.length;n++){var r=rl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(vr!==null&&io(vr,t),_r!==null&&io(_r,t),xr!==null&&io(xr,t),zo.forEach(e),Bo.forEach(e),n=0;n<ur.length;n++)r=ur[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ur.length&&(n=ur[0],n.blockedOn===null);)S_(n),n.blockedOn===null&&ur.shift()}var ei=Xn.ReactCurrentBatchConfig,tu=!0;function OI(t,e,n,r){var s=de,i=ei.transition;ei.transition=null;try{de=1,Lf(t,e,n,r)}finally{de=s,ei.transition=i}}function LI(t,e,n,r){var s=de,i=ei.transition;ei.transition=null;try{de=4,Lf(t,e,n,r)}finally{de=s,ei.transition=i}}function Lf(t,e,n,r){if(tu){var s=mh(t,e,n,r);if(s===null)yd(t,e,r,nu,n),Dg(t,r);else if(jI(s,t,e,n,r))r.stopPropagation();else if(Dg(t,r),e&4&&-1<PI.indexOf(t)){for(;s!==null;){var i=xa(s);if(i!==null&&w_(i),i=mh(t,e,n,r),i===null&&yd(t,e,r,nu,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else yd(t,e,r,null,n)}}var nu=null;function mh(t,e,n,r){if(nu=null,t=Pf(r),t=ns(t),t!==null)if(e=ws(t),e===null)t=null;else if(n=e.tag,n===13){if(t=f_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return nu=t,null}function N_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(TI()){case jf:return 1;case y_:return 4;case Zl:case II:return 16;case v_:return 536870912;default:return 16}default:return 16}}var pr=null,Vf=null,bl=null;function b_(){if(bl)return bl;var t,e=Vf,n=e.length,r,s="value"in pr?pr.value:pr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return bl=s.slice(t,1<r?1-r:void 0)}function Al(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function sl(){return!0}function Lg(){return!1}function Ot(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?sl:Lg,this.isPropagationStopped=Lg,this}return Ne(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=sl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=sl)},persist:function(){},isPersistent:sl}),e}var Ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mf=Ot(Ni),_a=Ne({},Ni,{view:0,detail:0}),VI=Ot(_a),ld,ud,oo,Wu=Ne({},_a,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ff,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==oo&&(oo&&t.type==="mousemove"?(ld=t.screenX-oo.screenX,ud=t.screenY-oo.screenY):ud=ld=0,oo=t),ld)},movementY:function(t){return"movementY"in t?t.movementY:ud}}),Vg=Ot(Wu),MI=Ne({},Wu,{dataTransfer:0}),FI=Ot(MI),UI=Ne({},_a,{relatedTarget:0}),cd=Ot(UI),$I=Ne({},Ni,{animationName:0,elapsedTime:0,pseudoElement:0}),zI=Ot($I),BI=Ne({},Ni,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),HI=Ot(BI),qI=Ne({},Ni,{data:0}),Mg=Ot(qI),WI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},GI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function QI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=GI[t])?!!e[t]:!1}function Ff(){return QI}var YI=Ne({},_a,{key:function(t){if(t.key){var e=WI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Al(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?KI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ff,charCode:function(t){return t.type==="keypress"?Al(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Al(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),JI=Ot(YI),XI=Ne({},Wu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fg=Ot(XI),ZI=Ne({},_a,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ff}),e2=Ot(ZI),t2=Ne({},Ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),n2=Ot(t2),r2=Ne({},Wu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),s2=Ot(r2),i2=[9,13,27,32],Uf=Bn&&"CompositionEvent"in window,No=null;Bn&&"documentMode"in document&&(No=document.documentMode);var o2=Bn&&"TextEvent"in window&&!No,A_=Bn&&(!Uf||No&&8<No&&11>=No),Ug=" ",$g=!1;function C_(t,e){switch(t){case"keyup":return i2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function k_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fs=!1;function a2(t,e){switch(t){case"compositionend":return k_(e);case"keypress":return e.which!==32?null:($g=!0,Ug);case"textInput":return t=e.data,t===Ug&&$g?null:t;default:return null}}function l2(t,e){if(Fs)return t==="compositionend"||!Uf&&C_(t,e)?(t=b_(),bl=Vf=pr=null,Fs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return A_&&e.locale!=="ko"?null:e.data;default:return null}}var u2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!u2[t.type]:e==="textarea"}function R_(t,e,n,r){l_(r),e=ru(e,"onChange"),0<e.length&&(n=new Mf("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var bo=null,qo=null;function c2(t){z_(t,0)}function Ku(t){var e=zs(t);if(t_(e))return t}function d2(t,e){if(t==="change")return e}var P_=!1;if(Bn){var dd;if(Bn){var hd="oninput"in document;if(!hd){var Bg=document.createElement("div");Bg.setAttribute("oninput","return;"),hd=typeof Bg.oninput=="function"}dd=hd}else dd=!1;P_=dd&&(!document.documentMode||9<document.documentMode)}function Hg(){bo&&(bo.detachEvent("onpropertychange",j_),qo=bo=null)}function j_(t){if(t.propertyName==="value"&&Ku(qo)){var e=[];R_(e,qo,t,Pf(t)),h_(c2,e)}}function h2(t,e,n){t==="focusin"?(Hg(),bo=e,qo=n,bo.attachEvent("onpropertychange",j_)):t==="focusout"&&Hg()}function f2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ku(qo)}function m2(t,e){if(t==="click")return Ku(e)}function p2(t,e){if(t==="input"||t==="change")return Ku(e)}function g2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var rn=typeof Object.is=="function"?Object.is:g2;function Wo(t,e){if(rn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Yd.call(e,s)||!rn(t[s],e[s]))return!1}return!0}function qg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wg(t,e){var n=qg(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=qg(n)}}function D_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?D_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function O_(){for(var t=window,e=Yl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Yl(t.document)}return e}function $f(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function y2(t){var e=O_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&D_(n.ownerDocument.documentElement,n)){if(r!==null&&$f(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Wg(n,i);var o=Wg(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var v2=Bn&&"documentMode"in document&&11>=document.documentMode,Us=null,ph=null,Ao=null,gh=!1;function Kg(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gh||Us==null||Us!==Yl(r)||(r=Us,"selectionStart"in r&&$f(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ao&&Wo(Ao,r)||(Ao=r,r=ru(ph,"onSelect"),0<r.length&&(e=new Mf("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Us)))}function il(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var $s={animationend:il("Animation","AnimationEnd"),animationiteration:il("Animation","AnimationIteration"),animationstart:il("Animation","AnimationStart"),transitionend:il("Transition","TransitionEnd")},fd={},L_={};Bn&&(L_=document.createElement("div").style,"AnimationEvent"in window||(delete $s.animationend.animation,delete $s.animationiteration.animation,delete $s.animationstart.animation),"TransitionEvent"in window||delete $s.transitionend.transition);function Gu(t){if(fd[t])return fd[t];if(!$s[t])return t;var e=$s[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in L_)return fd[t]=e[n];return t}var V_=Gu("animationend"),M_=Gu("animationiteration"),F_=Gu("animationstart"),U_=Gu("transitionend"),$_=new Map,Gg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ur(t,e){$_.set(t,e),xs(e,[t])}for(var md=0;md<Gg.length;md++){var pd=Gg[md],_2=pd.toLowerCase(),x2=pd[0].toUpperCase()+pd.slice(1);Ur(_2,"on"+x2)}Ur(V_,"onAnimationEnd");Ur(M_,"onAnimationIteration");Ur(F_,"onAnimationStart");Ur("dblclick","onDoubleClick");Ur("focusin","onFocus");Ur("focusout","onBlur");Ur(U_,"onTransitionEnd");ci("onMouseEnter",["mouseout","mouseover"]);ci("onMouseLeave",["mouseout","mouseover"]);ci("onPointerEnter",["pointerout","pointerover"]);ci("onPointerLeave",["pointerout","pointerover"]);xs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xs("onBeforeInput",["compositionend","keypress","textInput","paste"]);xs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w2=new Set("cancel close invalid load scroll toggle".split(" ").concat(yo));function Qg(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,_I(r,e,void 0,t),t.currentTarget=null}function z_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var u=r[o],c=u.instance,d=u.currentTarget;if(u=u.listener,c!==i&&s.isPropagationStopped())break e;Qg(s,u,d),i=c}else for(o=0;o<r.length;o++){if(u=r[o],c=u.instance,d=u.currentTarget,u=u.listener,c!==i&&s.isPropagationStopped())break e;Qg(s,u,d),i=c}}}if(Xl)throw t=dh,Xl=!1,dh=null,t}function ve(t,e){var n=e[wh];n===void 0&&(n=e[wh]=new Set);var r=t+"__bubble";n.has(r)||(B_(e,t,2,!1),n.add(r))}function gd(t,e,n){var r=0;e&&(r|=4),B_(n,t,r,e)}var ol="_reactListening"+Math.random().toString(36).slice(2);function Ko(t){if(!t[ol]){t[ol]=!0,Y0.forEach(function(n){n!=="selectionchange"&&(w2.has(n)||gd(n,!1,t),gd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ol]||(e[ol]=!0,gd("selectionchange",!1,e))}}function B_(t,e,n,r){switch(N_(e)){case 1:var s=OI;break;case 4:s=LI;break;default:s=Lf}n=s.bind(null,e,n,t),s=void 0,!ch||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function yd(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var u=r.stateNode.containerInfo;if(u===s||u.nodeType===8&&u.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;u!==null;){if(o=ns(u),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}u=u.parentNode}}r=r.return}h_(function(){var d=i,f=Pf(n),m=[];e:{var g=$_.get(t);if(g!==void 0){var T=Mf,b=t;switch(t){case"keypress":if(Al(n)===0)break e;case"keydown":case"keyup":T=JI;break;case"focusin":b="focus",T=cd;break;case"focusout":b="blur",T=cd;break;case"beforeblur":case"afterblur":T=cd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":T=Vg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":T=FI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":T=e2;break;case V_:case M_:case F_:T=zI;break;case U_:T=n2;break;case"scroll":T=VI;break;case"wheel":T=s2;break;case"copy":case"cut":case"paste":T=HI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":T=Fg}var C=(e&4)!==0,k=!C&&t==="scroll",E=C?g!==null?g+"Capture":null:g;C=[];for(var y=d,w;y!==null;){w=y;var D=w.stateNode;if(w.tag===5&&D!==null&&(w=D,E!==null&&(D=$o(y,E),D!=null&&C.push(Go(y,D,w)))),k)break;y=y.return}0<C.length&&(g=new T(g,b,null,n,f),m.push({event:g,listeners:C}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",T=t==="mouseout"||t==="pointerout",g&&n!==lh&&(b=n.relatedTarget||n.fromElement)&&(ns(b)||b[Hn]))break e;if((T||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,T?(b=n.relatedTarget||n.toElement,T=d,b=b?ns(b):null,b!==null&&(k=ws(b),b!==k||b.tag!==5&&b.tag!==6)&&(b=null)):(T=null,b=d),T!==b)){if(C=Vg,D="onMouseLeave",E="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(C=Fg,D="onPointerLeave",E="onPointerEnter",y="pointer"),k=T==null?g:zs(T),w=b==null?g:zs(b),g=new C(D,y+"leave",T,n,f),g.target=k,g.relatedTarget=w,D=null,ns(f)===d&&(C=new C(E,y+"enter",b,n,f),C.target=w,C.relatedTarget=k,D=C),k=D,T&&b)t:{for(C=T,E=b,y=0,w=C;w;w=ks(w))y++;for(w=0,D=E;D;D=ks(D))w++;for(;0<y-w;)C=ks(C),y--;for(;0<w-y;)E=ks(E),w--;for(;y--;){if(C===E||E!==null&&C===E.alternate)break t;C=ks(C),E=ks(E)}C=null}else C=null;T!==null&&Yg(m,g,T,C,!1),b!==null&&k!==null&&Yg(m,k,b,C,!0)}}e:{if(g=d?zs(d):window,T=g.nodeName&&g.nodeName.toLowerCase(),T==="select"||T==="input"&&g.type==="file")var L=d2;else if(zg(g))if(P_)L=p2;else{L=f2;var F=h2}else(T=g.nodeName)&&T.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(L=m2);if(L&&(L=L(t,d))){R_(m,L,n,f);break e}F&&F(t,g,d),t==="focusout"&&(F=g._wrapperState)&&F.controlled&&g.type==="number"&&rh(g,"number",g.value)}switch(F=d?zs(d):window,t){case"focusin":(zg(F)||F.contentEditable==="true")&&(Us=F,ph=d,Ao=null);break;case"focusout":Ao=ph=Us=null;break;case"mousedown":gh=!0;break;case"contextmenu":case"mouseup":case"dragend":gh=!1,Kg(m,n,f);break;case"selectionchange":if(v2)break;case"keydown":case"keyup":Kg(m,n,f)}var x;if(Uf)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Fs?C_(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(A_&&n.locale!=="ko"&&(Fs||v!=="onCompositionStart"?v==="onCompositionEnd"&&Fs&&(x=b_()):(pr=f,Vf="value"in pr?pr.value:pr.textContent,Fs=!0)),F=ru(d,v),0<F.length&&(v=new Mg(v,t,null,n,f),m.push({event:v,listeners:F}),x?v.data=x:(x=k_(n),x!==null&&(v.data=x)))),(x=o2?a2(t,n):l2(t,n))&&(d=ru(d,"onBeforeInput"),0<d.length&&(f=new Mg("onBeforeInput","beforeinput",null,n,f),m.push({event:f,listeners:d}),f.data=x))}z_(m,e)})}function Go(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ru(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=$o(t,n),i!=null&&r.unshift(Go(t,i,s)),i=$o(t,e),i!=null&&r.push(Go(t,i,s))),t=t.return}return r}function ks(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Yg(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var u=n,c=u.alternate,d=u.stateNode;if(c!==null&&c===r)break;u.tag===5&&d!==null&&(u=d,s?(c=$o(n,i),c!=null&&o.unshift(Go(n,c,u))):s||(c=$o(n,i),c!=null&&o.push(Go(n,c,u)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var E2=/\r\n?/g,T2=/\u0000|\uFFFD/g;function Jg(t){return(typeof t=="string"?t:""+t).replace(E2,`
`).replace(T2,"")}function al(t,e,n){if(e=Jg(e),Jg(t)!==e&&n)throw Error(U(425))}function su(){}var yh=null,vh=null;function _h(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var xh=typeof setTimeout=="function"?setTimeout:void 0,I2=typeof clearTimeout=="function"?clearTimeout:void 0,Xg=typeof Promise=="function"?Promise:void 0,S2=typeof queueMicrotask=="function"?queueMicrotask:typeof Xg<"u"?function(t){return Xg.resolve(null).then(t).catch(N2)}:xh;function N2(t){setTimeout(function(){throw t})}function vd(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ho(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ho(e)}function wr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Zg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var bi=Math.random().toString(36).slice(2),gn="__reactFiber$"+bi,Qo="__reactProps$"+bi,Hn="__reactContainer$"+bi,wh="__reactEvents$"+bi,b2="__reactListeners$"+bi,A2="__reactHandles$"+bi;function ns(t){var e=t[gn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Hn]||n[gn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Zg(t);t!==null;){if(n=t[gn])return n;t=Zg(t)}return e}t=n,n=t.parentNode}return null}function xa(t){return t=t[gn]||t[Hn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function zs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function Qu(t){return t[Qo]||null}var Eh=[],Bs=-1;function $r(t){return{current:t}}function xe(t){0>Bs||(t.current=Eh[Bs],Eh[Bs]=null,Bs--)}function pe(t,e){Bs++,Eh[Bs]=t.current,t.current=e}var Pr={},ft=$r(Pr),St=$r(!1),cs=Pr;function di(t,e){var n=t.type.contextTypes;if(!n)return Pr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Nt(t){return t=t.childContextTypes,t!=null}function iu(){xe(St),xe(ft)}function ey(t,e,n){if(ft.current!==Pr)throw Error(U(168));pe(ft,e),pe(St,n)}function H_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(U(108,hI(t)||"Unknown",s));return Ne({},n,r)}function ou(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Pr,cs=ft.current,pe(ft,t),pe(St,St.current),!0}function ty(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=H_(t,e,cs),r.__reactInternalMemoizedMergedChildContext=t,xe(St),xe(ft),pe(ft,t)):xe(St),pe(St,n)}var Dn=null,Yu=!1,_d=!1;function q_(t){Dn===null?Dn=[t]:Dn.push(t)}function C2(t){Yu=!0,q_(t)}function zr(){if(!_d&&Dn!==null){_d=!0;var t=0,e=de;try{var n=Dn;for(de=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Dn=null,Yu=!1}catch(s){throw Dn!==null&&(Dn=Dn.slice(t+1)),g_(jf,zr),s}finally{de=e,_d=!1}}return null}var Hs=[],qs=0,au=null,lu=0,Ft=[],Ut=0,ds=null,On=1,Ln="";function Zr(t,e){Hs[qs++]=lu,Hs[qs++]=au,au=t,lu=e}function W_(t,e,n){Ft[Ut++]=On,Ft[Ut++]=Ln,Ft[Ut++]=ds,ds=t;var r=On;t=Ln;var s=32-en(r)-1;r&=~(1<<s),n+=1;var i=32-en(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,On=1<<32-en(e)+s|n<<s|r,Ln=i+t}else On=1<<i|n<<s|r,Ln=t}function zf(t){t.return!==null&&(Zr(t,1),W_(t,1,0))}function Bf(t){for(;t===au;)au=Hs[--qs],Hs[qs]=null,lu=Hs[--qs],Hs[qs]=null;for(;t===ds;)ds=Ft[--Ut],Ft[Ut]=null,Ln=Ft[--Ut],Ft[Ut]=null,On=Ft[--Ut],Ft[Ut]=null}var Pt=null,kt=null,we=!1,Yt=null;function K_(t,e){var n=Bt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ny(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Pt=t,kt=wr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Pt=t,kt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ds!==null?{id:On,overflow:Ln}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Bt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Pt=t,kt=null,!0):!1;default:return!1}}function Th(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ih(t){if(we){var e=kt;if(e){var n=e;if(!ny(t,e)){if(Th(t))throw Error(U(418));e=wr(n.nextSibling);var r=Pt;e&&ny(t,e)?K_(r,n):(t.flags=t.flags&-4097|2,we=!1,Pt=t)}}else{if(Th(t))throw Error(U(418));t.flags=t.flags&-4097|2,we=!1,Pt=t}}}function ry(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Pt=t}function ll(t){if(t!==Pt)return!1;if(!we)return ry(t),we=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!_h(t.type,t.memoizedProps)),e&&(e=kt)){if(Th(t))throw G_(),Error(U(418));for(;e;)K_(t,e),e=wr(e.nextSibling)}if(ry(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){kt=wr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}kt=null}}else kt=Pt?wr(t.stateNode.nextSibling):null;return!0}function G_(){for(var t=kt;t;)t=wr(t.nextSibling)}function hi(){kt=Pt=null,we=!1}function Hf(t){Yt===null?Yt=[t]:Yt.push(t)}var k2=Xn.ReactCurrentBatchConfig;function ao(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var u=s.refs;o===null?delete u[i]:u[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function ul(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function sy(t){var e=t._init;return e(t._payload)}function Q_(t){function e(E,y){if(t){var w=E.deletions;w===null?(E.deletions=[y],E.flags|=16):w.push(y)}}function n(E,y){if(!t)return null;for(;y!==null;)e(E,y),y=y.sibling;return null}function r(E,y){for(E=new Map;y!==null;)y.key!==null?E.set(y.key,y):E.set(y.index,y),y=y.sibling;return E}function s(E,y){return E=Sr(E,y),E.index=0,E.sibling=null,E}function i(E,y,w){return E.index=w,t?(w=E.alternate,w!==null?(w=w.index,w<y?(E.flags|=2,y):w):(E.flags|=2,y)):(E.flags|=1048576,y)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function u(E,y,w,D){return y===null||y.tag!==6?(y=Nd(w,E.mode,D),y.return=E,y):(y=s(y,w),y.return=E,y)}function c(E,y,w,D){var L=w.type;return L===Ms?f(E,y,w.props.children,D,w.key):y!==null&&(y.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===ar&&sy(L)===y.type)?(D=s(y,w.props),D.ref=ao(E,y,w),D.return=E,D):(D=Ol(w.type,w.key,w.props,null,E.mode,D),D.ref=ao(E,y,w),D.return=E,D)}function d(E,y,w,D){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=bd(w,E.mode,D),y.return=E,y):(y=s(y,w.children||[]),y.return=E,y)}function f(E,y,w,D,L){return y===null||y.tag!==7?(y=ls(w,E.mode,D,L),y.return=E,y):(y=s(y,w),y.return=E,y)}function m(E,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Nd(""+y,E.mode,w),y.return=E,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Xa:return w=Ol(y.type,y.key,y.props,null,E.mode,w),w.ref=ao(E,null,y),w.return=E,w;case Vs:return y=bd(y,E.mode,w),y.return=E,y;case ar:var D=y._init;return m(E,D(y._payload),w)}if(po(y)||no(y))return y=ls(y,E.mode,w,null),y.return=E,y;ul(E,y)}return null}function g(E,y,w,D){var L=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return L!==null?null:u(E,y,""+w,D);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Xa:return w.key===L?c(E,y,w,D):null;case Vs:return w.key===L?d(E,y,w,D):null;case ar:return L=w._init,g(E,y,L(w._payload),D)}if(po(w)||no(w))return L!==null?null:f(E,y,w,D,null);ul(E,w)}return null}function T(E,y,w,D,L){if(typeof D=="string"&&D!==""||typeof D=="number")return E=E.get(w)||null,u(y,E,""+D,L);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Xa:return E=E.get(D.key===null?w:D.key)||null,c(y,E,D,L);case Vs:return E=E.get(D.key===null?w:D.key)||null,d(y,E,D,L);case ar:var F=D._init;return T(E,y,w,F(D._payload),L)}if(po(D)||no(D))return E=E.get(w)||null,f(y,E,D,L,null);ul(y,D)}return null}function b(E,y,w,D){for(var L=null,F=null,x=y,v=y=0,I=null;x!==null&&v<w.length;v++){x.index>v?(I=x,x=null):I=x.sibling;var N=g(E,x,w[v],D);if(N===null){x===null&&(x=I);break}t&&x&&N.alternate===null&&e(E,x),y=i(N,y,v),F===null?L=N:F.sibling=N,F=N,x=I}if(v===w.length)return n(E,x),we&&Zr(E,v),L;if(x===null){for(;v<w.length;v++)x=m(E,w[v],D),x!==null&&(y=i(x,y,v),F===null?L=x:F.sibling=x,F=x);return we&&Zr(E,v),L}for(x=r(E,x);v<w.length;v++)I=T(x,E,v,w[v],D),I!==null&&(t&&I.alternate!==null&&x.delete(I.key===null?v:I.key),y=i(I,y,v),F===null?L=I:F.sibling=I,F=I);return t&&x.forEach(function(A){return e(E,A)}),we&&Zr(E,v),L}function C(E,y,w,D){var L=no(w);if(typeof L!="function")throw Error(U(150));if(w=L.call(w),w==null)throw Error(U(151));for(var F=L=null,x=y,v=y=0,I=null,N=w.next();x!==null&&!N.done;v++,N=w.next()){x.index>v?(I=x,x=null):I=x.sibling;var A=g(E,x,N.value,D);if(A===null){x===null&&(x=I);break}t&&x&&A.alternate===null&&e(E,x),y=i(A,y,v),F===null?L=A:F.sibling=A,F=A,x=I}if(N.done)return n(E,x),we&&Zr(E,v),L;if(x===null){for(;!N.done;v++,N=w.next())N=m(E,N.value,D),N!==null&&(y=i(N,y,v),F===null?L=N:F.sibling=N,F=N);return we&&Zr(E,v),L}for(x=r(E,x);!N.done;v++,N=w.next())N=T(x,E,v,N.value,D),N!==null&&(t&&N.alternate!==null&&x.delete(N.key===null?v:N.key),y=i(N,y,v),F===null?L=N:F.sibling=N,F=N);return t&&x.forEach(function(P){return e(E,P)}),we&&Zr(E,v),L}function k(E,y,w,D){if(typeof w=="object"&&w!==null&&w.type===Ms&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Xa:e:{for(var L=w.key,F=y;F!==null;){if(F.key===L){if(L=w.type,L===Ms){if(F.tag===7){n(E,F.sibling),y=s(F,w.props.children),y.return=E,E=y;break e}}else if(F.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===ar&&sy(L)===F.type){n(E,F.sibling),y=s(F,w.props),y.ref=ao(E,F,w),y.return=E,E=y;break e}n(E,F);break}else e(E,F);F=F.sibling}w.type===Ms?(y=ls(w.props.children,E.mode,D,w.key),y.return=E,E=y):(D=Ol(w.type,w.key,w.props,null,E.mode,D),D.ref=ao(E,y,w),D.return=E,E=D)}return o(E);case Vs:e:{for(F=w.key;y!==null;){if(y.key===F)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(E,y.sibling),y=s(y,w.children||[]),y.return=E,E=y;break e}else{n(E,y);break}else e(E,y);y=y.sibling}y=bd(w,E.mode,D),y.return=E,E=y}return o(E);case ar:return F=w._init,k(E,y,F(w._payload),D)}if(po(w))return b(E,y,w,D);if(no(w))return C(E,y,w,D);ul(E,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(E,y.sibling),y=s(y,w),y.return=E,E=y):(n(E,y),y=Nd(w,E.mode,D),y.return=E,E=y),o(E)):n(E,y)}return k}var fi=Q_(!0),Y_=Q_(!1),uu=$r(null),cu=null,Ws=null,qf=null;function Wf(){qf=Ws=cu=null}function Kf(t){var e=uu.current;xe(uu),t._currentValue=e}function Sh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ti(t,e){cu=t,qf=Ws=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(It=!0),t.firstContext=null)}function qt(t){var e=t._currentValue;if(qf!==t)if(t={context:t,memoizedValue:e,next:null},Ws===null){if(cu===null)throw Error(U(308));Ws=t,cu.dependencies={lanes:0,firstContext:t}}else Ws=Ws.next=t;return e}var rs=null;function Gf(t){rs===null?rs=[t]:rs.push(t)}function J_(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Gf(e)):(n.next=s.next,s.next=n),e.interleaved=n,qn(t,r)}function qn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var lr=!1;function Qf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function X_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Un(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Er(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ae&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,qn(t,n)}return s=r.interleaved,s===null?(e.next=e,Gf(r)):(e.next=s.next,s.next=e),r.interleaved=e,qn(t,n)}function Cl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Df(t,n)}}function iy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function du(t,e,n,r){var s=t.updateQueue;lr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,u=s.shared.pending;if(u!==null){s.shared.pending=null;var c=u,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var f=t.alternate;f!==null&&(f=f.updateQueue,u=f.lastBaseUpdate,u!==o&&(u===null?f.firstBaseUpdate=d:u.next=d,f.lastBaseUpdate=c))}if(i!==null){var m=s.baseState;o=0,f=d=c=null,u=i;do{var g=u.lane,T=u.eventTime;if((r&g)===g){f!==null&&(f=f.next={eventTime:T,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var b=t,C=u;switch(g=e,T=n,C.tag){case 1:if(b=C.payload,typeof b=="function"){m=b.call(T,m,g);break e}m=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=C.payload,g=typeof b=="function"?b.call(T,m,g):b,g==null)break e;m=Ne({},m,g);break e;case 2:lr=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,g=s.effects,g===null?s.effects=[u]:g.push(u))}else T={eventTime:T,lane:g,tag:u.tag,payload:u.payload,callback:u.callback,next:null},f===null?(d=f=T,c=m):f=f.next=T,o|=g;if(u=u.next,u===null){if(u=s.shared.pending,u===null)break;g=u,u=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(f===null&&(c=m),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=f,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);fs|=o,t.lanes=o,t.memoizedState=m}}function oy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(U(191,s));s.call(r)}}}var wa={},vn=$r(wa),Yo=$r(wa),Jo=$r(wa);function ss(t){if(t===wa)throw Error(U(174));return t}function Yf(t,e){switch(pe(Jo,e),pe(Yo,t),pe(vn,wa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ih(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ih(e,t)}xe(vn),pe(vn,e)}function mi(){xe(vn),xe(Yo),xe(Jo)}function Z_(t){ss(Jo.current);var e=ss(vn.current),n=ih(e,t.type);e!==n&&(pe(Yo,t),pe(vn,n))}function Jf(t){Yo.current===t&&(xe(vn),xe(Yo))}var Ie=$r(0);function hu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var xd=[];function Xf(){for(var t=0;t<xd.length;t++)xd[t]._workInProgressVersionPrimary=null;xd.length=0}var kl=Xn.ReactCurrentDispatcher,wd=Xn.ReactCurrentBatchConfig,hs=0,Se=null,$e=null,Ke=null,fu=!1,Co=!1,Xo=0,R2=0;function it(){throw Error(U(321))}function Zf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!rn(t[n],e[n]))return!1;return!0}function em(t,e,n,r,s,i){if(hs=i,Se=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,kl.current=t===null||t.memoizedState===null?O2:L2,t=n(r,s),Co){i=0;do{if(Co=!1,Xo=0,25<=i)throw Error(U(301));i+=1,Ke=$e=null,e.updateQueue=null,kl.current=V2,t=n(r,s)}while(Co)}if(kl.current=mu,e=$e!==null&&$e.next!==null,hs=0,Ke=$e=Se=null,fu=!1,e)throw Error(U(300));return t}function tm(){var t=Xo!==0;return Xo=0,t}function mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?Se.memoizedState=Ke=t:Ke=Ke.next=t,Ke}function Wt(){if($e===null){var t=Se.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var e=Ke===null?Se.memoizedState:Ke.next;if(e!==null)Ke=e,$e=t;else{if(t===null)throw Error(U(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},Ke===null?Se.memoizedState=Ke=t:Ke=Ke.next=t}return Ke}function Zo(t,e){return typeof e=="function"?e(t):e}function Ed(t){var e=Wt(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=$e,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var u=o=null,c=null,d=i;do{var f=d.lane;if((hs&f)===f)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var m={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(u=c=m,o=r):c=c.next=m,Se.lanes|=f,fs|=f}d=d.next}while(d!==null&&d!==i);c===null?o=r:c.next=u,rn(r,e.memoizedState)||(It=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Se.lanes|=i,fs|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Td(t){var e=Wt(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);rn(i,e.memoizedState)||(It=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function ex(){}function tx(t,e){var n=Se,r=Wt(),s=e(),i=!rn(r.memoizedState,s);if(i&&(r.memoizedState=s,It=!0),r=r.queue,nm(sx.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Ke!==null&&Ke.memoizedState.tag&1){if(n.flags|=2048,ea(9,rx.bind(null,n,r,s,e),void 0,null),Qe===null)throw Error(U(349));hs&30||nx(n,e,s)}return s}function nx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Se.updateQueue,e===null?(e={lastEffect:null,stores:null},Se.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function rx(t,e,n,r){e.value=n,e.getSnapshot=r,ix(e)&&ox(t)}function sx(t,e,n){return n(function(){ix(e)&&ox(t)})}function ix(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!rn(t,n)}catch{return!0}}function ox(t){var e=qn(t,1);e!==null&&tn(e,t,1,-1)}function ay(t){var e=mn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zo,lastRenderedState:t},e.queue=t,t=t.dispatch=D2.bind(null,Se,t),[e.memoizedState,t]}function ea(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Se.updateQueue,e===null?(e={lastEffect:null,stores:null},Se.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ax(){return Wt().memoizedState}function Rl(t,e,n,r){var s=mn();Se.flags|=t,s.memoizedState=ea(1|e,n,void 0,r===void 0?null:r)}function Ju(t,e,n,r){var s=Wt();r=r===void 0?null:r;var i=void 0;if($e!==null){var o=$e.memoizedState;if(i=o.destroy,r!==null&&Zf(r,o.deps)){s.memoizedState=ea(e,n,i,r);return}}Se.flags|=t,s.memoizedState=ea(1|e,n,i,r)}function ly(t,e){return Rl(8390656,8,t,e)}function nm(t,e){return Ju(2048,8,t,e)}function lx(t,e){return Ju(4,2,t,e)}function ux(t,e){return Ju(4,4,t,e)}function cx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function dx(t,e,n){return n=n!=null?n.concat([t]):null,Ju(4,4,cx.bind(null,e,t),n)}function rm(){}function hx(t,e){var n=Wt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Zf(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function fx(t,e){var n=Wt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Zf(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function mx(t,e,n){return hs&21?(rn(n,e)||(n=__(),Se.lanes|=n,fs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,It=!0),t.memoizedState=n)}function P2(t,e){var n=de;de=n!==0&&4>n?n:4,t(!0);var r=wd.transition;wd.transition={};try{t(!1),e()}finally{de=n,wd.transition=r}}function px(){return Wt().memoizedState}function j2(t,e,n){var r=Ir(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},gx(t))yx(e,n);else if(n=J_(t,e,n,r),n!==null){var s=vt();tn(n,t,r,s),vx(n,e,r)}}function D2(t,e,n){var r=Ir(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(gx(t))yx(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,u=i(o,n);if(s.hasEagerState=!0,s.eagerState=u,rn(u,o)){var c=e.interleaved;c===null?(s.next=s,Gf(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=J_(t,e,s,r),n!==null&&(s=vt(),tn(n,t,r,s),vx(n,e,r))}}function gx(t){var e=t.alternate;return t===Se||e!==null&&e===Se}function yx(t,e){Co=fu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function vx(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Df(t,n)}}var mu={readContext:qt,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useInsertionEffect:it,useLayoutEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useMutableSource:it,useSyncExternalStore:it,useId:it,unstable_isNewReconciler:!1},O2={readContext:qt,useCallback:function(t,e){return mn().memoizedState=[t,e===void 0?null:e],t},useContext:qt,useEffect:ly,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Rl(4194308,4,cx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Rl(4194308,4,t,e)},useInsertionEffect:function(t,e){return Rl(4,2,t,e)},useMemo:function(t,e){var n=mn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=mn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=j2.bind(null,Se,t),[r.memoizedState,t]},useRef:function(t){var e=mn();return t={current:t},e.memoizedState=t},useState:ay,useDebugValue:rm,useDeferredValue:function(t){return mn().memoizedState=t},useTransition:function(){var t=ay(!1),e=t[0];return t=P2.bind(null,t[1]),mn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Se,s=mn();if(we){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),Qe===null)throw Error(U(349));hs&30||nx(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,ly(sx.bind(null,r,i,t),[t]),r.flags|=2048,ea(9,rx.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=mn(),e=Qe.identifierPrefix;if(we){var n=Ln,r=On;n=(r&~(1<<32-en(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Xo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=R2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},L2={readContext:qt,useCallback:hx,useContext:qt,useEffect:nm,useImperativeHandle:dx,useInsertionEffect:lx,useLayoutEffect:ux,useMemo:fx,useReducer:Ed,useRef:ax,useState:function(){return Ed(Zo)},useDebugValue:rm,useDeferredValue:function(t){var e=Wt();return mx(e,$e.memoizedState,t)},useTransition:function(){var t=Ed(Zo)[0],e=Wt().memoizedState;return[t,e]},useMutableSource:ex,useSyncExternalStore:tx,useId:px,unstable_isNewReconciler:!1},V2={readContext:qt,useCallback:hx,useContext:qt,useEffect:nm,useImperativeHandle:dx,useInsertionEffect:lx,useLayoutEffect:ux,useMemo:fx,useReducer:Td,useRef:ax,useState:function(){return Td(Zo)},useDebugValue:rm,useDeferredValue:function(t){var e=Wt();return $e===null?e.memoizedState=t:mx(e,$e.memoizedState,t)},useTransition:function(){var t=Td(Zo)[0],e=Wt().memoizedState;return[t,e]},useMutableSource:ex,useSyncExternalStore:tx,useId:px,unstable_isNewReconciler:!1};function Gt(t,e){if(t&&t.defaultProps){e=Ne({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Nh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ne({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Xu={isMounted:function(t){return(t=t._reactInternals)?ws(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=vt(),s=Ir(t),i=Un(r,s);i.payload=e,n!=null&&(i.callback=n),e=Er(t,i,s),e!==null&&(tn(e,t,s,r),Cl(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=vt(),s=Ir(t),i=Un(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Er(t,i,s),e!==null&&(tn(e,t,s,r),Cl(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=vt(),r=Ir(t),s=Un(n,r);s.tag=2,e!=null&&(s.callback=e),e=Er(t,s,r),e!==null&&(tn(e,t,r,n),Cl(e,t,r))}};function uy(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Wo(n,r)||!Wo(s,i):!0}function _x(t,e,n){var r=!1,s=Pr,i=e.contextType;return typeof i=="object"&&i!==null?i=qt(i):(s=Nt(e)?cs:ft.current,r=e.contextTypes,i=(r=r!=null)?di(t,s):Pr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Xu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function cy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Xu.enqueueReplaceState(e,e.state,null)}function bh(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Qf(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=qt(i):(i=Nt(e)?cs:ft.current,s.context=di(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Nh(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Xu.enqueueReplaceState(s,s.state,null),du(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function pi(t,e){try{var n="",r=e;do n+=dI(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Id(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ah(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var M2=typeof WeakMap=="function"?WeakMap:Map;function xx(t,e,n){n=Un(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){gu||(gu=!0,Mh=r),Ah(t,e)},n}function wx(t,e,n){n=Un(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Ah(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ah(t,e),typeof r!="function"&&(Tr===null?Tr=new Set([this]):Tr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function dy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new M2;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=X2.bind(null,t,e,n),e.then(t,t))}function hy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function fy(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Un(-1,1),e.tag=2,Er(n,e,1))),n.lanes|=1),t)}var F2=Xn.ReactCurrentOwner,It=!1;function yt(t,e,n,r){e.child=t===null?Y_(e,null,n,r):fi(e,t.child,n,r)}function my(t,e,n,r,s){n=n.render;var i=e.ref;return ti(e,s),r=em(t,e,n,r,i,s),n=tm(),t!==null&&!It?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Wn(t,e,s)):(we&&n&&zf(e),e.flags|=1,yt(t,e,r,s),e.child)}function py(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!dm(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Ex(t,e,i,r,s)):(t=Ol(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Wo,n(o,r)&&t.ref===e.ref)return Wn(t,e,s)}return e.flags|=1,t=Sr(i,r),t.ref=e.ref,t.return=e,e.child=t}function Ex(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Wo(i,r)&&t.ref===e.ref)if(It=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(It=!0);else return e.lanes=t.lanes,Wn(t,e,s)}return Ch(t,e,n,r,s)}function Tx(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},pe(Gs,Ct),Ct|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,pe(Gs,Ct),Ct|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,pe(Gs,Ct),Ct|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,pe(Gs,Ct),Ct|=r;return yt(t,e,s,n),e.child}function Ix(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ch(t,e,n,r,s){var i=Nt(n)?cs:ft.current;return i=di(e,i),ti(e,s),n=em(t,e,n,r,i,s),r=tm(),t!==null&&!It?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Wn(t,e,s)):(we&&r&&zf(e),e.flags|=1,yt(t,e,n,s),e.child)}function gy(t,e,n,r,s){if(Nt(n)){var i=!0;ou(e)}else i=!1;if(ti(e,s),e.stateNode===null)Pl(t,e),_x(e,n,r),bh(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,u=e.memoizedProps;o.props=u;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=qt(d):(d=Nt(n)?cs:ft.current,d=di(e,d));var f=n.getDerivedStateFromProps,m=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==r||c!==d)&&cy(e,o,r,d),lr=!1;var g=e.memoizedState;o.state=g,du(e,r,o,s),c=e.memoizedState,u!==r||g!==c||St.current||lr?(typeof f=="function"&&(Nh(e,n,f,r),c=e.memoizedState),(u=lr||uy(e,n,u,r,g,c,d))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=d,r=u):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,X_(t,e),u=e.memoizedProps,d=e.type===e.elementType?u:Gt(e.type,u),o.props=d,m=e.pendingProps,g=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=qt(c):(c=Nt(n)?cs:ft.current,c=di(e,c));var T=n.getDerivedStateFromProps;(f=typeof T=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==m||g!==c)&&cy(e,o,r,c),lr=!1,g=e.memoizedState,o.state=g,du(e,r,o,s);var b=e.memoizedState;u!==m||g!==b||St.current||lr?(typeof T=="function"&&(Nh(e,n,T,r),b=e.memoizedState),(d=lr||uy(e,n,d,r,g,b,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),o.props=r,o.state=b,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return kh(t,e,n,r,i,s)}function kh(t,e,n,r,s,i){Ix(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&ty(e,n,!1),Wn(t,e,i);r=e.stateNode,F2.current=e;var u=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=fi(e,t.child,null,i),e.child=fi(e,null,u,i)):yt(t,e,u,i),e.memoizedState=r.state,s&&ty(e,n,!0),e.child}function Sx(t){var e=t.stateNode;e.pendingContext?ey(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ey(t,e.context,!1),Yf(t,e.containerInfo)}function yy(t,e,n,r,s){return hi(),Hf(s),e.flags|=256,yt(t,e,n,r),e.child}var Rh={dehydrated:null,treeContext:null,retryLane:0};function Ph(t){return{baseLanes:t,cachePool:null,transitions:null}}function Nx(t,e,n){var r=e.pendingProps,s=Ie.current,i=!1,o=(e.flags&128)!==0,u;if((u=o)||(u=t!==null&&t.memoizedState===null?!1:(s&2)!==0),u?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),pe(Ie,s&1),t===null)return Ih(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=tc(o,r,0,null),t=ls(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Ph(n),e.memoizedState=Rh,t):sm(e,o));if(s=t.memoizedState,s!==null&&(u=s.dehydrated,u!==null))return U2(t,e,o,r,u,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,u=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Sr(s,c),r.subtreeFlags=s.subtreeFlags&14680064),u!==null?i=Sr(u,i):(i=ls(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Ph(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Rh,r}return i=t.child,t=i.sibling,r=Sr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function sm(t,e){return e=tc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function cl(t,e,n,r){return r!==null&&Hf(r),fi(e,t.child,null,n),t=sm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function U2(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Id(Error(U(422))),cl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=tc({mode:"visible",children:r.children},s,0,null),i=ls(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&fi(e,t.child,null,o),e.child.memoizedState=Ph(o),e.memoizedState=Rh,i);if(!(e.mode&1))return cl(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var u=r.dgst;return r=u,i=Error(U(419)),r=Id(i,r,void 0),cl(t,e,o,r)}if(u=(o&t.childLanes)!==0,It||u){if(r=Qe,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,qn(t,s),tn(r,t,s,-1))}return cm(),r=Id(Error(U(421))),cl(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Z2.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,kt=wr(s.nextSibling),Pt=e,we=!0,Yt=null,t!==null&&(Ft[Ut++]=On,Ft[Ut++]=Ln,Ft[Ut++]=ds,On=t.id,Ln=t.overflow,ds=e),e=sm(e,r.children),e.flags|=4096,e)}function vy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Sh(t.return,e,n)}function Sd(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function bx(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(yt(t,e,r.children,n),r=Ie.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vy(t,n,e);else if(t.tag===19)vy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(pe(Ie,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&hu(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Sd(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&hu(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Sd(e,!0,n,null,i);break;case"together":Sd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Pl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Wn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),fs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=Sr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Sr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function $2(t,e,n){switch(e.tag){case 3:Sx(e),hi();break;case 5:Z_(e);break;case 1:Nt(e.type)&&ou(e);break;case 4:Yf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;pe(uu,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(pe(Ie,Ie.current&1),e.flags|=128,null):n&e.child.childLanes?Nx(t,e,n):(pe(Ie,Ie.current&1),t=Wn(t,e,n),t!==null?t.sibling:null);pe(Ie,Ie.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return bx(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),pe(Ie,Ie.current),r)break;return null;case 22:case 23:return e.lanes=0,Tx(t,e,n)}return Wn(t,e,n)}var Ax,jh,Cx,kx;Ax=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};jh=function(){};Cx=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ss(vn.current);var i=null;switch(n){case"input":s=th(t,s),r=th(t,r),i=[];break;case"select":s=Ne({},s,{value:void 0}),r=Ne({},r,{value:void 0}),i=[];break;case"textarea":s=sh(t,s),r=sh(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=su)}oh(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var u=s[d];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Fo.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(u=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==u&&(c!=null||u!=null))if(d==="style")if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Fo.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ve("scroll",t),i||u===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};kx=function(t,e,n,r){n!==r&&(e.flags|=4)};function lo(t,e){if(!we)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ot(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function z2(t,e,n){var r=e.pendingProps;switch(Bf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(e),null;case 1:return Nt(e.type)&&iu(),ot(e),null;case 3:return r=e.stateNode,mi(),xe(St),xe(ft),Xf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ll(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Yt!==null&&($h(Yt),Yt=null))),jh(t,e),ot(e),null;case 5:Jf(e);var s=ss(Jo.current);if(n=e.type,t!==null&&e.stateNode!=null)Cx(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return ot(e),null}if(t=ss(vn.current),ll(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[gn]=e,r[Qo]=i,t=(e.mode&1)!==0,n){case"dialog":ve("cancel",r),ve("close",r);break;case"iframe":case"object":case"embed":ve("load",r);break;case"video":case"audio":for(s=0;s<yo.length;s++)ve(yo[s],r);break;case"source":ve("error",r);break;case"img":case"image":case"link":ve("error",r),ve("load",r);break;case"details":ve("toggle",r);break;case"input":bg(r,i),ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ve("invalid",r);break;case"textarea":Cg(r,i),ve("invalid",r)}oh(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var u=i[o];o==="children"?typeof u=="string"?r.textContent!==u&&(i.suppressHydrationWarning!==!0&&al(r.textContent,u,t),s=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(i.suppressHydrationWarning!==!0&&al(r.textContent,u,t),s=["children",""+u]):Fo.hasOwnProperty(o)&&u!=null&&o==="onScroll"&&ve("scroll",r)}switch(n){case"input":Za(r),Ag(r,i,!0);break;case"textarea":Za(r),kg(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=su)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=s_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[gn]=e,t[Qo]=r,Ax(t,e,!1,!1),e.stateNode=t;e:{switch(o=ah(n,r),n){case"dialog":ve("cancel",t),ve("close",t),s=r;break;case"iframe":case"object":case"embed":ve("load",t),s=r;break;case"video":case"audio":for(s=0;s<yo.length;s++)ve(yo[s],t);s=r;break;case"source":ve("error",t),s=r;break;case"img":case"image":case"link":ve("error",t),ve("load",t),s=r;break;case"details":ve("toggle",t),s=r;break;case"input":bg(t,r),s=th(t,r),ve("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ne({},r,{value:void 0}),ve("invalid",t);break;case"textarea":Cg(t,r),s=sh(t,r),ve("invalid",t);break;default:s=r}oh(n,s),u=s;for(i in u)if(u.hasOwnProperty(i)){var c=u[i];i==="style"?a_(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&i_(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Uo(t,c):typeof c=="number"&&Uo(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Fo.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ve("scroll",t):c!=null&&Af(t,i,c,o))}switch(n){case"input":Za(t),Ag(t,r,!1);break;case"textarea":Za(t),kg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Rr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Js(t,!!r.multiple,i,!1):r.defaultValue!=null&&Js(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=su)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ot(e),null;case 6:if(t&&e.stateNode!=null)kx(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=ss(Jo.current),ss(vn.current),ll(e)){if(r=e.stateNode,n=e.memoizedProps,r[gn]=e,(i=r.nodeValue!==n)&&(t=Pt,t!==null))switch(t.tag){case 3:al(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&al(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[gn]=e,e.stateNode=r}return ot(e),null;case 13:if(xe(Ie),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(we&&kt!==null&&e.mode&1&&!(e.flags&128))G_(),hi(),e.flags|=98560,i=!1;else if(i=ll(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(U(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(U(317));i[gn]=e}else hi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ot(e),i=!1}else Yt!==null&&($h(Yt),Yt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ie.current&1?ze===0&&(ze=3):cm())),e.updateQueue!==null&&(e.flags|=4),ot(e),null);case 4:return mi(),jh(t,e),t===null&&Ko(e.stateNode.containerInfo),ot(e),null;case 10:return Kf(e.type._context),ot(e),null;case 17:return Nt(e.type)&&iu(),ot(e),null;case 19:if(xe(Ie),i=e.memoizedState,i===null)return ot(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)lo(i,!1);else{if(ze!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=hu(t),o!==null){for(e.flags|=128,lo(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return pe(Ie,Ie.current&1|2),e.child}t=t.sibling}i.tail!==null&&je()>gi&&(e.flags|=128,r=!0,lo(i,!1),e.lanes=4194304)}else{if(!r)if(t=hu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),lo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!we)return ot(e),null}else 2*je()-i.renderingStartTime>gi&&n!==1073741824&&(e.flags|=128,r=!0,lo(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=je(),e.sibling=null,n=Ie.current,pe(Ie,r?n&1|2:n&1),e):(ot(e),null);case 22:case 23:return um(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ct&1073741824&&(ot(e),e.subtreeFlags&6&&(e.flags|=8192)):ot(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function B2(t,e){switch(Bf(e),e.tag){case 1:return Nt(e.type)&&iu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return mi(),xe(St),xe(ft),Xf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Jf(e),null;case 13:if(xe(Ie),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));hi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return xe(Ie),null;case 4:return mi(),null;case 10:return Kf(e.type._context),null;case 22:case 23:return um(),null;case 24:return null;default:return null}}var dl=!1,ct=!1,H2=typeof WeakSet=="function"?WeakSet:Set,q=null;function Ks(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ke(t,e,r)}else n.current=null}function Dh(t,e,n){try{n()}catch(r){ke(t,e,r)}}var _y=!1;function q2(t,e){if(yh=tu,t=O_(),$f(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,u=-1,c=-1,d=0,f=0,m=t,g=null;t:for(;;){for(var T;m!==n||s!==0&&m.nodeType!==3||(u=o+s),m!==i||r!==0&&m.nodeType!==3||(c=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(T=m.firstChild)!==null;)g=m,m=T;for(;;){if(m===t)break t;if(g===n&&++d===s&&(u=o),g===i&&++f===r&&(c=o),(T=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=T}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(vh={focusedElem:t,selectionRange:n},tu=!1,q=e;q!==null;)if(e=q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,q=t;else for(;q!==null;){e=q;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var C=b.memoizedProps,k=b.memoizedState,E=e.stateNode,y=E.getSnapshotBeforeUpdate(e.elementType===e.type?C:Gt(e.type,C),k);E.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(D){ke(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,q=t;break}q=e.return}return b=_y,_y=!1,b}function ko(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Dh(e,n,i)}s=s.next}while(s!==r)}}function Zu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Oh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Rx(t){var e=t.alternate;e!==null&&(t.alternate=null,Rx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[gn],delete e[Qo],delete e[wh],delete e[b2],delete e[A2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Px(t){return t.tag===5||t.tag===3||t.tag===4}function xy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Px(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Lh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=su));else if(r!==4&&(t=t.child,t!==null))for(Lh(t,e,n),t=t.sibling;t!==null;)Lh(t,e,n),t=t.sibling}function Vh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Vh(t,e,n),t=t.sibling;t!==null;)Vh(t,e,n),t=t.sibling}var Je=null,Qt=!1;function ir(t,e,n){for(n=n.child;n!==null;)jx(t,e,n),n=n.sibling}function jx(t,e,n){if(yn&&typeof yn.onCommitFiberUnmount=="function")try{yn.onCommitFiberUnmount(qu,n)}catch{}switch(n.tag){case 5:ct||Ks(n,e);case 6:var r=Je,s=Qt;Je=null,ir(t,e,n),Je=r,Qt=s,Je!==null&&(Qt?(t=Je,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Je.removeChild(n.stateNode));break;case 18:Je!==null&&(Qt?(t=Je,n=n.stateNode,t.nodeType===8?vd(t.parentNode,n):t.nodeType===1&&vd(t,n),Ho(t)):vd(Je,n.stateNode));break;case 4:r=Je,s=Qt,Je=n.stateNode.containerInfo,Qt=!0,ir(t,e,n),Je=r,Qt=s;break;case 0:case 11:case 14:case 15:if(!ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Dh(n,e,o),s=s.next}while(s!==r)}ir(t,e,n);break;case 1:if(!ct&&(Ks(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){ke(n,e,u)}ir(t,e,n);break;case 21:ir(t,e,n);break;case 22:n.mode&1?(ct=(r=ct)||n.memoizedState!==null,ir(t,e,n),ct=r):ir(t,e,n);break;default:ir(t,e,n)}}function wy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new H2),e.forEach(function(r){var s=eS.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Kt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,u=o;e:for(;u!==null;){switch(u.tag){case 5:Je=u.stateNode,Qt=!1;break e;case 3:Je=u.stateNode.containerInfo,Qt=!0;break e;case 4:Je=u.stateNode.containerInfo,Qt=!0;break e}u=u.return}if(Je===null)throw Error(U(160));jx(i,o,s),Je=null,Qt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){ke(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Dx(e,t),e=e.sibling}function Dx(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Kt(e,t),fn(t),r&4){try{ko(3,t,t.return),Zu(3,t)}catch(C){ke(t,t.return,C)}try{ko(5,t,t.return)}catch(C){ke(t,t.return,C)}}break;case 1:Kt(e,t),fn(t),r&512&&n!==null&&Ks(n,n.return);break;case 5:if(Kt(e,t),fn(t),r&512&&n!==null&&Ks(n,n.return),t.flags&32){var s=t.stateNode;try{Uo(s,"")}catch(C){ke(t,t.return,C)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,u=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{u==="input"&&i.type==="radio"&&i.name!=null&&n_(s,i),ah(u,o);var d=ah(u,i);for(o=0;o<c.length;o+=2){var f=c[o],m=c[o+1];f==="style"?a_(s,m):f==="dangerouslySetInnerHTML"?i_(s,m):f==="children"?Uo(s,m):Af(s,f,m,d)}switch(u){case"input":nh(s,i);break;case"textarea":r_(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var T=i.value;T!=null?Js(s,!!i.multiple,T,!1):g!==!!i.multiple&&(i.defaultValue!=null?Js(s,!!i.multiple,i.defaultValue,!0):Js(s,!!i.multiple,i.multiple?[]:"",!1))}s[Qo]=i}catch(C){ke(t,t.return,C)}}break;case 6:if(Kt(e,t),fn(t),r&4){if(t.stateNode===null)throw Error(U(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(C){ke(t,t.return,C)}}break;case 3:if(Kt(e,t),fn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ho(e.containerInfo)}catch(C){ke(t,t.return,C)}break;case 4:Kt(e,t),fn(t);break;case 13:Kt(e,t),fn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(am=je())),r&4&&wy(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(ct=(d=ct)||f,Kt(e,t),ct=d):Kt(e,t),fn(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!f&&t.mode&1)for(q=t,f=t.child;f!==null;){for(m=q=f;q!==null;){switch(g=q,T=g.child,g.tag){case 0:case 11:case 14:case 15:ko(4,g,g.return);break;case 1:Ks(g,g.return);var b=g.stateNode;if(typeof b.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(C){ke(r,n,C)}}break;case 5:Ks(g,g.return);break;case 22:if(g.memoizedState!==null){Ty(m);continue}}T!==null?(T.return=g,q=T):Ty(m)}f=f.sibling}e:for(f=null,m=t;;){if(m.tag===5){if(f===null){f=m;try{s=m.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(u=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=o_("display",o))}catch(C){ke(t,t.return,C)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(C){ke(t,t.return,C)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Kt(e,t),fn(t),r&4&&wy(t);break;case 21:break;default:Kt(e,t),fn(t)}}function fn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Px(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Uo(s,""),r.flags&=-33);var i=xy(t);Vh(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,u=xy(t);Lh(t,u,o);break;default:throw Error(U(161))}}catch(c){ke(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function W2(t,e,n){q=t,Ox(t)}function Ox(t,e,n){for(var r=(t.mode&1)!==0;q!==null;){var s=q,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||dl;if(!o){var u=s.alternate,c=u!==null&&u.memoizedState!==null||ct;u=dl;var d=ct;if(dl=o,(ct=c)&&!d)for(q=s;q!==null;)o=q,c=o.child,o.tag===22&&o.memoizedState!==null?Iy(s):c!==null?(c.return=o,q=c):Iy(s);for(;i!==null;)q=i,Ox(i),i=i.sibling;q=s,dl=u,ct=d}Ey(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,q=i):Ey(t)}}function Ey(t){for(;q!==null;){var e=q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ct||Zu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ct)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Gt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&oy(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}oy(e,o,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&Ho(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}ct||e.flags&512&&Oh(e)}catch(g){ke(e,e.return,g)}}if(e===t){q=null;break}if(n=e.sibling,n!==null){n.return=e.return,q=n;break}q=e.return}}function Ty(t){for(;q!==null;){var e=q;if(e===t){q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,q=n;break}q=e.return}}function Iy(t){for(;q!==null;){var e=q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Zu(4,e)}catch(c){ke(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){ke(e,s,c)}}var i=e.return;try{Oh(e)}catch(c){ke(e,i,c)}break;case 5:var o=e.return;try{Oh(e)}catch(c){ke(e,o,c)}}}catch(c){ke(e,e.return,c)}if(e===t){q=null;break}var u=e.sibling;if(u!==null){u.return=e.return,q=u;break}q=e.return}}var K2=Math.ceil,pu=Xn.ReactCurrentDispatcher,im=Xn.ReactCurrentOwner,Ht=Xn.ReactCurrentBatchConfig,ae=0,Qe=null,Le=null,et=0,Ct=0,Gs=$r(0),ze=0,ta=null,fs=0,ec=0,om=0,Ro=null,Et=null,am=0,gi=1/0,jn=null,gu=!1,Mh=null,Tr=null,hl=!1,gr=null,yu=0,Po=0,Fh=null,jl=-1,Dl=0;function vt(){return ae&6?je():jl!==-1?jl:jl=je()}function Ir(t){return t.mode&1?ae&2&&et!==0?et&-et:k2.transition!==null?(Dl===0&&(Dl=__()),Dl):(t=de,t!==0||(t=window.event,t=t===void 0?16:N_(t.type)),t):1}function tn(t,e,n,r){if(50<Po)throw Po=0,Fh=null,Error(U(185));va(t,n,r),(!(ae&2)||t!==Qe)&&(t===Qe&&(!(ae&2)&&(ec|=n),ze===4&&cr(t,et)),bt(t,r),n===1&&ae===0&&!(e.mode&1)&&(gi=je()+500,Yu&&zr()))}function bt(t,e){var n=t.callbackNode;kI(t,e);var r=eu(t,t===Qe?et:0);if(r===0)n!==null&&jg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&jg(n),e===1)t.tag===0?C2(Sy.bind(null,t)):q_(Sy.bind(null,t)),S2(function(){!(ae&6)&&zr()}),n=null;else{switch(x_(r)){case 1:n=jf;break;case 4:n=y_;break;case 16:n=Zl;break;case 536870912:n=v_;break;default:n=Zl}n=Bx(n,Lx.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Lx(t,e){if(jl=-1,Dl=0,ae&6)throw Error(U(327));var n=t.callbackNode;if(ni()&&t.callbackNode!==n)return null;var r=eu(t,t===Qe?et:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=vu(t,r);else{e=r;var s=ae;ae|=2;var i=Mx();(Qe!==t||et!==e)&&(jn=null,gi=je()+500,as(t,e));do try{Y2();break}catch(u){Vx(t,u)}while(!0);Wf(),pu.current=i,ae=s,Le!==null?e=0:(Qe=null,et=0,e=ze)}if(e!==0){if(e===2&&(s=hh(t),s!==0&&(r=s,e=Uh(t,s))),e===1)throw n=ta,as(t,0),cr(t,r),bt(t,je()),n;if(e===6)cr(t,r);else{if(s=t.current.alternate,!(r&30)&&!G2(s)&&(e=vu(t,r),e===2&&(i=hh(t),i!==0&&(r=i,e=Uh(t,i))),e===1))throw n=ta,as(t,0),cr(t,r),bt(t,je()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:es(t,Et,jn);break;case 3:if(cr(t,r),(r&130023424)===r&&(e=am+500-je(),10<e)){if(eu(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){vt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=xh(es.bind(null,t,Et,jn),e);break}es(t,Et,jn);break;case 4:if(cr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-en(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*K2(r/1960))-r,10<r){t.timeoutHandle=xh(es.bind(null,t,Et,jn),r);break}es(t,Et,jn);break;case 5:es(t,Et,jn);break;default:throw Error(U(329))}}}return bt(t,je()),t.callbackNode===n?Lx.bind(null,t):null}function Uh(t,e){var n=Ro;return t.current.memoizedState.isDehydrated&&(as(t,e).flags|=256),t=vu(t,e),t!==2&&(e=Et,Et=n,e!==null&&$h(e)),t}function $h(t){Et===null?Et=t:Et.push.apply(Et,t)}function G2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!rn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function cr(t,e){for(e&=~om,e&=~ec,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-en(e),r=1<<n;t[n]=-1,e&=~r}}function Sy(t){if(ae&6)throw Error(U(327));ni();var e=eu(t,0);if(!(e&1))return bt(t,je()),null;var n=vu(t,e);if(t.tag!==0&&n===2){var r=hh(t);r!==0&&(e=r,n=Uh(t,r))}if(n===1)throw n=ta,as(t,0),cr(t,e),bt(t,je()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,es(t,Et,jn),bt(t,je()),null}function lm(t,e){var n=ae;ae|=1;try{return t(e)}finally{ae=n,ae===0&&(gi=je()+500,Yu&&zr())}}function ms(t){gr!==null&&gr.tag===0&&!(ae&6)&&ni();var e=ae;ae|=1;var n=Ht.transition,r=de;try{if(Ht.transition=null,de=1,t)return t()}finally{de=r,Ht.transition=n,ae=e,!(ae&6)&&zr()}}function um(){Ct=Gs.current,xe(Gs)}function as(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,I2(n)),Le!==null)for(n=Le.return;n!==null;){var r=n;switch(Bf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&iu();break;case 3:mi(),xe(St),xe(ft),Xf();break;case 5:Jf(r);break;case 4:mi();break;case 13:xe(Ie);break;case 19:xe(Ie);break;case 10:Kf(r.type._context);break;case 22:case 23:um()}n=n.return}if(Qe=t,Le=t=Sr(t.current,null),et=Ct=e,ze=0,ta=null,om=ec=fs=0,Et=Ro=null,rs!==null){for(e=0;e<rs.length;e++)if(n=rs[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}rs=null}return t}function Vx(t,e){do{var n=Le;try{if(Wf(),kl.current=mu,fu){for(var r=Se.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}fu=!1}if(hs=0,Ke=$e=Se=null,Co=!1,Xo=0,im.current=null,n===null||n.return===null){ze=1,ta=e,Le=null;break}e:{var i=t,o=n.return,u=n,c=e;if(e=et,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,f=u,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var T=hy(o);if(T!==null){T.flags&=-257,fy(T,o,u,i,e),T.mode&1&&dy(i,d,e),e=T,c=d;var b=e.updateQueue;if(b===null){var C=new Set;C.add(c),e.updateQueue=C}else b.add(c);break e}else{if(!(e&1)){dy(i,d,e),cm();break e}c=Error(U(426))}}else if(we&&u.mode&1){var k=hy(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),fy(k,o,u,i,e),Hf(pi(c,u));break e}}i=c=pi(c,u),ze!==4&&(ze=2),Ro===null?Ro=[i]:Ro.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var E=xx(i,c,e);iy(i,E);break e;case 1:u=c;var y=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Tr===null||!Tr.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var D=wx(i,u,e);iy(i,D);break e}}i=i.return}while(i!==null)}Ux(n)}catch(L){e=L,Le===n&&n!==null&&(Le=n=n.return);continue}break}while(!0)}function Mx(){var t=pu.current;return pu.current=mu,t===null?mu:t}function cm(){(ze===0||ze===3||ze===2)&&(ze=4),Qe===null||!(fs&268435455)&&!(ec&268435455)||cr(Qe,et)}function vu(t,e){var n=ae;ae|=2;var r=Mx();(Qe!==t||et!==e)&&(jn=null,as(t,e));do try{Q2();break}catch(s){Vx(t,s)}while(!0);if(Wf(),ae=n,pu.current=r,Le!==null)throw Error(U(261));return Qe=null,et=0,ze}function Q2(){for(;Le!==null;)Fx(Le)}function Y2(){for(;Le!==null&&!wI();)Fx(Le)}function Fx(t){var e=zx(t.alternate,t,Ct);t.memoizedProps=t.pendingProps,e===null?Ux(t):Le=e,im.current=null}function Ux(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=B2(n,e),n!==null){n.flags&=32767,Le=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ze=6,Le=null;return}}else if(n=z2(n,e,Ct),n!==null){Le=n;return}if(e=e.sibling,e!==null){Le=e;return}Le=e=t}while(e!==null);ze===0&&(ze=5)}function es(t,e,n){var r=de,s=Ht.transition;try{Ht.transition=null,de=1,J2(t,e,n,r)}finally{Ht.transition=s,de=r}return null}function J2(t,e,n,r){do ni();while(gr!==null);if(ae&6)throw Error(U(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(RI(t,i),t===Qe&&(Le=Qe=null,et=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hl||(hl=!0,Bx(Zl,function(){return ni(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ht.transition,Ht.transition=null;var o=de;de=1;var u=ae;ae|=4,im.current=null,q2(t,n),Dx(n,t),y2(vh),tu=!!yh,vh=yh=null,t.current=n,W2(n),EI(),ae=u,de=o,Ht.transition=i}else t.current=n;if(hl&&(hl=!1,gr=t,yu=s),i=t.pendingLanes,i===0&&(Tr=null),SI(n.stateNode),bt(t,je()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(gu)throw gu=!1,t=Mh,Mh=null,t;return yu&1&&t.tag!==0&&ni(),i=t.pendingLanes,i&1?t===Fh?Po++:(Po=0,Fh=t):Po=0,zr(),null}function ni(){if(gr!==null){var t=x_(yu),e=Ht.transition,n=de;try{if(Ht.transition=null,de=16>t?16:t,gr===null)var r=!1;else{if(t=gr,gr=null,yu=0,ae&6)throw Error(U(331));var s=ae;for(ae|=4,q=t.current;q!==null;){var i=q,o=i.child;if(q.flags&16){var u=i.deletions;if(u!==null){for(var c=0;c<u.length;c++){var d=u[c];for(q=d;q!==null;){var f=q;switch(f.tag){case 0:case 11:case 15:ko(8,f,i)}var m=f.child;if(m!==null)m.return=f,q=m;else for(;q!==null;){f=q;var g=f.sibling,T=f.return;if(Rx(f),f===d){q=null;break}if(g!==null){g.return=T,q=g;break}q=T}}}var b=i.alternate;if(b!==null){var C=b.child;if(C!==null){b.child=null;do{var k=C.sibling;C.sibling=null,C=k}while(C!==null)}}q=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,q=o;else e:for(;q!==null;){if(i=q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ko(9,i,i.return)}var E=i.sibling;if(E!==null){E.return=i.return,q=E;break e}q=i.return}}var y=t.current;for(q=y;q!==null;){o=q;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,q=w;else e:for(o=y;q!==null;){if(u=q,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Zu(9,u)}}catch(L){ke(u,u.return,L)}if(u===o){q=null;break e}var D=u.sibling;if(D!==null){D.return=u.return,q=D;break e}q=u.return}}if(ae=s,zr(),yn&&typeof yn.onPostCommitFiberRoot=="function")try{yn.onPostCommitFiberRoot(qu,t)}catch{}r=!0}return r}finally{de=n,Ht.transition=e}}return!1}function Ny(t,e,n){e=pi(n,e),e=xx(t,e,1),t=Er(t,e,1),e=vt(),t!==null&&(va(t,1,e),bt(t,e))}function ke(t,e,n){if(t.tag===3)Ny(t,t,n);else for(;e!==null;){if(e.tag===3){Ny(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Tr===null||!Tr.has(r))){t=pi(n,t),t=wx(e,t,1),e=Er(e,t,1),t=vt(),e!==null&&(va(e,1,t),bt(e,t));break}}e=e.return}}function X2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=vt(),t.pingedLanes|=t.suspendedLanes&n,Qe===t&&(et&n)===n&&(ze===4||ze===3&&(et&130023424)===et&&500>je()-am?as(t,0):om|=n),bt(t,e)}function $x(t,e){e===0&&(t.mode&1?(e=nl,nl<<=1,!(nl&130023424)&&(nl=4194304)):e=1);var n=vt();t=qn(t,e),t!==null&&(va(t,e,n),bt(t,n))}function Z2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),$x(t,n)}function eS(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),$x(t,n)}var zx;zx=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||St.current)It=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return It=!1,$2(t,e,n);It=!!(t.flags&131072)}else It=!1,we&&e.flags&1048576&&W_(e,lu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Pl(t,e),t=e.pendingProps;var s=di(e,ft.current);ti(e,n),s=em(null,e,r,t,s,n);var i=tm();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Nt(r)?(i=!0,ou(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Qf(e),s.updater=Xu,e.stateNode=s,s._reactInternals=e,bh(e,r,t,n),e=kh(null,e,r,!0,i,n)):(e.tag=0,we&&i&&zf(e),yt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Pl(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=nS(r),t=Gt(r,t),s){case 0:e=Ch(null,e,r,t,n);break e;case 1:e=gy(null,e,r,t,n);break e;case 11:e=my(null,e,r,t,n);break e;case 14:e=py(null,e,r,Gt(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Gt(r,s),Ch(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Gt(r,s),gy(t,e,r,s,n);case 3:e:{if(Sx(e),t===null)throw Error(U(387));r=e.pendingProps,i=e.memoizedState,s=i.element,X_(t,e),du(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=pi(Error(U(423)),e),e=yy(t,e,r,n,s);break e}else if(r!==s){s=pi(Error(U(424)),e),e=yy(t,e,r,n,s);break e}else for(kt=wr(e.stateNode.containerInfo.firstChild),Pt=e,we=!0,Yt=null,n=Y_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(hi(),r===s){e=Wn(t,e,n);break e}yt(t,e,r,n)}e=e.child}return e;case 5:return Z_(e),t===null&&Ih(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,_h(r,s)?o=null:i!==null&&_h(r,i)&&(e.flags|=32),Ix(t,e),yt(t,e,o,n),e.child;case 6:return t===null&&Ih(e),null;case 13:return Nx(t,e,n);case 4:return Yf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=fi(e,null,r,n):yt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Gt(r,s),my(t,e,r,s,n);case 7:return yt(t,e,e.pendingProps,n),e.child;case 8:return yt(t,e,e.pendingProps.children,n),e.child;case 12:return yt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,pe(uu,r._currentValue),r._currentValue=o,i!==null)if(rn(i.value,o)){if(i.children===s.children&&!St.current){e=Wn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var u=i.dependencies;if(u!==null){o=i.child;for(var c=u.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Un(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?c.next=c:(c.next=f.next,f.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Sh(i.return,n,e),u.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(U(341));o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),Sh(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}yt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,ti(e,n),s=qt(s),r=r(s),e.flags|=1,yt(t,e,r,n),e.child;case 14:return r=e.type,s=Gt(r,e.pendingProps),s=Gt(r.type,s),py(t,e,r,s,n);case 15:return Ex(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Gt(r,s),Pl(t,e),e.tag=1,Nt(r)?(t=!0,ou(e)):t=!1,ti(e,n),_x(e,r,s),bh(e,r,s,n),kh(null,e,r,!0,t,n);case 19:return bx(t,e,n);case 22:return Tx(t,e,n)}throw Error(U(156,e.tag))};function Bx(t,e){return g_(t,e)}function tS(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bt(t,e,n,r){return new tS(t,e,n,r)}function dm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function nS(t){if(typeof t=="function")return dm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===kf)return 11;if(t===Rf)return 14}return 2}function Sr(t,e){var n=t.alternate;return n===null?(n=Bt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ol(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")dm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ms:return ls(n.children,s,i,e);case Cf:o=8,s|=8;break;case Jd:return t=Bt(12,n,e,s|2),t.elementType=Jd,t.lanes=i,t;case Xd:return t=Bt(13,n,e,s),t.elementType=Xd,t.lanes=i,t;case Zd:return t=Bt(19,n,e,s),t.elementType=Zd,t.lanes=i,t;case Z0:return tc(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case J0:o=10;break e;case X0:o=9;break e;case kf:o=11;break e;case Rf:o=14;break e;case ar:o=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=Bt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ls(t,e,n,r){return t=Bt(7,t,r,e),t.lanes=n,t}function tc(t,e,n,r){return t=Bt(22,t,r,e),t.elementType=Z0,t.lanes=n,t.stateNode={isHidden:!1},t}function Nd(t,e,n){return t=Bt(6,t,null,e),t.lanes=n,t}function bd(t,e,n){return e=Bt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function rS(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ad(0),this.expirationTimes=ad(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ad(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function hm(t,e,n,r,s,i,o,u,c){return t=new rS(t,e,n,u,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Bt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qf(i),t}function sS(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Hx(t){if(!t)return Pr;t=t._reactInternals;e:{if(ws(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Nt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(Nt(n))return H_(t,n,e)}return e}function qx(t,e,n,r,s,i,o,u,c){return t=hm(n,r,!0,t,s,i,o,u,c),t.context=Hx(null),n=t.current,r=vt(),s=Ir(n),i=Un(r,s),i.callback=e??null,Er(n,i,s),t.current.lanes=s,va(t,s,r),bt(t,r),t}function nc(t,e,n,r){var s=e.current,i=vt(),o=Ir(s);return n=Hx(n),e.context===null?e.context=n:e.pendingContext=n,e=Un(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Er(s,e,o),t!==null&&(tn(t,s,o,i),Cl(t,s,o)),o}function _u(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function by(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function fm(t,e){by(t,e),(t=t.alternate)&&by(t,e)}function iS(){return null}var Wx=typeof reportError=="function"?reportError:function(t){console.error(t)};function mm(t){this._internalRoot=t}rc.prototype.render=mm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));nc(t,e,null,null)};rc.prototype.unmount=mm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ms(function(){nc(null,t,null,null)}),e[Hn]=null}};function rc(t){this._internalRoot=t}rc.prototype.unstable_scheduleHydration=function(t){if(t){var e=T_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ur.length&&e!==0&&e<ur[n].priority;n++);ur.splice(n,0,t),n===0&&S_(t)}};function pm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function sc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ay(){}function oS(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=_u(o);i.call(d)}}var o=qx(e,r,t,0,null,!1,!1,"",Ay);return t._reactRootContainer=o,t[Hn]=o.current,Ko(t.nodeType===8?t.parentNode:t),ms(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var u=r;r=function(){var d=_u(c);u.call(d)}}var c=hm(t,0,!1,null,null,!1,!1,"",Ay);return t._reactRootContainer=c,t[Hn]=c.current,Ko(t.nodeType===8?t.parentNode:t),ms(function(){nc(e,c,n,r)}),c}function ic(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var u=s;s=function(){var c=_u(o);u.call(c)}}nc(e,o,t,s)}else o=oS(n,e,t,s,r);return _u(o)}w_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=go(e.pendingLanes);n!==0&&(Df(e,n|1),bt(e,je()),!(ae&6)&&(gi=je()+500,zr()))}break;case 13:ms(function(){var r=qn(t,1);if(r!==null){var s=vt();tn(r,t,1,s)}}),fm(t,1)}};Of=function(t){if(t.tag===13){var e=qn(t,134217728);if(e!==null){var n=vt();tn(e,t,134217728,n)}fm(t,134217728)}};E_=function(t){if(t.tag===13){var e=Ir(t),n=qn(t,e);if(n!==null){var r=vt();tn(n,t,e,r)}fm(t,e)}};T_=function(){return de};I_=function(t,e){var n=de;try{return de=t,e()}finally{de=n}};uh=function(t,e,n){switch(e){case"input":if(nh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Qu(r);if(!s)throw Error(U(90));t_(r),nh(r,s)}}}break;case"textarea":r_(t,n);break;case"select":e=n.value,e!=null&&Js(t,!!n.multiple,e,!1)}};c_=lm;d_=ms;var aS={usingClientEntryPoint:!1,Events:[xa,zs,Qu,l_,u_,lm]},uo={findFiberByHostInstance:ns,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lS={bundleType:uo.bundleType,version:uo.version,rendererPackageName:uo.rendererPackageName,rendererConfig:uo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=m_(t),t===null?null:t.stateNode},findFiberByHostInstance:uo.findFiberByHostInstance||iS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fl.isDisabled&&fl.supportsFiber)try{qu=fl.inject(lS),yn=fl}catch{}}Dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aS;Dt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pm(e))throw Error(U(200));return sS(t,e,null,n)};Dt.createRoot=function(t,e){if(!pm(t))throw Error(U(299));var n=!1,r="",s=Wx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=hm(t,1,!1,null,null,n,!1,r,s),t[Hn]=e.current,Ko(t.nodeType===8?t.parentNode:t),new mm(e)};Dt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=m_(e),t=t===null?null:t.stateNode,t};Dt.flushSync=function(t){return ms(t)};Dt.hydrate=function(t,e,n){if(!sc(e))throw Error(U(200));return ic(null,t,e,!0,n)};Dt.hydrateRoot=function(t,e,n){if(!pm(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Wx;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=qx(e,null,t,1,n??null,s,!1,i,o),t[Hn]=e.current,Ko(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new rc(e)};Dt.render=function(t,e,n){if(!sc(e))throw Error(U(200));return ic(null,t,e,!1,n)};Dt.unmountComponentAtNode=function(t){if(!sc(t))throw Error(U(40));return t._reactRootContainer?(ms(function(){ic(null,null,t,!1,function(){t._reactRootContainer=null,t[Hn]=null})}),!0):!1};Dt.unstable_batchedUpdates=lm;Dt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!sc(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return ic(t,e,n,!1,r)};Dt.version="18.3.1-next-f1338f8080-20240426";function Kx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Kx)}catch(t){console.error(t)}}Kx(),K0.exports=Dt;var uS=K0.exports,Gx,Cy=uS;Gx=Cy.createRoot,Cy.hydrateRoot;/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ky="popstate";function cS(t={}){function e(r,s){let{pathname:i,search:o,hash:u}=r.location;return zh("",{pathname:i,search:o,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:na(s)}return hS(e,n,null,t)}function Ee(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function sn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dS(){return Math.random().toString(36).substring(2,10)}function Ry(t,e){return{usr:t.state,key:t.key,idx:e}}function zh(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ai(e):e,state:n,key:e&&e.key||r||dS()}}function na({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ai(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function hS(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,u="POP",c=null,d=f();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function f(){return(o.state||{idx:null}).idx}function m(){u="POP";let k=f(),E=k==null?null:k-d;d=k,c&&c({action:u,location:C.location,delta:E})}function g(k,E){u="PUSH";let y=zh(C.location,k,E);d=f()+1;let w=Ry(y,d),D=C.createHref(y);try{o.pushState(w,"",D)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;s.location.assign(D)}i&&c&&c({action:u,location:C.location,delta:1})}function T(k,E){u="REPLACE";let y=zh(C.location,k,E);d=f();let w=Ry(y,d),D=C.createHref(y);o.replaceState(w,"",D),i&&c&&c({action:u,location:C.location,delta:0})}function b(k){return fS(k)}let C={get action(){return u},get location(){return t(s,o)},listen(k){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(ky,m),c=k,()=>{s.removeEventListener(ky,m),c=null}},createHref(k){return e(s,k)},createURL:b,encodeLocation(k){let E=b(k);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:g,replace:T,go(k){return o.go(k)}};return C}function fS(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ee(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:na(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Qx(t,e,n="/"){return mS(t,e,n,!1)}function mS(t,e,n,r){let s=typeof e=="string"?Ai(e):e,i=Kn(s.pathname||"/",n);if(i==null)return null;let o=Yx(t);pS(o);let u=null;for(let c=0;u==null&&c<o.length;++c){let d=NS(i);u=IS(o[c],d,r)}return u}function Yx(t,e=[],n=[],r="",s=!1){let i=(o,u,c=s,d)=>{let f={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(r)&&c)return;Ee(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length)}let m=$n([r,f.relativePath]),g=n.concat(f);o.children&&o.children.length>0&&(Ee(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Yx(o.children,e,g,m,c)),!(o.path==null&&!o.index)&&e.push({path:m,score:ES(m,o.index),routesMeta:g})};return t.forEach((o,u)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,u);else for(let d of Jx(o.path))i(o,u,!0,d)}),e}function Jx(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Jx(r.join("/")),u=[];return u.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&u.push(...o),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function pS(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:TS(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var gS=/^:[\w-]+$/,yS=3,vS=2,_S=1,xS=10,wS=-2,Py=t=>t==="*";function ES(t,e){let n=t.split("/"),r=n.length;return n.some(Py)&&(r+=wS),e&&(r+=vS),n.filter(s=>!Py(s)).reduce((s,i)=>s+(gS.test(i)?yS:i===""?_S:xS),r)}function TS(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function IS(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",o=[];for(let u=0;u<r.length;++u){let c=r[u],d=u===r.length-1,f=i==="/"?e:e.slice(i.length)||"/",m=xu({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},f),g=c.route;if(!m&&d&&n&&!r[r.length-1].route.index&&(m=xu({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!m)return null;Object.assign(s,m.params),o.push({params:s,pathname:$n([i,m.pathname]),pathnameBase:kS($n([i,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(i=$n([i,m.pathnameBase]))}return o}function xu(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=SS(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((d,{paramName:f,isOptional:m},g)=>{if(f==="*"){let b=u[g]||"";o=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const T=u[g];return m&&!T?d[f]=void 0:d[f]=(T||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function SS(t,e=!1,n=!0){sn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function NS(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return sn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Kn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function bS(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Ai(t):t;return{pathname:n?n.startsWith("/")?n:AS(n,e):e,search:RS(r),hash:PS(s)}}function AS(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ad(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function CS(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function gm(t){let e=CS(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function ym(t,e,n,r=!1){let s;typeof t=="string"?s=Ai(t):(s={...t},Ee(!s.pathname||!s.pathname.includes("?"),Ad("?","pathname","search",s)),Ee(!s.pathname||!s.pathname.includes("#"),Ad("#","pathname","hash",s)),Ee(!s.search||!s.search.includes("#"),Ad("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,u;if(o==null)u=n;else{let m=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),m-=1;s.pathname=g.join("/")}u=m>=0?e[m]:"/"}let c=bS(s,u),d=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||f)&&(c.pathname+="/"),c}var $n=t=>t.join("/").replace(/\/\/+/g,"/"),kS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),RS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,PS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function jS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Xx=["POST","PUT","PATCH","DELETE"];new Set(Xx);var DS=["GET",...Xx];new Set(DS);var Ci=R.createContext(null);Ci.displayName="DataRouter";var oc=R.createContext(null);oc.displayName="DataRouterState";R.createContext(!1);var Zx=R.createContext({isTransitioning:!1});Zx.displayName="ViewTransition";var OS=R.createContext(new Map);OS.displayName="Fetchers";var LS=R.createContext(null);LS.displayName="Await";var ln=R.createContext(null);ln.displayName="Navigation";var Ea=R.createContext(null);Ea.displayName="Location";var un=R.createContext({outlet:null,matches:[],isDataRoute:!1});un.displayName="Route";var vm=R.createContext(null);vm.displayName="RouteError";function VS(t,{relative:e}={}){Ee(ki(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=R.useContext(ln),{hash:s,pathname:i,search:o}=Ta(t,{relative:e}),u=i;return n!=="/"&&(u=i==="/"?n:$n([n,i])),r.createHref({pathname:u,search:o,hash:s})}function ki(){return R.useContext(Ea)!=null}function cn(){return Ee(ki(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(Ea).location}var ew="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function tw(t){R.useContext(ln).static||R.useLayoutEffect(t)}function ac(){let{isDataRoute:t}=R.useContext(un);return t?JS():MS()}function MS(){Ee(ki(),"useNavigate() may be used only in the context of a <Router> component.");let t=R.useContext(Ci),{basename:e,navigator:n}=R.useContext(ln),{matches:r}=R.useContext(un),{pathname:s}=cn(),i=JSON.stringify(gm(r)),o=R.useRef(!1);return tw(()=>{o.current=!0}),R.useCallback((c,d={})=>{if(sn(o.current,ew),!o.current)return;if(typeof c=="number"){n.go(c);return}let f=ym(c,JSON.parse(i),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:$n([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,i,s,t])}R.createContext(null);function FS(){let{matches:t}=R.useContext(un),e=t[t.length-1];return e?e.params:{}}function Ta(t,{relative:e}={}){let{matches:n}=R.useContext(un),{pathname:r}=cn(),s=JSON.stringify(gm(n));return R.useMemo(()=>ym(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function US(t,e){return nw(t,e)}function nw(t,e,n,r,s){var y;Ee(ki(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=R.useContext(ln),{matches:o}=R.useContext(un),u=o[o.length-1],c=u?u.params:{},d=u?u.pathname:"/",f=u?u.pathnameBase:"/",m=u&&u.route;{let w=m&&m.path||"";rw(d,!m||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let g=cn(),T;if(e){let w=typeof e=="string"?Ai(e):e;Ee(f==="/"||((y=w.pathname)==null?void 0:y.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${w.pathname}" was given in the \`location\` prop.`),T=w}else T=g;let b=T.pathname||"/",C=b;if(f!=="/"){let w=f.replace(/^\//,"").split("/");C="/"+b.replace(/^\//,"").split("/").slice(w.length).join("/")}let k=Qx(t,{pathname:C});sn(m||k!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),sn(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=qS(k&&k.map(w=>Object.assign({},w,{params:Object.assign({},c,w.params),pathname:$n([f,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?f:$n([f,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,r,s);return e&&E?R.createElement(Ea.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},E):E}function $S(){let t=YS(),e=jS(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=R.createElement(R.Fragment,null,R.createElement("p",null,"💿 Hey developer 👋"),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:i},"ErrorBoundary")," or"," ",R.createElement("code",{style:i},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:s},n):null,o)}var zS=R.createElement($S,null),BS=class extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?R.createElement(un.Provider,{value:this.props.routeContext},R.createElement(vm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function HS({routeContext:t,match:e,children:n}){let r=R.useContext(Ci);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(un.Provider,{value:t},n)}function qS(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let d=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);Ee(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let u=!1,c=-1;if(n)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:m,errors:g}=n,T=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||T){u=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,f,m)=>{let g,T=!1,b=null,C=null;n&&(g=o&&f.route.id?o[f.route.id]:void 0,b=f.route.errorElement||zS,u&&(c<0&&m===0?(rw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,C=null):c===m&&(T=!0,C=f.route.hydrateFallbackElement||null)));let k=e.concat(i.slice(0,m+1)),E=()=>{let y;return g?y=b:T?y=C:f.route.Component?y=R.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=d,R.createElement(HS,{match:f,routeContext:{outlet:d,matches:k,isDataRoute:n!=null},children:y})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?R.createElement(BS,{location:n.location,revalidation:n.revalidation,component:b,error:g,children:E(),routeContext:{outlet:null,matches:k,isDataRoute:!0},unstable_onError:r}):E()},null)}function _m(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WS(t){let e=R.useContext(Ci);return Ee(e,_m(t)),e}function KS(t){let e=R.useContext(oc);return Ee(e,_m(t)),e}function GS(t){let e=R.useContext(un);return Ee(e,_m(t)),e}function xm(t){let e=GS(t),n=e.matches[e.matches.length-1];return Ee(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function QS(){return xm("useRouteId")}function YS(){var r;let t=R.useContext(vm),e=KS("useRouteError"),n=xm("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function JS(){let{router:t}=WS("useNavigate"),e=xm("useNavigate"),n=R.useRef(!1);return tw(()=>{n.current=!0}),R.useCallback(async(s,i={})=>{sn(n.current,ew),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var jy={};function rw(t,e,n){!e&&!jy[t]&&(jy[t]=!0,sn(!1,n))}R.memo(XS);function XS({routes:t,future:e,state:n,unstable_onError:r}){return nw(t,void 0,n,r,e)}function sw({to:t,replace:e,state:n,relative:r}){Ee(ki(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=R.useContext(ln);sn(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=R.useContext(un),{pathname:o}=cn(),u=ac(),c=ym(t,gm(i),o,r==="path"),d=JSON.stringify(c);return R.useEffect(()=>{u(JSON.parse(d),{replace:e,state:n,relative:r})},[u,d,r,e,n]),null}function Ue(t){Ee(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ZS({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){Ee(!ki(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),u=R.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof n=="string"&&(n=Ai(n));let{pathname:c="/",search:d="",hash:f="",state:m=null,key:g="default"}=n,T=R.useMemo(()=>{let b=Kn(c,o);return b==null?null:{location:{pathname:b,search:d,hash:f,state:m,key:g},navigationType:r}},[o,c,d,f,m,g,r]);return sn(T!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:R.createElement(ln.Provider,{value:u},R.createElement(Ea.Provider,{children:e,value:T}))}function eN({children:t,location:e}){return US(Bh(t),e)}function Bh(t,e=[]){let n=[];return R.Children.forEach(t,(r,s)=>{if(!R.isValidElement(r))return;let i=[...e,s];if(r.type===R.Fragment){n.push.apply(n,Bh(r.props.children,i));return}Ee(r.type===Ue,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ee(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Bh(r.props.children,i)),n.push(o)}),n}var Ll="get",Vl="application/x-www-form-urlencoded";function lc(t){return t!=null&&typeof t.tagName=="string"}function tN(t){return lc(t)&&t.tagName.toLowerCase()==="button"}function nN(t){return lc(t)&&t.tagName.toLowerCase()==="form"}function rN(t){return lc(t)&&t.tagName.toLowerCase()==="input"}function sN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function iN(t,e){return t.button===0&&(!e||e==="_self")&&!sN(t)}var ml=null;function oN(){if(ml===null)try{new FormData(document.createElement("form"),0),ml=!1}catch{ml=!0}return ml}var aN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cd(t){return t!=null&&!aN.has(t)?(sn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vl}"`),null):t}function lN(t,e){let n,r,s,i,o;if(nN(t)){let u=t.getAttribute("action");r=u?Kn(u,e):null,n=t.getAttribute("method")||Ll,s=Cd(t.getAttribute("enctype"))||Vl,i=new FormData(t)}else if(tN(t)||rN(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||u.getAttribute("action");if(r=c?Kn(c,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||Ll,s=Cd(t.getAttribute("formenctype"))||Cd(u.getAttribute("enctype"))||Vl,i=new FormData(u,t),!oN()){let{name:d,type:f,value:m}=t;if(f==="image"){let g=d?`${d}.`:"";i.append(`${g}x`,"0"),i.append(`${g}y`,"0")}else d&&i.append(d,m)}}else{if(lc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ll,r=null,s=Vl,o=t}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function wm(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function uN(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Kn(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function cN(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function hN(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let o=await cN(i,n);return o.links?o.links():[]}return[]}));return gN(r.flat(1).filter(dN).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Dy(t,e,n,r,s,i){let o=(c,d)=>n[d]?c.route.id!==n[d].route.id:!0,u=(c,d)=>{var f;return n[d].pathname!==c.pathname||((f=n[d].route.path)==null?void 0:f.endsWith("*"))&&n[d].params["*"]!==c.params["*"]};return i==="assets"?e.filter((c,d)=>o(c,d)||u(c,d)):i==="data"?e.filter((c,d)=>{var m;let f=r.routes[c.route.id];if(!f||!f.hasLoader)return!1;if(o(c,d)||u(c,d))return!0;if(c.route.shouldRevalidate){let g=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function fN(t,e,{includeHydrateFallback:n}={}){return mN(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function mN(t){return[...new Set(t)]}function pN(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function gN(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(pN(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function iw(){let t=R.useContext(Ci);return wm(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function yN(){let t=R.useContext(oc);return wm(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Em=R.createContext(void 0);Em.displayName="FrameworkContext";function ow(){let t=R.useContext(Em);return wm(t,"You must render this element inside a <HydratedRouter> element"),t}function vN(t,e){let n=R.useContext(Em),[r,s]=R.useState(!1),[i,o]=R.useState(!1),{onFocus:u,onBlur:c,onMouseEnter:d,onMouseLeave:f,onTouchStart:m}=e,g=R.useRef(null);R.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let C=E=>{E.forEach(y=>{o(y.isIntersecting)})},k=new IntersectionObserver(C,{threshold:.5});return g.current&&k.observe(g.current),()=>{k.disconnect()}}},[t]),R.useEffect(()=>{if(r){let C=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(C)}}},[r]);let T=()=>{s(!0)},b=()=>{s(!1),o(!1)};return n?t!=="intent"?[i,g,{}]:[i,g,{onFocus:co(u,T),onBlur:co(c,b),onMouseEnter:co(d,T),onMouseLeave:co(f,b),onTouchStart:co(m,T)}]:[!1,g,{}]}function co(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function _N({page:t,...e}){let{router:n}=iw(),r=R.useMemo(()=>Qx(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?R.createElement(wN,{page:t,matches:r,...e}):null}function xN(t){let{manifest:e,routeModules:n}=ow(),[r,s]=R.useState([]);return R.useEffect(()=>{let i=!1;return hN(t,e,n).then(o=>{i||s(o)}),()=>{i=!0}},[t,e,n]),r}function wN({page:t,matches:e,...n}){let r=cn(),{manifest:s,routeModules:i}=ow(),{basename:o}=iw(),{loaderData:u,matches:c}=yN(),d=R.useMemo(()=>Dy(t,e,c,s,r,"data"),[t,e,c,s,r]),f=R.useMemo(()=>Dy(t,e,c,s,r,"assets"),[t,e,c,s,r]),m=R.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let b=new Set,C=!1;if(e.forEach(E=>{var w;let y=s.routes[E.route.id];!y||!y.hasLoader||(!d.some(D=>D.route.id===E.route.id)&&E.route.id in u&&((w=i[E.route.id])!=null&&w.shouldRevalidate)||y.hasClientLoader?C=!0:b.add(E.route.id))}),b.size===0)return[];let k=uN(t,o,"data");return C&&b.size>0&&k.searchParams.set("_routes",e.filter(E=>b.has(E.route.id)).map(E=>E.route.id).join(",")),[k.pathname+k.search]},[o,u,r,s,d,e,t,i]),g=R.useMemo(()=>fN(f,s),[f,s]),T=xN(f);return R.createElement(R.Fragment,null,m.map(b=>R.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),g.map(b=>R.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),T.map(({key:b,link:C})=>R.createElement("link",{key:b,nonce:n.nonce,...C})))}function EN(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var aw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{aw&&(window.__reactRouterVersion="7.8.2")}catch{}function TN({basename:t,children:e,window:n}){let r=R.useRef();r.current==null&&(r.current=cS({window:n,v5Compat:!0}));let s=r.current,[i,o]=R.useState({action:s.action,location:s.location}),u=R.useCallback(c=>{R.startTransition(()=>o(c))},[o]);return R.useLayoutEffect(()=>s.listen(u),[s,u]),R.createElement(ZS,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var lw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oe=R.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:o,state:u,target:c,to:d,preventScrollReset:f,viewTransition:m,...g},T){let{basename:b}=R.useContext(ln),C=typeof d=="string"&&lw.test(d),k,E=!1;if(typeof d=="string"&&C&&(k=d,aw))try{let I=new URL(window.location.href),N=d.startsWith("//")?new URL(I.protocol+d):new URL(d),A=Kn(N.pathname,b);N.origin===I.origin&&A!=null?d=A+N.search+N.hash:E=!0}catch{sn(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=VS(d,{relative:s}),[w,D,L]=vN(r,g),F=NN(d,{replace:o,state:u,target:c,preventScrollReset:f,relative:s,viewTransition:m});function x(I){e&&e(I),I.defaultPrevented||F(I)}let v=R.createElement("a",{...g,...L,href:k||y,onClick:E||i?e:x,ref:EN(T,D),target:c,"data-discover":!C&&n==="render"?"true":void 0});return w&&!C?R.createElement(R.Fragment,null,v,R.createElement(_N,{page:y})):v});oe.displayName="Link";var lt=R.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:u,children:c,...d},f){let m=Ta(o,{relative:d.relative}),g=cn(),T=R.useContext(oc),{navigator:b,basename:C}=R.useContext(ln),k=T!=null&&RN(m)&&u===!0,E=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,y=g.pathname,w=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||(y=y.toLowerCase(),w=w?w.toLowerCase():null,E=E.toLowerCase()),w&&C&&(w=Kn(w,C)||w);const D=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let L=y===E||!s&&y.startsWith(E)&&y.charAt(D)==="/",F=w!=null&&(w===E||!s&&w.startsWith(E)&&w.charAt(E.length)==="/"),x={isActive:L,isPending:F,isTransitioning:k},v=L?e:void 0,I;typeof r=="function"?I=r(x):I=[r,L?"active":null,F?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let N=typeof i=="function"?i(x):i;return R.createElement(oe,{...d,"aria-current":v,className:I,ref:f,style:N,to:o,viewTransition:u},typeof c=="function"?c(x):c)});lt.displayName="NavLink";var IN=R.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:o=Ll,action:u,onSubmit:c,relative:d,preventScrollReset:f,viewTransition:m,...g},T)=>{let b=CN(),C=kN(u,{relative:d}),k=o.toLowerCase()==="get"?"get":"post",E=typeof u=="string"&&lw.test(u),y=w=>{if(c&&c(w),w.defaultPrevented)return;w.preventDefault();let D=w.nativeEvent.submitter,L=(D==null?void 0:D.getAttribute("formmethod"))||o;b(D||w.currentTarget,{fetcherKey:e,method:L,navigate:n,replace:s,state:i,relative:d,preventScrollReset:f,viewTransition:m})};return R.createElement("form",{ref:T,method:k,action:C,onSubmit:r?c:y,...g,"data-discover":!E&&t==="render"?"true":void 0})});IN.displayName="Form";function SN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uw(t){let e=R.useContext(Ci);return Ee(e,SN(t)),e}function NN(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o}={}){let u=ac(),c=cn(),d=Ta(t,{relative:i});return R.useCallback(f=>{if(iN(f,e)){f.preventDefault();let m=n!==void 0?n:na(c)===na(d);u(t,{replace:m,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[c,u,d,n,r,e,t,s,i,o])}var bN=0,AN=()=>`__${String(++bN)}__`;function CN(){let{router:t}=uw("useSubmit"),{basename:e}=R.useContext(ln),n=QS();return R.useCallback(async(r,s={})=>{let{action:i,method:o,encType:u,formData:c,body:d}=lN(r,e);if(s.navigate===!1){let f=s.fetcherKey||AN();await t.fetch(f,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||o,formEncType:s.encType||u,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||o,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function kN(t,{relative:e}={}){let{basename:n}=R.useContext(ln),r=R.useContext(un);Ee(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...Ta(t||".",{relative:e})},o=cn();if(t==null){i.search=o.search;let u=new URLSearchParams(i.search),c=u.getAll("index");if(c.some(f=>f==="")){u.delete("index"),c.filter(m=>m).forEach(m=>u.append("index",m));let f=u.toString();i.search=f?`?${f}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:$n([n,i.pathname])),na(i)}function RN(t,{relative:e}={}){let n=R.useContext(Zx);Ee(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=uw("useViewTransitionState"),s=Ta(t,{relative:e});if(!n.isTransitioning)return!1;let i=Kn(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Kn(n.nextLocation.pathname,r)||n.nextLocation.pathname;return xu(s.pathname,o)!=null||xu(s.pathname,i)!=null}/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jN=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Oy=t=>{const e=jN(t);return e.charAt(0).toUpperCase()+e.slice(1)},cw=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),DN=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ON={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=R.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...u},c)=>R.createElement("svg",{ref:c,...ON,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:cw("lucide",s),...!i&&!DN(u)&&{"aria-hidden":"true"},...u},[...o.map(([d,f])=>R.createElement(d,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=(t,e)=>{const n=R.forwardRef(({className:r,...s},i)=>R.createElement(LN,{ref:i,iconNode:e,className:cw(`lucide-${PN(Oy(t))}`,`lucide-${t}`,r),...s}));return n.displayName=Oy(t),n};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ly=Ae("arrow-left",VN);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Vy=Ae("arrow-right",MN);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],UN=Ae("circle-alert",FN);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],dw=Ae("circle-check",$N);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],BN=Ae("file-text",zN);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=[["path",{d:"M10.5 3 8 9l4 13 4-13-2.5-6",key:"b3dvk1"}],["path",{d:"M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z",key:"7w4byz"}],["path",{d:"M2 9h20",key:"16fsjt"}]],qN=Ae("gem",HN);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],KN=Ae("graduation-cap",WN);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],QN=Ae("instagram",GN);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],Hh=Ae("leaf",YN);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],XN=Ae("linkedin",JN);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],eb=Ae("mail",ZN);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],nb=Ae("message-circle",tb);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],sb=Ae("quote",rb);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=[["path",{d:"M7 19H4.815a1.83 1.83 0 0 1-1.57-.881 1.785 1.785 0 0 1-.004-1.784L7.196 9.5",key:"x6z5xu"}],["path",{d:"M11 19h8.203a1.83 1.83 0 0 0 1.556-.89 1.784 1.784 0 0 0 0-1.775l-1.226-2.12",key:"1x4zh5"}],["path",{d:"m14 16-3 3 3 3",key:"f6jyew"}],["path",{d:"M8.293 13.596 7.196 9.5 3.1 10.598",key:"wf1obh"}],["path",{d:"m9.344 5.811 1.093-1.892A1.83 1.83 0 0 1 11.985 3a1.784 1.784 0 0 1 1.546.888l3.943 6.843",key:"9tzpgr"}],["path",{d:"m13.378 9.633 4.096 1.098 1.097-4.096",key:"1oe83g"}]],ob=Ae("recycle",ib);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],My=Ae("ruler",ab);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],ub=Ae("scissors",lb);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],qh=Ae("shield-check",cb);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]],hb=Ae("shirt",db);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],mb=Ae("shopping-bag",fb);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],hw=Ae("sparkles",pb);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],yb=Ae("star",gb);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],fw=Ae("truck",vb);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],xb=Ae("users",_b),wb={},Fy=t=>{let e;const n=new Set,r=(f,m)=>{const g=typeof f=="function"?f(e):f;if(!Object.is(g,e)){const T=e;e=m??(typeof g!="object"||g===null)?g:Object.assign({},e,g),n.forEach(b=>b(e,T))}},s=()=>e,c={setState:r,getState:s,getInitialState:()=>d,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{(wb?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},d=e=t(r,s,c);return c},Eb=t=>t?Fy(t):Fy;var mw={exports:{}},pw={},gw={exports:{}},yw={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yi=R;function Tb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ib=typeof Object.is=="function"?Object.is:Tb,Sb=yi.useState,Nb=yi.useEffect,bb=yi.useLayoutEffect,Ab=yi.useDebugValue;function Cb(t,e){var n=e(),r=Sb({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return bb(function(){s.value=n,s.getSnapshot=e,kd(s)&&i({inst:s})},[t,n,e]),Nb(function(){return kd(s)&&i({inst:s}),t(function(){kd(s)&&i({inst:s})})},[t]),Ab(n),n}function kd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ib(t,n)}catch{return!0}}function kb(t,e){return e()}var Rb=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?kb:Cb;yw.useSyncExternalStore=yi.useSyncExternalStore!==void 0?yi.useSyncExternalStore:Rb;gw.exports=yw;var Pb=gw.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uc=R,jb=Pb;function Db(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ob=typeof Object.is=="function"?Object.is:Db,Lb=jb.useSyncExternalStore,Vb=uc.useRef,Mb=uc.useEffect,Fb=uc.useMemo,Ub=uc.useDebugValue;pw.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=Vb(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=Fb(function(){function c(T){if(!d){if(d=!0,f=T,T=r(T),s!==void 0&&o.hasValue){var b=o.value;if(s(b,T))return m=b}return m=T}if(b=m,Ob(f,T))return b;var C=r(T);return s!==void 0&&s(b,C)?(f=T,b):(f=T,m=C)}var d=!1,f,m,g=n===void 0?null:n;return[function(){return c(e())},g===null?void 0:function(){return c(g())}]},[e,n,r,s]);var u=Lb(t,i[0],i[1]);return Mb(function(){o.hasValue=!0,o.value=u},[u]),Ub(u),u};mw.exports=pw;var $b=mw.exports;const zb=ga($b),vw={},{useDebugValue:Bb}=ht,{useSyncExternalStoreWithSelector:Hb}=zb;let Uy=!1;const qb=t=>t;function Wb(t,e=qb,n){(vw?"production":void 0)!=="production"&&n&&!Uy&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Uy=!0);const r=Hb(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return Bb(r),r}const Kb=t=>{(vw?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?Eb(t):t,n=(r,s)=>Wb(e,r,s);return Object.assign(n,e),n},_w=t=>Kb,Gb={};function Qb(t,e){let n;try{n=t()}catch{return}return{getItem:s=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),u=(i=n.getItem(s))!=null?i:null;return u instanceof Promise?u.then(o):o(u)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const ra=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return ra(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return ra(r)(n)}}}},Yb=(t,e)=>(n,r,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:k=>k,version:0,merge:(k,E)=>({...E,...k}),...e},o=!1;const u=new Set,c=new Set;let d;try{d=i.getStorage()}catch{}if(!d)return t((...k)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...k)},r,s);const f=ra(i.serialize),m=()=>{const k=i.partialize({...r()});let E;const y=f({state:k,version:i.version}).then(w=>d.setItem(i.name,w)).catch(w=>{E=w});if(E)throw E;return y},g=s.setState;s.setState=(k,E)=>{g(k,E),m()};const T=t((...k)=>{n(...k),m()},r,s);let b;const C=()=>{var k;if(!d)return;o=!1,u.forEach(y=>y(r()));const E=((k=i.onRehydrateStorage)==null?void 0:k.call(i,r()))||void 0;return ra(d.getItem.bind(d))(i.name).then(y=>{if(y)return i.deserialize(y)}).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==i.version){if(i.migrate)return i.migrate(y.state,y.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return y.state}).then(y=>{var w;return b=i.merge(y,(w=r())!=null?w:T),n(b,!0),m()}).then(()=>{E==null||E(b,void 0),o=!0,c.forEach(y=>y(b))}).catch(y=>{E==null||E(void 0,y)})};return s.persist={setOptions:k=>{i={...i,...k},k.getStorage&&(d=k.getStorage())},clearStorage:()=>{d==null||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>C(),hasHydrated:()=>o,onHydrate:k=>(u.add(k),()=>{u.delete(k)}),onFinishHydration:k=>(c.add(k),()=>{c.delete(k)})},C(),b||T},Jb=(t,e)=>(n,r,s)=>{let i={storage:Qb(()=>localStorage),partialize:C=>C,version:0,merge:(C,k)=>({...k,...C}),...e},o=!1;const u=new Set,c=new Set;let d=i.storage;if(!d)return t((...C)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...C)},r,s);const f=()=>{const C=i.partialize({...r()});return d.setItem(i.name,{state:C,version:i.version})},m=s.setState;s.setState=(C,k)=>{m(C,k),f()};const g=t((...C)=>{n(...C),f()},r,s);s.getInitialState=()=>g;let T;const b=()=>{var C,k;if(!d)return;o=!1,u.forEach(y=>{var w;return y((w=r())!=null?w:g)});const E=((k=i.onRehydrateStorage)==null?void 0:k.call(i,(C=r())!=null?C:g))||void 0;return ra(d.getItem.bind(d))(i.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==i.version){if(i.migrate)return[!0,i.migrate(y.state,y.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,y.state];return[!1,void 0]}).then(y=>{var w;const[D,L]=y;if(T=i.merge(L,(w=r())!=null?w:g),n(T,!0),D)return f()}).then(()=>{E==null||E(T,void 0),T=r(),o=!0,c.forEach(y=>y(T))}).catch(y=>{E==null||E(void 0,y)})};return s.persist={setOptions:C=>{i={...i,...C},C.storage&&(d=C.storage)},clearStorage:()=>{d==null||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>b(),hasHydrated:()=>o,onHydrate:C=>(u.add(C),()=>{u.delete(C)}),onFinishHydration:C=>(c.add(C),()=>{c.delete(C)})},i.skipHydration||b(),T||g},Xb=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((Gb?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Yb(t,e)):Jb(t,e),xw=Xb;function Rs(t){return`${t.slug}__${t.size??""}__${t.color??""}`}const Ia=_w()(xw((t,e)=>({items:[],add:n=>t(r=>{const s=Rs(n),i=r.items.findIndex(u=>Rs(u)===s);if(i>=0){const u=[...r.items],c=u[i];if(!c)return{items:r.items};const d={...c,qty:(c.qty??0)+(n.qty??1),price:n.price??c.price,currency:n.currency??c.currency,title:n.title??c.title,image:n.image??c.image};return u[i]=d,{items:u}}const o={...n,qty:n.qty??1};return{items:[...r.items,o]}}),remove:(n,r,s)=>t(i=>({items:i.items.filter(o=>Rs(o)!==Rs({slug:n,size:r,color:s}))})),setQty:(n,r,s,i)=>t(o=>({items:o.items.map(u=>Rs(u)===Rs({slug:n,size:r,color:s})?{...u,qty:i}:u)})),clear:()=>t({items:[]}),count:()=>e().items.reduce((n,r)=>n+r.qty,0)}),{name:"beafrique-cart"}));function Zb(){const t=Ia(e=>e.count());return l.jsxs(oe,{to:"/cart","aria-label":"View cart",className:"ml-2 relative inline-flex items-center gap-2 rounded-full border border-emerald-200 bg-white px-3 py-1.5 text-emerald-900 hover:bg-emerald-50",children:[l.jsx(mb,{className:"h-5 w-5"}),l.jsx("span",{className:"hidden lg:inline text-sm font-medium",children:"Cart"}),l.jsx("span",{className:"ml-1 rounded-full bg-yellow-400 px-2 py-0.5 text-xs font-semibold text-emerald-900",children:t})]})}const ww="/assets/logo-Cc195fNo.webp",$y="bea.announcement.dismissed";function eA(){const[t,e]=R.useState(!1);return R.useEffect(()=>{localStorage.getItem($y)==="1"&&e(!0)},[]),t?null:l.jsx("div",{className:"bg-emerald-950 text-emerald-50",children:l.jsxs("div",{className:`
          container relative flex flex-wrap items-center justify-center gap-x-3 gap-y-1
          px-4 py-2 text-xs md:text-sm text-center
          overflow-hidden
          pr-10   /* reserve space for the close button on mobile */
        `,children:[l.jsxs("span",{className:"inline-flex items-center gap-2 font-medium tracking-wide break-words",children:[l.jsx("span",{"aria-hidden":!0,children:"🌿"}),l.jsx("span",{children:"Made in limited quantities to reduce waste and promote sustainability."})]}),l.jsx(oe,{to:"/about",className:"underline underline-offset-4 decoration-emerald-300 hover:decoration-yellow-400",children:"Learn more"}),l.jsx("button",{"aria-label":"Close announcement",onClick:()=>{localStorage.setItem($y,"1"),e(!0)},className:`
            absolute right-3 top-1/2 -translate-y-1/2
            rounded-md px-2 py-1 hover:bg-emerald-900/60
          `,children:"×"})]})})}function tA(){const[t,e]=R.useState(!1),[n,r]=R.useState(!1),s=Ia(o=>o.count()),i=o=>`px-3 py-2 rounded-md transition hover:bg-brand/10 hover:text-brand ${o?"text-brand":""}`;return l.jsxs("header",{className:"sticky top-0 z-40 bg-white/80 backdrop-blur border-b",children:[l.jsx(eA,{}),l.jsx("div",{className:"bg-emerald-900 text-white",children:l.jsxs("div",{className:"container h-20 flex flex-col md:flex-row items-center justify-between text-sm space-y-4 md:space-y-0 md:h-16",children:[l.jsxs("div",{className:"flex flex-col md:flex-row items-center space-y-2 md:space-y-0 md:gap-6",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{children:"📧"}),l.jsx("a",{href:"mailto:Bukonla@beafrique.com",className:"font-medium hover:underline",children:"Bukonla@beafrique.com"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{children:"📞"}),l.jsx("span",{className:"font-medium",children:"+44 7733 729 418"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{children:"⏰"}),l.jsx("span",{className:"font-medium",children:"Mon - Sat: 8:00 AM - 7:00 PM"})]})]}),l.jsx("div",{className:"flex justify-center md:justify-end",children:l.jsx(oe,{to:"/catalogue",className:"inline-block bg-yellow-500 text-emerald-900 py-2 px-6 rounded-full font-semibold hover:bg-yellow-600",children:"Shop Now"})})]})}),l.jsxs("nav",{className:"container h-20 flex items-center justify-between mt-3",children:[l.jsx(oe,{to:"/",className:"flex items-center gap-2",children:l.jsx("img",{src:ww,alt:"Be Afrique Limited Logo",className:"h-15 w-[70px]"})}),l.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[l.jsx(lt,{to:"/",end:!0,className:({isActive:o})=>i(o),children:"Home"}),l.jsxs("div",{className:"relative",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[l.jsx(lt,{to:"/about",className:({isActive:o})=>i(o),children:"About Us"}),n&&l.jsxs("div",{className:"absolute left-0 mt-2 w-48 rounded-xl border bg-white shadow-soft p-2",children:[l.jsx(lt,{to:"/about#values",className:({isActive:o})=>`block px-3 py-2 rounded-lg hover:bg-brand/10 ${o?"text-brand":"text-gray-700"}`,children:"Our Values"}),l.jsx(lt,{to:"/our-team",className:({isActive:o})=>`block px-3 py-2 rounded-lg hover:bg-brand/10 ${o?"text-brand":"text-gray-700"}`,children:"Our Team"})]})]}),l.jsx(lt,{to:"/what-we-do",className:({isActive:o})=>i(o),children:"What We Do"}),l.jsx(lt,{to:"/client",className:({isActive:o})=>i(o),children:"The Journey"}),l.jsx(lt,{to:"/catalogue",className:({isActive:o})=>i(o),children:"Catalogue"}),l.jsx(lt,{to:"/contact",className:({isActive:o})=>i(o),children:"Contact Us"}),l.jsx(Zb,{})]}),l.jsx("button",{onClick:()=>e(o=>!o),className:"md:hidden w-10 h-10 grid place-content-center rounded-lg hover:bg-brand/10","aria-label":"Open menu",children:l.jsx("svg",{viewBox:"0 0 24 24",fill:"none",className:"w-6 h-6",children:l.jsx("path",{d:"M4 7h16M4 12h16M4 17h16",stroke:"currentColor",strokeWidth:"2"})})})]}),t&&l.jsx("div",{className:"md:hidden border-t bg-white",children:l.jsxs("div",{className:"container py-3 flex flex-col",children:[l.jsx(lt,{to:"/",end:!0,onClick:()=>e(!1),className:({isActive:o})=>i(o),children:"Home"}),l.jsxs("details",{className:"px-1 py-2",children:[l.jsx("summary",{className:"cursor-pointer px-2 py-1 rounded-md hover:bg-brand/10",children:"About Us"}),l.jsxs("div",{className:"mt-2 ml-3 flex flex-col",children:[l.jsx(lt,{to:"/about#values",onClick:()=>e(!1),className:({isActive:o})=>i(o),children:"Our Values"}),l.jsx(lt,{to:"/our-team",onClick:()=>e(!1),className:({isActive:o})=>i(o),children:"Our Team"})]})]}),l.jsx(lt,{to:"/what-we-do",onClick:()=>e(!1),className:({isActive:o})=>i(o),children:"What We Do"}),l.jsx(lt,{to:"/client",onClick:()=>e(!1),className:({isActive:o})=>i(o),children:"The Journey"}),l.jsx(lt,{to:"/catalogue",onClick:()=>e(!1),className:({isActive:o})=>i(o),children:"Catalogue"}),l.jsx(lt,{to:"/contact",onClick:()=>e(!1),className:({isActive:o})=>i(o),children:"Contact Us"}),l.jsxs(oe,{to:"/cart",onClick:()=>e(!1),className:"mt-2 px-3 py-2 rounded-md transition hover:bg-brand/10",children:["Cart"," ",l.jsx("span",{className:"ml-1 text-xs bg-yellow-400 text-emerald-900 px-2 py-0.5 rounded-full",children:s})]})]})})]})}var Ew={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},zy=ht.createContext&&ht.createContext(Ew),nA=["attr","size","title"];function rA(t,e){if(t==null)return{};var n=sA(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sA(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wu(){return wu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wu.apply(this,arguments)}function By(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Eu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?By(Object(n),!0).forEach(function(r){iA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):By(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iA(t,e,n){return e=oA(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oA(t){var e=aA(t,"string");return typeof e=="symbol"?e:e+""}function aA(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tw(t){return t&&t.map((e,n)=>ht.createElement(e.tag,Eu({key:n},e.attr),Tw(e.child)))}function cc(t){return e=>ht.createElement(lA,wu({attr:Eu({},t.attr)},e),Tw(t.child))}function lA(t){var e=n=>{var{attr:r,size:s,title:i}=t,o=rA(t,nA),u=s||n.size||"1em",c;return n.className&&(c=n.className),t.className&&(c=(c?c+" ":"")+t.className),ht.createElement("svg",wu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:c,style:Eu(Eu({color:t.color||n.color},n.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),i&&ht.createElement("title",null,i),t.children)};return zy!==void 0?ht.createElement(zy.Consumer,null,n=>e(n)):e(Ew)}function uA(t){return cc({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function cA(t){return cc({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(t)}function dA(t){return cc({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448,209.91a210.06,210.06,0,0,1-122.77-39.25V349.38A162.55,162.55,0,1,1,185,188.31V278.2a74.62,74.62,0,1,0,52.23,71.18V0l88,0a121.18,121.18,0,0,0,1.86,22.17h0A122.18,122.18,0,0,0,381,102.39a121.43,121.43,0,0,0,67,20.14Z"},child:[]}]})(t)}function Iw(t){return cc({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(t)}const Ge={name:"Be Afrique",whatsapp:"447733729418",email:"Bukonla@beafrique.com",phone:"+44 7733 729 418",address:"24 Jubilee Road, Southsea, Portsmouth PO4 0JE, United Kingdom",currencySymbol:"£"},pl={cloudName:"dbl85m2kz",uploadPreset:"unsigned_beafrique",folder:"beafrique"};function hA(){const[t,e]=R.useState(""),[n,r]=R.useState(!1),s=Iw,i=uA,o=dA,u=cA;return l.jsxs("footer",{className:"mt-16 bg-emerald-900 text-emerald-50",children:[l.jsx("div",{className:"h-1 w-full bg-yellow-400"}),l.jsxs("div",{className:"container py-12",children:[l.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-center",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("img",{src:ww,alt:"Be Afrique Logo",className:"h-12 w-auto rounded-md ring-1 ring-white/10"}),l.jsxs("div",{children:[l.jsxs("p",{className:"text-xl font-bold tracking-tight",children:[l.jsx("span",{className:"text-yellow-400",children:"Be"})," Afrique Limited"]}),l.jsx("p",{className:"mt-1 text-sm text-emerald-100/80",children:"Conscious fashion. Empowering women. Celebrating African heritage."})]})]})}),l.jsx("div",{className:"my-8 h-px w-full bg-gradient-to-r from-white/0 via-white/10 to-white/0"}),l.jsxs("div",{className:"grid gap-10 md:grid-cols-2 lg:grid-cols-4",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-semibold tracking-wide text-yellow-300",children:"About"}),l.jsx("p",{className:"mt-3 text-sm leading-relaxed text-emerald-50/90",children:"We are a purpose-driven fashion brand focused on environmental consciousness and social impact. We empower women with unique, expressive pieces—fostering independence and growth."})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-semibold tracking-wide text-yellow-300",children:"Quick Links"}),l.jsxs("ul",{className:"mt-3 space-y-2 text-sm",children:[l.jsx("li",{children:l.jsx(oe,{to:"/catalogue",className:"hover:text-yellow-300",children:"Conscious Fashion"})}),l.jsx("li",{children:l.jsx(oe,{to:"/about",className:"hover:text-yellow-300",children:" About Us"})}),l.jsx("li",{children:l.jsx(oe,{to:"/client",className:"hover:text-yellow-300",children:"The Journey"})}),l.jsx("li",{children:l.jsx(oe,{to:"/what-we-do",className:"hover:text-yellow-300",children:"What We Do"})}),l.jsx("li",{children:l.jsx(oe,{to:"/refund-policy",className:"hover:text-yellow-300",children:"Refund Policy"})}),l.jsx("li",{children:l.jsx(oe,{to:"/contact",className:"hover:text-yellow-300",children:"Contact Us"})})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-semibold tracking-wide text-yellow-300",children:"Contact"}),l.jsxs("ul",{className:"mt-3 space-y-2 text-sm",children:[l.jsxs("li",{children:["Phone: ",l.jsx("a",{href:"tel:+2348063328191",className:"hover:text-yellow-300",children:"+234 806 332 8191"})]}),l.jsxs("li",{children:["Email: ",l.jsx("a",{href:"mailto:Bukonla@beafrique.com",className:"hover:text-yellow-300",children:"bukonla@beafrique.com"})]}),l.jsx("li",{children:"Opening Hours: Mon–Sat (08:00–18:00), Sun Closed"}),l.jsxs("li",{children:["Nigeria: ",l.jsx("span",{className:"text-emerald-50/90",children:"Lagos"})]}),l.jsxs("li",{children:["UK:"," ",l.jsx("a",{className:"hover:text-yellow-300",target:"_blank",rel:"noopener noreferrer",href:"https://www.google.com/maps?q=24+Jubilee+Road,+Southsea,+Portsmouth,+United+Kingdom+PO40JE",children:"24 Jubilee Road, Southsea, Portsmouth, PO40JE"})]})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-semibold tracking-wide text-yellow-300",children:"Follow Us"}),l.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[l.jsx("a",{href:"https://www.instagram.com/be_afrique_?igsh=MTR3amFjMHg0aGVheg%3D%3D&utm_source=qr",target:"_blank",rel:"noopener noreferrer",className:"group inline-flex h-10 w-10 items-center justify-center rounded-full bg-white/10 ring-1 ring-white/10 hover:bg-yellow-400","aria-label":"Instagram",children:l.jsx(i,{className:"h-5 w-5 text-white group-hover:text-emerald-900"})}),l.jsx("a",{href:"https://wa.me/447733729418",target:"_blank",rel:"noopener noreferrer",className:"group inline-flex h-10 w-10 items-center justify-center rounded-full bg-white/10 ring-1 ring-white/10 hover:bg-yellow-400","aria-label":"WhatsApp",children:l.jsx(s,{className:"h-5 w-5 text-white group-hover:text-emerald-900"})}),l.jsx("a",{href:"https://www.tiktok.com/@be_afrique",target:"_blank",rel:"noopener noreferrer",className:"group inline-flex h-10 w-10 items-center justify-center rounded-full bg-white/10 ring-1 ring-white/10 hover:bg-yellow-400","aria-label":"TikTok",children:l.jsx(o,{className:"h-5 w-5 text-white group-hover:text-emerald-900"})}),l.jsx("a",{href:"https://www.linkedin.com/company/be-afrique",target:"_blank",rel:"noopener noreferrer",className:"group inline-flex h-10 w-10 items-center justify-center rounded-full bg-white/10 ring-1 ring-white/10 hover:bg-yellow-400","aria-label":"LinkedIn",children:l.jsx(u,{className:"h-5 w-5 text-white group-hover:text-emerald-900"})})]}),l.jsx("div",{className:"mt-4",children:l.jsx("a",{href:"https://wa.me/447733729418?text=Hi%20Be%20Afrique%2C%20I%27d%20love%20to%20chat%20about%20a%20custom%20order.",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 rounded-full bg-yellow-400 px-4 py-2 text-xs font-semibold text-emerald-900 hover:bg-yellow-500",children:"Chat on WhatsApp"})})]})]})]}),l.jsx("div",{className:"border-t border-white/10",children:l.jsxs("div",{className:"container h-14 flex flex-col sm:flex-row items-center justify-between gap-3 text-xs sm:text-sm text-emerald-100/90",children:[l.jsxs("p",{children:["© ",new Date().getFullYear()," ",Ge.name,". All rights reserved."]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(oe,{to:"/privacy",className:"hover:text-yellow-300",children:"Privacy"}),l.jsx("span",{"aria-hidden":!0,children:"•"}),l.jsx(oe,{to:"/terms",className:"hover:text-yellow-300",children:"Terms"})]})]})})]})}var fA=typeof Element<"u",mA=typeof Map=="function",pA=typeof Set=="function",gA=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Ml(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,s;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!Ml(t[r],e[r]))return!1;return!0}var i;if(mA&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(i=t.entries();!(r=i.next()).done;)if(!e.has(r.value[0]))return!1;for(i=t.entries();!(r=i.next()).done;)if(!Ml(r.value[1],e.get(r.value[0])))return!1;return!0}if(pA&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(i=t.entries();!(r=i.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(gA&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[r]))return!1;if(fA&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((s[r]==="_owner"||s[r]==="__v"||s[r]==="__o")&&t.$$typeof)&&!Ml(t[s[r]],e[s[r]]))return!1;return!0}return t!==t&&e!==e}var yA=function(e,n){try{return Ml(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const vA=ga(yA);var _A=function(t,e,n,r,s,i,o,u){if(!t){var c;if(e===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[n,r,s,i,o,u],f=0;c=new Error(e.replace(/%s/g,function(){return d[f++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},xA=_A;const Hy=ga(xA);var wA=function(e,n,r,s){var i=r?r.call(s,e,n):void 0;if(i!==void 0)return!!i;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var o=Object.keys(e),u=Object.keys(n);if(o.length!==u.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(n),d=0;d<o.length;d++){var f=o[d];if(!c(f))return!1;var m=e[f],g=n[f];if(i=r?r.call(s,m,g,f):void 0,i===!1||i===void 0&&m!==g)return!1}return!0};const EA=ga(wA);var Sw=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(Sw||{}),Rd={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},qy=Object.values(Sw),Tm={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},TA=Object.entries(Tm).reduce((t,[e,n])=>(t[n]=e,t),{}),Jt="data-rh",ri={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},si=(t,e)=>{for(let n=t.length-1;n>=0;n-=1){const r=t[n];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},IA=t=>{let e=si(t,"title");const n=si(t,ri.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),n&&e)return n.replace(/%s/g,()=>e);const r=si(t,ri.DEFAULT_TITLE);return e||r||void 0},SA=t=>si(t,ri.ON_CHANGE_CLIENT_STATE)||(()=>{}),Pd=(t,e)=>e.filter(n=>typeof n[t]<"u").map(n=>n[t]).reduce((n,r)=>({...n,...r}),{}),NA=(t,e)=>e.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,r)=>{if(!n.length){const s=Object.keys(r);for(let i=0;i<s.length;i+=1){const u=s[i].toLowerCase();if(t.indexOf(u)!==-1&&r[u])return n.concat(r)}}return n},[]),bA=t=>console&&typeof console.warn=="function"&&console.warn(t),ho=(t,e,n)=>{const r={};return n.filter(s=>Array.isArray(s[t])?!0:(typeof s[t]<"u"&&bA(`Helmet: ${t} should be of type "Array". Instead found type "${typeof s[t]}"`),!1)).map(s=>s[t]).reverse().reduce((s,i)=>{const o={};i.filter(c=>{let d;const f=Object.keys(c);for(let g=0;g<f.length;g+=1){const T=f[g],b=T.toLowerCase();e.indexOf(b)!==-1&&!(d==="rel"&&c[d].toLowerCase()==="canonical")&&!(b==="rel"&&c[b].toLowerCase()==="stylesheet")&&(d=b),e.indexOf(T)!==-1&&(T==="innerHTML"||T==="cssText"||T==="itemprop")&&(d=T)}if(!d||!c[d])return!1;const m=c[d].toLowerCase();return r[d]||(r[d]={}),o[d]||(o[d]={}),r[d][m]?!1:(o[d][m]=!0,!0)}).reverse().forEach(c=>s.push(c));const u=Object.keys(o);for(let c=0;c<u.length;c+=1){const d=u[c],f={...r[d],...o[d]};r[d]=f}return s},[]).reverse()},AA=(t,e)=>{if(Array.isArray(t)&&t.length){for(let n=0;n<t.length;n+=1)if(t[n][e])return!0}return!1},CA=t=>({baseTag:NA(["href"],t),bodyAttributes:Pd("bodyAttributes",t),defer:si(t,ri.DEFER),encode:si(t,ri.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Pd("htmlAttributes",t),linkTags:ho("link",["rel","href"],t),metaTags:ho("meta",["name","charset","http-equiv","property","itemprop"],t),noscriptTags:ho("noscript",["innerHTML"],t),onChangeClientState:SA(t),scriptTags:ho("script",["src","innerHTML"],t),styleTags:ho("style",["cssText"],t),title:IA(t),titleAttributes:Pd("titleAttributes",t),prioritizeSeoTags:AA(t,ri.PRIORITIZE_SEO_TAGS)}),Nw=t=>Array.isArray(t)?t.join(""):t,kA=(t,e)=>{const n=Object.keys(t);for(let r=0;r<n.length;r+=1)if(e[n[r]]&&e[n[r]].includes(t[n[r]]))return!0;return!1},jd=(t,e)=>Array.isArray(t)?t.reduce((n,r)=>(kA(r,e)?n.priority.push(r):n.default.push(r),n),{priority:[],default:[]}):{default:t,priority:[]},Wy=(t,e)=>({...t,[e]:void 0}),RA=["noscript","script","style"],Wh=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),bw=t=>Object.keys(t).reduce((e,n)=>{const r=typeof t[n]<"u"?`${n}="${t[n]}"`:`${n}`;return e?`${e} ${r}`:r},""),PA=(t,e,n,r)=>{const s=bw(n),i=Nw(e);return s?`<${t} ${Jt}="true" ${s}>${Wh(i,r)}</${t}>`:`<${t} ${Jt}="true">${Wh(i,r)}</${t}>`},jA=(t,e,n=!0)=>e.reduce((r,s)=>{const i=s,o=Object.keys(i).filter(d=>!(d==="innerHTML"||d==="cssText")).reduce((d,f)=>{const m=typeof i[f]>"u"?f:`${f}="${Wh(i[f],n)}"`;return d?`${d} ${m}`:m},""),u=i.innerHTML||i.cssText||"",c=RA.indexOf(t)===-1;return`${r}<${t} ${Jt}="true" ${o}${c?"/>":`>${u}</${t}>`}`},""),Aw=(t,e={})=>Object.keys(t).reduce((n,r)=>{const s=Tm[r];return n[s||r]=t[r],n},e),DA=(t,e,n)=>{const r={key:e,[Jt]:!0},s=Aw(n,r);return[ht.createElement("title",s,e)]},Fl=(t,e)=>e.map((n,r)=>{const s={key:r,[Jt]:!0};return Object.keys(n).forEach(i=>{const u=Tm[i]||i;if(u==="innerHTML"||u==="cssText"){const c=n.innerHTML||n.cssText;s.dangerouslySetInnerHTML={__html:c}}else s[u]=n[i]}),ht.createElement(t,s)}),Mt=(t,e,n=!0)=>{switch(t){case"title":return{toComponent:()=>DA(t,e.title,e.titleAttributes),toString:()=>PA(t,e.title,e.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>Aw(e),toString:()=>bw(e)};default:return{toComponent:()=>Fl(t,e),toString:()=>jA(t,e,n)}}},OA=({metaTags:t,linkTags:e,scriptTags:n,encode:r})=>{const s=jd(t,Rd.meta),i=jd(e,Rd.link),o=jd(n,Rd.script);return{priorityMethods:{toComponent:()=>[...Fl("meta",s.priority),...Fl("link",i.priority),...Fl("script",o.priority)],toString:()=>`${Mt("meta",s.priority,r)} ${Mt("link",i.priority,r)} ${Mt("script",o.priority,r)}`},metaTags:s.default,linkTags:i.default,scriptTags:o.default}},LA=t=>{const{baseTag:e,bodyAttributes:n,encode:r=!0,htmlAttributes:s,noscriptTags:i,styleTags:o,title:u="",titleAttributes:c,prioritizeSeoTags:d}=t;let{linkTags:f,metaTags:m,scriptTags:g}=t,T={toComponent:()=>{},toString:()=>""};return d&&({priorityMethods:T,linkTags:f,metaTags:m,scriptTags:g}=OA(t)),{priority:T,base:Mt("base",e,r),bodyAttributes:Mt("bodyAttributes",n,r),htmlAttributes:Mt("htmlAttributes",s,r),link:Mt("link",f,r),meta:Mt("meta",m,r),noscript:Mt("noscript",i,r),script:Mt("script",g,r),style:Mt("style",o,r),title:Mt("title",{title:u,titleAttributes:c},r)}},Kh=LA,gl=[],Cw=!!(typeof window<"u"&&window.document&&window.document.createElement),Gh=class{constructor(t,e){Pn(this,"instances",[]);Pn(this,"canUseDOM",Cw);Pn(this,"context");Pn(this,"value",{setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?gl:this.instances,add:t=>{(this.canUseDOM?gl:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?gl:this.instances).indexOf(t);(this.canUseDOM?gl:this.instances).splice(e,1)}}});this.context=t,this.canUseDOM=e||!1,e||(t.helmet=Kh({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},VA={},kw=ht.createContext(VA),os,Rw=(os=class extends R.Component{constructor(n){super(n);Pn(this,"helmetData");this.helmetData=new Gh(this.props.context||{},os.canUseDOM)}render(){return ht.createElement(kw.Provider,{value:this.helmetData.value},this.props.children)}},Pn(os,"canUseDOM",Cw),os),Ps=(t,e)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll(`${t}[${Jt}]`),s=[].slice.call(r),i=[];let o;return e&&e.length&&e.forEach(u=>{const c=document.createElement(t);for(const d in u)if(Object.prototype.hasOwnProperty.call(u,d))if(d==="innerHTML")c.innerHTML=u.innerHTML;else if(d==="cssText")c.styleSheet?c.styleSheet.cssText=u.cssText:c.appendChild(document.createTextNode(u.cssText));else{const f=d,m=typeof u[f]>"u"?"":u[f];c.setAttribute(d,m)}c.setAttribute(Jt,"true"),s.some((d,f)=>(o=f,c.isEqualNode(d)))?s.splice(o,1):i.push(c)}),s.forEach(u=>{var c;return(c=u.parentNode)==null?void 0:c.removeChild(u)}),i.forEach(u=>n.appendChild(u)),{oldTags:s,newTags:i}},Qh=(t,e)=>{const n=document.getElementsByTagName(t)[0];if(!n)return;const r=n.getAttribute(Jt),s=r?r.split(","):[],i=[...s],o=Object.keys(e);for(const u of o){const c=e[u]||"";n.getAttribute(u)!==c&&n.setAttribute(u,c),s.indexOf(u)===-1&&s.push(u);const d=i.indexOf(u);d!==-1&&i.splice(d,1)}for(let u=i.length-1;u>=0;u-=1)n.removeAttribute(i[u]);s.length===i.length?n.removeAttribute(Jt):n.getAttribute(Jt)!==o.join(",")&&n.setAttribute(Jt,o.join(","))},MA=(t,e)=>{typeof t<"u"&&document.title!==t&&(document.title=Nw(t)),Qh("title",e)},Ky=(t,e)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:s,linkTags:i,metaTags:o,noscriptTags:u,onChangeClientState:c,scriptTags:d,styleTags:f,title:m,titleAttributes:g}=t;Qh("body",r),Qh("html",s),MA(m,g);const T={baseTag:Ps("base",n),linkTags:Ps("link",i),metaTags:Ps("meta",o),noscriptTags:Ps("noscript",u),scriptTags:Ps("script",d),styleTags:Ps("style",f)},b={},C={};Object.keys(T).forEach(k=>{const{newTags:E,oldTags:y}=T[k];E.length&&(b[k]=E),y.length&&(C[k]=T[k].oldTags)}),e&&e(),c(t,b,C)},fo=null,FA=t=>{fo&&cancelAnimationFrame(fo),t.defer?fo=requestAnimationFrame(()=>{Ky(t,()=>{fo=null})}):(Ky(t),fo=null)},UA=FA,Gy=class extends R.Component{constructor(){super(...arguments);Pn(this,"rendered",!1)}shouldComponentUpdate(e){return!EA(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:n}=this.props.context;let r=null;const s=CA(e.get().map(i=>{const o={...i.props};return delete o.context,o}));Rw.canUseDOM?UA(s):Kh&&(r=Kh(s)),n(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},Qd,$A=(Qd=class extends R.Component{shouldComponentUpdate(t){return!vA(Wy(this.props,"helmetData"),Wy(t,"helmetData"))}mapNestedChildrenToProps(t,e){if(!e)return null;switch(t.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${t.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(t,e,n,r){return{...e,[t.type]:[...e[t.type]||[],{...n,...this.mapNestedChildrenToProps(t,r)}]}}mapObjectTypeChildren(t,e,n,r){switch(t.type){case"title":return{...e,[t.type]:r,titleAttributes:{...n}};case"body":return{...e,bodyAttributes:{...n}};case"html":return{...e,htmlAttributes:{...n}};default:return{...e,[t.type]:{...n}}}}mapArrayTypeChildrenToProps(t,e){let n={...e};return Object.keys(t).forEach(r=>{n={...n,[r]:t[r]}}),n}warnOnInvalidChildren(t,e){return Hy(qy.some(n=>t.type===n),typeof t.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${qy.join(", ")} are allowed. Helmet does not support rendering <${t.type}> elements. Refer to our API for more information.`),Hy(!e||typeof e=="string"||Array.isArray(e)&&!e.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${t.type}>. Did you forget to wrap your children in braces? ( <${t.type}>{\`\`}</${t.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(t,e){let n={};return ht.Children.forEach(t,r=>{if(!r||!r.props)return;const{children:s,...i}=r.props,o=Object.keys(i).reduce((c,d)=>(c[TA[d]||d]=i[d],c),{});let{type:u}=r;switch(typeof u=="symbol"?u=u.toString():this.warnOnInvalidChildren(r,s),u){case"Symbol(react.fragment)":e=this.mapChildrenToProps(s,e);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(r,n,o,s);break;default:e=this.mapObjectTypeChildren(r,e,o,s);break}}),this.mapArrayTypeChildrenToProps(n,e)}render(){const{children:t,...e}=this.props;let n={...e},{helmetData:r}=e;if(t&&(n=this.mapChildrenToProps(t,n)),r&&!(r instanceof Gh)){const s=r;r=new Gh(s.context,!0),delete n.helmetData}return r?ht.createElement(Gy,{...n,context:r.value}):ht.createElement(kw.Consumer,null,s=>ht.createElement(Gy,{...n,context:s}))}},Pn(Qd,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),Qd);function zA({children:t,seo:e={}}){const{title:n="Be Afrique — Sustainable, Culture-Forward Fashion",description:r="Limited-quantity, sustainable pieces celebrating African culture and empowering artisans.",image:s="https://beafrique.com/og-cover.jpg",canonicalPath:i,ogType:o="website",robots:u="index,follow"}=e,c="https://beafrique.com",{pathname:d,search:f}=cn(),m=`${c}${i??`${d}${f}`}`;return l.jsxs("div",{className:"min-h-screen flex flex-col overflow-x-hidden",children:[l.jsxs($A,{children:[l.jsx("title",{children:n}),l.jsx("meta",{name:"description",content:r}),l.jsx("meta",{name:"robots",content:u}),l.jsx("link",{rel:"canonical",href:m}),l.jsx("meta",{property:"og:type",content:o}),l.jsx("meta",{property:"og:site_name",content:"Be Afrique"}),l.jsx("meta",{property:"og:title",content:n}),l.jsx("meta",{property:"og:description",content:r}),l.jsx("meta",{property:"og:url",content:m}),l.jsx("meta",{property:"og:image",content:s}),l.jsx("meta",{property:"og:image:width",content:"1200"}),l.jsx("meta",{property:"og:image:height",content:"630"}),l.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),l.jsx("meta",{name:"twitter:title",content:n}),l.jsx("meta",{name:"twitter:description",content:r}),l.jsx("meta",{name:"twitter:image",content:s}),l.jsx("link",{rel:"icon",href:"/favicon.ico"}),l.jsx("link",{rel:"apple-touch-icon",sizes:"180x180",href:"/apple-touch-icon.png"}),l.jsx("html",{lang:"en"})]}),l.jsx(tA,{}),l.jsx("main",{className:"flex-1 pt-4",children:t}),l.jsx(hA,{})]})}const BA="/assets/buk1-C5UGe4R4.webp",HA="/assets/buk3-B61Tn9RI.webp",qA="/assets/buk2-E3iEPJVS.webp";function WA(){const t=R.useMemo(()=>[{title:"Cultural Identity & Heritage",text:"Be Afrique is rooted in African heritage and identity. The brand exists to connect Africans in the diaspora with their culture and traditions through fashion, while inviting the world to celebrate the artistry of African design. Clothing is positioned as a reflection of identity, culture, and values, not just fabric.",image:BA,to:"/what-we-do#women"},{title:"Sustainability & Eco-Friendly Practices",text:"Sustainability is at the heart of the brand. Be Afrique emphasizes eco-friendly, ethical, and sustainable design practices. The mission goes beyond aesthetics fashion should “feel good” on the wearer and for the planet.",image:HA,to:"/what-we-do#mentorship"},{title:"Empowerment & Movement",text:"Not just a label but a movement. Empowering women, supporting artisans, building communities, and creating social impact while celebrating cultural beauty globally.",image:qA,to:"/about#values"}],[]),e=R.useRef(null),[n,r]=R.useState(0),s=R.useRef(!1);R.useEffect(()=>{const d=e.current;if(!d)return;const f=()=>{const m=d.firstElementChild;if(!m)return;const T=m.clientWidth+16,b=Math.round(d.scrollLeft/T);r(Math.min(Math.max(b,0),t.length-1))};return d.addEventListener("scroll",f,{passive:!0}),()=>d.removeEventListener("scroll",f)},[t.length]);const i=d=>{const f=e.current;if(!f)return;const m=f.firstElementChild,T=m?m.clientWidth+16:f.clientWidth*.9;f.scrollTo({left:d*T,behavior:"smooth"})},o=d=>{const f=(n+d+t.length)%t.length;i(f)};R.useEffect(()=>{if(typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches)return;const f=setInterval(()=>{s.current||o(1)},4500);return()=>clearInterval(f)},[t.length]);const u=()=>s.current=!0,c=()=>s.current=!1;return l.jsx("section",{className:"py-14",children:l.jsxs("div",{className:"container",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-emerald-700 text-sm font-semibold",children:"What drives us"}),l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-emerald-900",children:"Areas of Focus"}),l.jsx("div",{className:"mt-2 h-1 w-16 bg-yellow-400 rounded mx-auto"})]}),l.jsxs("div",{className:"relative mt-8",children:[l.jsx("div",{ref:e,className:`
              flex gap-4 overflow-x-auto pb-2 no-scrollbar
              snap-x snap-mandatory
              scroll-pl-4 md:scroll-pl-0
            `,style:{scrollBehavior:"smooth"},onMouseEnter:u,onMouseLeave:c,onFocusCapture:u,onBlurCapture:c,onTouchStart:u,onTouchEnd:()=>setTimeout(c,400),children:t.map(d=>l.jsxs("article",{className:`
                  snap-start shrink-0
                  basis-[85%] sm:basis-[60%] md:basis-[45%] lg:basis-[32%]
                  rounded-2xl ring-1 ring-gray-200 bg-white shadow-sm overflow-hidden
                  transition hover:shadow-md
                `,children:[l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:d.image,alt:d.title,className:"h-76 w-full object-cover"}),l.jsxs("span",{className:"absolute top-3 left-3 inline-flex items-center gap-1 rounded-full bg-yellow-400 px-3 py-1 text-xs font-semibold text-emerald-900 ring-1 ring-yellow-300",children:[l.jsx(dw,{className:"w-3 h-3"})," Focus"]})]}),l.jsxs("div",{className:"p-5",children:[l.jsx("h3",{className:"font-semibold text-emerald-900 text-lg",children:d.title}),l.jsx("p",{className:"mt-2 text-[15px] leading-relaxed text-gray-700",children:d.text}),d.to?l.jsx("div",{className:"mt-4",children:l.jsxs(oe,{to:d.to,className:"inline-flex items-center gap-2 text-emerald-900 hover:underline",children:["Read more ",l.jsx("span",{"aria-hidden":!0,children:"→"})]})}):null]})]},d.title))}),l.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 right-0 hidden md:flex items-center justify-between px-2"})]})]})})}const KA="/assets/buk4-Bw_ahjkR.webp",Im="/assets/6-B0s8ORS8.webp",GA="/assets/pic1-r83TJ1Or.jpeg",QA="/assets/pic2-D_8u7GYy.jpeg",YA="/assets/pic3-D2m1R5dT.jpeg",JA=[{text:"I will order for more—let me lose a bit of weight first 😄",author:"Primrose"},{text:"My wife loves her outfit! Thanks for selling such good wears.",author:"Tolu"},{text:"A midwife loved my outfit today—shared your contact. All your outfits are beautiful.",author:"Tayo"},{text:"Beautiful and unique—well done, Be Afrique.",author:"Joshua"},{text:"I received my wears—so gorgeous. Even my husband loves it on me. God bless you.",author:"Oyinade"},{text:"Lovely designs—thank you!",author:"Yetunde"},{text:"I love the outfits; they fit so well.",author:"Blessing"},{text:"Someone at my interview took your contact—she loves my dress and wants to buy.",author:"Charity"}],XA=t=>t.split(/\s+/).map(e=>e[0]).slice(0,2).join("").toUpperCase();function ZA(){return l.jsx("section",{id:"testimonials",className:"py-14 bg-white",children:l.jsxs("div",{className:"container",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("span",{className:"inline-flex items-center gap-2 rounded-full bg-yellow-100 text-emerald-800 px-3 py-1 text-xs font-semibold ring-1 ring-yellow-200",children:"Loved by our customers"}),l.jsx("h2",{className:"mt-3 text-3xl md:text-4xl font-bold text-emerald-900",children:"Kind words from the Be Afrique tribe"}),l.jsx("div",{className:"mt-2 h-1 w-16 bg-yellow-400 rounded mx-auto"})]}),l.jsx("div",{className:"mt-8 grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:JA.map((t,e)=>l.jsxs("article",{className:"relative rounded-2xl ring-1 ring-gray-200 bg-white p-6 shadow-sm transition hover:shadow-md",children:[l.jsx("div",{className:"absolute -top-3 -right-3 rounded-full bg-yellow-400 p-2 ring-1 ring-yellow-300 shadow",children:l.jsx(sb,{className:"h-4 w-4 text-emerald-900"})}),l.jsxs("div",{className:"flex items-center gap-1",children:[Array.from({length:5}).map((n,r)=>l.jsx(yb,{className:"h-4 w-4 text-yellow-400 fill-yellow-400"},r)),l.jsx("span",{className:"sr-only",children:"5 out of 5 stars"})]}),l.jsxs("p",{className:"mt-3 text-[15px] leading-relaxed text-gray-700",children:["“",t.text,"”"]}),l.jsxs("div",{className:"mt-5 flex items-center gap-3",children:[l.jsx("div",{className:"grid h-9 w-9 place-items-center rounded-full bg-emerald-900 text-emerald-50 text-xs font-semibold ring-2 ring-emerald-100",children:XA(t.author)}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-emerald-900",children:t.author}),l.jsx("p",{className:"text-xs text-gray-500",children:"Verified customer"})]})]})]},e))}),l.jsx("div",{className:"mt-10 text-center",children:l.jsx("a",{href:"https://wa.me/447733729418?text=Hi%2C%20I%27d%20love%20to%20share%20a%20review%20about%20my%20order.",target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full bg-yellow-400 px-6 py-3 text-sm font-semibold text-emerald-900 hover:bg-yellow-500",children:"Share your experience →"})})]})})}const eC=()=>{};var Qy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},tC=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],u=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},jw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,u=o?t[s+1]:0,c=s+2<t.length,d=c?t[s+2]:0,f=i>>2,m=(i&3)<<4|u>>4;let g=(u&15)<<2|d>>6,T=d&63;c||(T=64,o||(g=64)),r.push(n[f],n[m],n[g],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Pw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):tC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],u=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const m=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||u==null||d==null||m==null)throw new nC;const g=i<<2|u>>4;if(r.push(g),d!==64){const T=u<<4&240|d>>2;if(r.push(T),m!==64){const b=d<<6&192|m;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class nC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rC=function(t){const e=Pw(t);return jw.encodeByteArray(e,!0)},Tu=function(t){return rC(t).replace(/\./g,"")},Dw=function(t){try{return jw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=()=>sC().__FIREBASE_DEFAULTS__,oC=()=>{if(typeof process>"u"||typeof Qy>"u")return;const t=Qy.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},aC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Dw(t[1]);return e&&JSON.parse(e)},dc=()=>{try{return eC()||iC()||oC()||aC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ow=t=>{var e,n;return(n=(e=dc())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},Lw=t=>{const e=Ow(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Vw=()=>{var t;return(t=dc())==null?void 0:t.config},Mw=t=>{var e;return(e=dc())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Sm(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Tu(JSON.stringify(n)),Tu(JSON.stringify(o)),""].join(".")}const jo={};function uC(){const t={prod:[],emulator:[]};for(const e of Object.keys(jo))jo[e]?t.emulator.push(e):t.prod.push(e);return t}function cC(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Yy=!1;function Nm(t,e){if(typeof window>"u"||typeof document>"u"||!Es(window.location.host)||jo[t]===e||jo[t]||Yy)return;jo[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",i=uC().prod.length>0;function o(){const g=document.getElementById(r);g&&g.remove()}function u(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,T){g.setAttribute("width","24"),g.setAttribute("id",T),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function d(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{Yy=!0,o()},g}function f(g,T){g.setAttribute("id",T),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function m(){const g=cC(r),T=n("text"),b=document.getElementById(T)||document.createElement("span"),C=n("learnmore"),k=document.getElementById(C)||document.createElement("a"),E=n("preprendIcon"),y=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const w=g.element;u(w),f(k,C);const D=d();c(y,E),w.append(y,b,k,D),document.body.appendChild(w)}i?(b.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mt())}function hC(){var e;const t=(e=dc())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function pC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gC(){const t=mt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function yC(){return!hC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vC(){try{return typeof indexedDB=="object"}catch{return!1}}function _C(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC="FirebaseError";class Cn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=xC,Object.setPrototypeOf(this,Cn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sa.prototype.create)}}class Sa{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?wC(i,r):"Error",u=`${this.serviceName}: ${o} (${s}).`;return new Cn(s,u,r)}}function wC(t,e){return t.replace(EC,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const EC=/\{\$([^}]+)}/g;function TC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ps(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Jy(i)&&Jy(o)){if(!ps(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Jy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Na(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function vo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function _o(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function IC(t,e){const n=new SC(t,e);return n.subscribe.bind(n)}class SC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");NC(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Dd),s.error===void 0&&(s.error=Dd),s.complete===void 0&&(s.complete=Dd);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NC(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Dd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(t){return t&&t._delegate?t._delegate:t}class jr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new lC;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CC(e))try{this.getOrInitializeService({instanceIdentifier:ts})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ts){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ts){return this.instances.has(e)}getOptions(e=ts){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);r===u&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:AC(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ts){return this.component?this.component.multipleInstances?e:ts:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AC(t){return t===ts?void 0:t}function CC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new bC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ne||(ne={}));const RC={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},PC=ne.INFO,jC={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},DC=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=jC[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bm{constructor(e){this.name=e,this._logLevel=PC,this._logHandler=DC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...e),this._logHandler(this,ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...e),this._logHandler(this,ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...e),this._logHandler(this,ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...e),this._logHandler(this,ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...e),this._logHandler(this,ne.ERROR,...e)}}const OC=(t,e)=>e.some(n=>t instanceof n);let Xy,Zy;function LC(){return Xy||(Xy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VC(){return Zy||(Zy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Uw=new WeakMap,Yh=new WeakMap,$w=new WeakMap,Od=new WeakMap,Am=new WeakMap;function MC(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Nr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Uw.set(n,t)}).catch(()=>{}),Am.set(e,t),e}function FC(t){if(Yh.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Yh.set(t,e)}let Jh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Yh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$w.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Nr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function UC(t){Jh=t(Jh)}function $C(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ld(this),e,...n);return $w.set(r,e.sort?e.sort():[e]),Nr(r)}:VC().includes(t)?function(...e){return t.apply(Ld(this),e),Nr(Uw.get(this))}:function(...e){return Nr(t.apply(Ld(this),e))}}function zC(t){return typeof t=="function"?$C(t):(t instanceof IDBTransaction&&FC(t),OC(t,LC())?new Proxy(t,Jh):t)}function Nr(t){if(t instanceof IDBRequest)return MC(t);if(Od.has(t))return Od.get(t);const e=zC(t);return e!==t&&(Od.set(t,e),Am.set(e,t)),e}const Ld=t=>Am.get(t);function BC(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),u=Nr(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Nr(o.result),c.oldVersion,c.newVersion,Nr(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const HC=["get","getKey","getAll","getAllKeys","count"],qC=["put","add","delete","clear"],Vd=new Map;function ev(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vd.get(e))return Vd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=qC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||HC.includes(n)))return;const i=async function(o,...u){const c=this.transaction(o,s?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(u.shift())),(await Promise.all([d[n](...u),s&&c.done]))[0]};return Vd.set(e,i),i}UC(t=>({...t,get:(e,n,r)=>ev(e,n)||t.get(e,n,r),has:(e,n)=>!!ev(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(KC(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function KC(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xh="@firebase/app",tv="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gn=new bm("@firebase/app"),GC="@firebase/app-compat",QC="@firebase/analytics-compat",YC="@firebase/analytics",JC="@firebase/app-check-compat",XC="@firebase/app-check",ZC="@firebase/auth",ek="@firebase/auth-compat",tk="@firebase/database",nk="@firebase/data-connect",rk="@firebase/database-compat",sk="@firebase/functions",ik="@firebase/functions-compat",ok="@firebase/installations",ak="@firebase/installations-compat",lk="@firebase/messaging",uk="@firebase/messaging-compat",ck="@firebase/performance",dk="@firebase/performance-compat",hk="@firebase/remote-config",fk="@firebase/remote-config-compat",mk="@firebase/storage",pk="@firebase/storage-compat",gk="@firebase/firestore",yk="@firebase/ai",vk="@firebase/firestore-compat",_k="firebase",xk="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh="[DEFAULT]",wk={[Xh]:"fire-core",[GC]:"fire-core-compat",[YC]:"fire-analytics",[QC]:"fire-analytics-compat",[XC]:"fire-app-check",[JC]:"fire-app-check-compat",[ZC]:"fire-auth",[ek]:"fire-auth-compat",[tk]:"fire-rtdb",[nk]:"fire-data-connect",[rk]:"fire-rtdb-compat",[sk]:"fire-fn",[ik]:"fire-fn-compat",[ok]:"fire-iid",[ak]:"fire-iid-compat",[lk]:"fire-fcm",[uk]:"fire-fcm-compat",[ck]:"fire-perf",[dk]:"fire-perf-compat",[hk]:"fire-rc",[fk]:"fire-rc-compat",[mk]:"fire-gcs",[pk]:"fire-gcs-compat",[gk]:"fire-fst",[vk]:"fire-fst-compat",[yk]:"fire-vertex","fire-js":"fire-js",[_k]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=new Map,Ek=new Map,ef=new Map;function nv(t,e){try{t.container.addComponent(e)}catch(n){Gn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function gs(t){const e=t.name;if(ef.has(e))return Gn.debug(`There were multiple attempts to register component ${e}.`),!1;ef.set(e,t);for(const n of sa.values())nv(n,t);for(const n of Ek.values())nv(n,t);return!0}function hc(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function $t(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},br=new Sa("app","Firebase",Tk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts=xk;function zw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Zh,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw br.create("bad-app-name",{appName:String(s)});if(n||(n=Vw()),!n)throw br.create("no-options");const i=sa.get(s);if(i){if(ps(n,i.options)&&ps(r,i.config))return i;throw br.create("duplicate-app",{appName:s})}const o=new kC(s);for(const c of ef.values())o.addComponent(c);const u=new Ik(n,r,o);return sa.set(s,u),u}function fc(t=Zh){const e=sa.get(t);if(!e&&t===Zh&&Vw())return zw();if(!e)throw br.create("no-app",{appName:t});return e}function Sk(){return Array.from(sa.values())}function _n(t,e,n){let r=wk[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gn.warn(o.join(" "));return}gs(new jr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk="firebase-heartbeat-database",bk=1,ia="firebase-heartbeat-store";let Md=null;function Bw(){return Md||(Md=BC(Nk,bk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ia)}catch(n){console.warn(n)}}}}).catch(t=>{throw br.create("idb-open",{originalErrorMessage:t.message})})),Md}async function Ak(t){try{const n=(await Bw()).transaction(ia),r=await n.objectStore(ia).get(Hw(t));return await n.done,r}catch(e){if(e instanceof Cn)Gn.warn(e.message);else{const n=br.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gn.warn(n.message)}}}async function rv(t,e){try{const r=(await Bw()).transaction(ia,"readwrite");await r.objectStore(ia).put(e,Hw(t)),await r.done}catch(n){if(n instanceof Cn)Gn.warn(n.message);else{const r=br.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Gn.warn(r.message)}}}function Hw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck=1024,kk=30;class Rk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new jk(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=sv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>kk){const o=Dk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Gn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=sv(),{heartbeatsToSend:r,unsentEntries:s}=Pk(this._heartbeatsCache.heartbeats),i=Tu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Gn.warn(n),""}}}function sv(){return new Date().toISOString().substring(0,10)}function Pk(t,e=Ck){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),iv(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),iv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class jk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vC()?_C().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Ak(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return rv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return rv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function iv(t){return Tu(JSON.stringify({version:2,heartbeats:t})).length}function Dk(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(t){gs(new jr("platform-logger",e=>new WC(e),"PRIVATE")),gs(new jr("heartbeat",e=>new Rk(e),"PRIVATE")),_n(Xh,tv,t),_n(Xh,tv,"esm2020"),_n("fire-js","")}Ok("");var Lk="firebase",Vk="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n(Lk,Vk,"app");var ov=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ar,qw;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,v){function I(){}I.prototype=v.prototype,x.F=v.prototype,x.prototype=new I,x.prototype.constructor=x,x.D=function(N,A,P){for(var S=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)S[ge-2]=arguments[ge];return v.prototype[A].apply(N,S)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(x,v,I){I||(I=0);const N=Array(16);if(typeof v=="string")for(var A=0;A<16;++A)N[A]=v.charCodeAt(I++)|v.charCodeAt(I++)<<8|v.charCodeAt(I++)<<16|v.charCodeAt(I++)<<24;else for(A=0;A<16;++A)N[A]=v[I++]|v[I++]<<8|v[I++]<<16|v[I++]<<24;v=x.g[0],I=x.g[1],A=x.g[2];let P=x.g[3],S;S=v+(P^I&(A^P))+N[0]+3614090360&4294967295,v=I+(S<<7&4294967295|S>>>25),S=P+(A^v&(I^A))+N[1]+3905402710&4294967295,P=v+(S<<12&4294967295|S>>>20),S=A+(I^P&(v^I))+N[2]+606105819&4294967295,A=P+(S<<17&4294967295|S>>>15),S=I+(v^A&(P^v))+N[3]+3250441966&4294967295,I=A+(S<<22&4294967295|S>>>10),S=v+(P^I&(A^P))+N[4]+4118548399&4294967295,v=I+(S<<7&4294967295|S>>>25),S=P+(A^v&(I^A))+N[5]+1200080426&4294967295,P=v+(S<<12&4294967295|S>>>20),S=A+(I^P&(v^I))+N[6]+2821735955&4294967295,A=P+(S<<17&4294967295|S>>>15),S=I+(v^A&(P^v))+N[7]+4249261313&4294967295,I=A+(S<<22&4294967295|S>>>10),S=v+(P^I&(A^P))+N[8]+1770035416&4294967295,v=I+(S<<7&4294967295|S>>>25),S=P+(A^v&(I^A))+N[9]+2336552879&4294967295,P=v+(S<<12&4294967295|S>>>20),S=A+(I^P&(v^I))+N[10]+4294925233&4294967295,A=P+(S<<17&4294967295|S>>>15),S=I+(v^A&(P^v))+N[11]+2304563134&4294967295,I=A+(S<<22&4294967295|S>>>10),S=v+(P^I&(A^P))+N[12]+1804603682&4294967295,v=I+(S<<7&4294967295|S>>>25),S=P+(A^v&(I^A))+N[13]+4254626195&4294967295,P=v+(S<<12&4294967295|S>>>20),S=A+(I^P&(v^I))+N[14]+2792965006&4294967295,A=P+(S<<17&4294967295|S>>>15),S=I+(v^A&(P^v))+N[15]+1236535329&4294967295,I=A+(S<<22&4294967295|S>>>10),S=v+(A^P&(I^A))+N[1]+4129170786&4294967295,v=I+(S<<5&4294967295|S>>>27),S=P+(I^A&(v^I))+N[6]+3225465664&4294967295,P=v+(S<<9&4294967295|S>>>23),S=A+(v^I&(P^v))+N[11]+643717713&4294967295,A=P+(S<<14&4294967295|S>>>18),S=I+(P^v&(A^P))+N[0]+3921069994&4294967295,I=A+(S<<20&4294967295|S>>>12),S=v+(A^P&(I^A))+N[5]+3593408605&4294967295,v=I+(S<<5&4294967295|S>>>27),S=P+(I^A&(v^I))+N[10]+38016083&4294967295,P=v+(S<<9&4294967295|S>>>23),S=A+(v^I&(P^v))+N[15]+3634488961&4294967295,A=P+(S<<14&4294967295|S>>>18),S=I+(P^v&(A^P))+N[4]+3889429448&4294967295,I=A+(S<<20&4294967295|S>>>12),S=v+(A^P&(I^A))+N[9]+568446438&4294967295,v=I+(S<<5&4294967295|S>>>27),S=P+(I^A&(v^I))+N[14]+3275163606&4294967295,P=v+(S<<9&4294967295|S>>>23),S=A+(v^I&(P^v))+N[3]+4107603335&4294967295,A=P+(S<<14&4294967295|S>>>18),S=I+(P^v&(A^P))+N[8]+1163531501&4294967295,I=A+(S<<20&4294967295|S>>>12),S=v+(A^P&(I^A))+N[13]+2850285829&4294967295,v=I+(S<<5&4294967295|S>>>27),S=P+(I^A&(v^I))+N[2]+4243563512&4294967295,P=v+(S<<9&4294967295|S>>>23),S=A+(v^I&(P^v))+N[7]+1735328473&4294967295,A=P+(S<<14&4294967295|S>>>18),S=I+(P^v&(A^P))+N[12]+2368359562&4294967295,I=A+(S<<20&4294967295|S>>>12),S=v+(I^A^P)+N[5]+4294588738&4294967295,v=I+(S<<4&4294967295|S>>>28),S=P+(v^I^A)+N[8]+2272392833&4294967295,P=v+(S<<11&4294967295|S>>>21),S=A+(P^v^I)+N[11]+1839030562&4294967295,A=P+(S<<16&4294967295|S>>>16),S=I+(A^P^v)+N[14]+4259657740&4294967295,I=A+(S<<23&4294967295|S>>>9),S=v+(I^A^P)+N[1]+2763975236&4294967295,v=I+(S<<4&4294967295|S>>>28),S=P+(v^I^A)+N[4]+1272893353&4294967295,P=v+(S<<11&4294967295|S>>>21),S=A+(P^v^I)+N[7]+4139469664&4294967295,A=P+(S<<16&4294967295|S>>>16),S=I+(A^P^v)+N[10]+3200236656&4294967295,I=A+(S<<23&4294967295|S>>>9),S=v+(I^A^P)+N[13]+681279174&4294967295,v=I+(S<<4&4294967295|S>>>28),S=P+(v^I^A)+N[0]+3936430074&4294967295,P=v+(S<<11&4294967295|S>>>21),S=A+(P^v^I)+N[3]+3572445317&4294967295,A=P+(S<<16&4294967295|S>>>16),S=I+(A^P^v)+N[6]+76029189&4294967295,I=A+(S<<23&4294967295|S>>>9),S=v+(I^A^P)+N[9]+3654602809&4294967295,v=I+(S<<4&4294967295|S>>>28),S=P+(v^I^A)+N[12]+3873151461&4294967295,P=v+(S<<11&4294967295|S>>>21),S=A+(P^v^I)+N[15]+530742520&4294967295,A=P+(S<<16&4294967295|S>>>16),S=I+(A^P^v)+N[2]+3299628645&4294967295,I=A+(S<<23&4294967295|S>>>9),S=v+(A^(I|~P))+N[0]+4096336452&4294967295,v=I+(S<<6&4294967295|S>>>26),S=P+(I^(v|~A))+N[7]+1126891415&4294967295,P=v+(S<<10&4294967295|S>>>22),S=A+(v^(P|~I))+N[14]+2878612391&4294967295,A=P+(S<<15&4294967295|S>>>17),S=I+(P^(A|~v))+N[5]+4237533241&4294967295,I=A+(S<<21&4294967295|S>>>11),S=v+(A^(I|~P))+N[12]+1700485571&4294967295,v=I+(S<<6&4294967295|S>>>26),S=P+(I^(v|~A))+N[3]+2399980690&4294967295,P=v+(S<<10&4294967295|S>>>22),S=A+(v^(P|~I))+N[10]+4293915773&4294967295,A=P+(S<<15&4294967295|S>>>17),S=I+(P^(A|~v))+N[1]+2240044497&4294967295,I=A+(S<<21&4294967295|S>>>11),S=v+(A^(I|~P))+N[8]+1873313359&4294967295,v=I+(S<<6&4294967295|S>>>26),S=P+(I^(v|~A))+N[15]+4264355552&4294967295,P=v+(S<<10&4294967295|S>>>22),S=A+(v^(P|~I))+N[6]+2734768916&4294967295,A=P+(S<<15&4294967295|S>>>17),S=I+(P^(A|~v))+N[13]+1309151649&4294967295,I=A+(S<<21&4294967295|S>>>11),S=v+(A^(I|~P))+N[4]+4149444226&4294967295,v=I+(S<<6&4294967295|S>>>26),S=P+(I^(v|~A))+N[11]+3174756917&4294967295,P=v+(S<<10&4294967295|S>>>22),S=A+(v^(P|~I))+N[2]+718787259&4294967295,A=P+(S<<15&4294967295|S>>>17),S=I+(P^(A|~v))+N[9]+3951481745&4294967295,x.g[0]=x.g[0]+v&4294967295,x.g[1]=x.g[1]+(A+(S<<21&4294967295|S>>>11))&4294967295,x.g[2]=x.g[2]+A&4294967295,x.g[3]=x.g[3]+P&4294967295}r.prototype.v=function(x,v){v===void 0&&(v=x.length);const I=v-this.blockSize,N=this.C;let A=this.h,P=0;for(;P<v;){if(A==0)for(;P<=I;)s(this,x,P),P+=this.blockSize;if(typeof x=="string"){for(;P<v;)if(N[A++]=x.charCodeAt(P++),A==this.blockSize){s(this,N),A=0;break}}else for(;P<v;)if(N[A++]=x[P++],A==this.blockSize){s(this,N),A=0;break}}this.h=A,this.o+=v},r.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var v=1;v<x.length-8;++v)x[v]=0;v=this.o*8;for(var I=x.length-8;I<x.length;++I)x[I]=v&255,v/=256;for(this.v(x),x=Array(16),v=0,I=0;I<4;++I)for(let N=0;N<32;N+=8)x[v++]=this.g[I]>>>N&255;return x};function i(x,v){var I=u;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=v(x)}function o(x,v){this.h=v;const I=[];let N=!0;for(let A=x.length-1;A>=0;A--){const P=x[A]|0;N&&P==v||(I[A]=P,N=!1)}this.g=I}var u={};function c(x){return-128<=x&&x<128?i(x,function(v){return new o([v|0],v<0?-1:0)}):new o([x|0],x<0?-1:0)}function d(x){if(isNaN(x)||!isFinite(x))return m;if(x<0)return k(d(-x));const v=[];let I=1;for(let N=0;x>=I;N++)v[N]=x/I|0,I*=4294967296;return new o(v,0)}function f(x,v){if(x.length==0)throw Error("number format error: empty string");if(v=v||10,v<2||36<v)throw Error("radix out of range: "+v);if(x.charAt(0)=="-")return k(f(x.substring(1),v));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=d(Math.pow(v,8));let N=m;for(let P=0;P<x.length;P+=8){var A=Math.min(8,x.length-P);const S=parseInt(x.substring(P,P+A),v);A<8?(A=d(Math.pow(v,A)),N=N.j(A).add(d(S))):(N=N.j(I),N=N.add(d(S)))}return N}var m=c(0),g=c(1),T=c(16777216);t=o.prototype,t.m=function(){if(C(this))return-k(this).m();let x=0,v=1;for(let I=0;I<this.g.length;I++){const N=this.i(I);x+=(N>=0?N:4294967296+N)*v,v*=4294967296}return x},t.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(b(this))return"0";if(C(this))return"-"+k(this).toString(x);const v=d(Math.pow(x,6));var I=this;let N="";for(;;){const A=D(I,v).g;I=E(I,A.j(v));let P=((I.g.length>0?I.g[0]:I.h)>>>0).toString(x);if(I=A,b(I))return P+N;for(;P.length<6;)P="0"+P;N=P+N}},t.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function b(x){if(x.h!=0)return!1;for(let v=0;v<x.g.length;v++)if(x.g[v]!=0)return!1;return!0}function C(x){return x.h==-1}t.l=function(x){return x=E(this,x),C(x)?-1:b(x)?0:1};function k(x){const v=x.g.length,I=[];for(let N=0;N<v;N++)I[N]=~x.g[N];return new o(I,~x.h).add(g)}t.abs=function(){return C(this)?k(this):this},t.add=function(x){const v=Math.max(this.g.length,x.g.length),I=[];let N=0;for(let A=0;A<=v;A++){let P=N+(this.i(A)&65535)+(x.i(A)&65535),S=(P>>>16)+(this.i(A)>>>16)+(x.i(A)>>>16);N=S>>>16,P&=65535,S&=65535,I[A]=S<<16|P}return new o(I,I[I.length-1]&-2147483648?-1:0)};function E(x,v){return x.add(k(v))}t.j=function(x){if(b(this)||b(x))return m;if(C(this))return C(x)?k(this).j(k(x)):k(k(this).j(x));if(C(x))return k(this.j(k(x)));if(this.l(T)<0&&x.l(T)<0)return d(this.m()*x.m());const v=this.g.length+x.g.length,I=[];for(var N=0;N<2*v;N++)I[N]=0;for(N=0;N<this.g.length;N++)for(let A=0;A<x.g.length;A++){const P=this.i(N)>>>16,S=this.i(N)&65535,ge=x.i(A)>>>16,Te=x.i(A)&65535;I[2*N+2*A]+=S*Te,y(I,2*N+2*A),I[2*N+2*A+1]+=P*Te,y(I,2*N+2*A+1),I[2*N+2*A+1]+=S*ge,y(I,2*N+2*A+1),I[2*N+2*A+2]+=P*ge,y(I,2*N+2*A+2)}for(x=0;x<v;x++)I[x]=I[2*x+1]<<16|I[2*x];for(x=v;x<2*v;x++)I[x]=0;return new o(I,0)};function y(x,v){for(;(x[v]&65535)!=x[v];)x[v+1]+=x[v]>>>16,x[v]&=65535,v++}function w(x,v){this.g=x,this.h=v}function D(x,v){if(b(v))throw Error("division by zero");if(b(x))return new w(m,m);if(C(x))return v=D(k(x),v),new w(k(v.g),k(v.h));if(C(v))return v=D(x,k(v)),new w(k(v.g),v.h);if(x.g.length>30){if(C(x)||C(v))throw Error("slowDivide_ only works with positive integers.");for(var I=g,N=v;N.l(x)<=0;)I=L(I),N=L(N);var A=F(I,1),P=F(N,1);for(N=F(N,2),I=F(I,2);!b(N);){var S=P.add(N);S.l(x)<=0&&(A=A.add(I),P=S),N=F(N,1),I=F(I,1)}return v=E(x,A.j(v)),new w(A,v)}for(A=m;x.l(v)>=0;){for(I=Math.max(1,Math.floor(x.m()/v.m())),N=Math.ceil(Math.log(I)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),P=d(I),S=P.j(v);C(S)||S.l(x)>0;)I-=N,P=d(I),S=P.j(v);b(P)&&(P=g),A=A.add(P),x=E(x,S)}return new w(A,x)}t.B=function(x){return D(this,x).h},t.and=function(x){const v=Math.max(this.g.length,x.g.length),I=[];for(let N=0;N<v;N++)I[N]=this.i(N)&x.i(N);return new o(I,this.h&x.h)},t.or=function(x){const v=Math.max(this.g.length,x.g.length),I=[];for(let N=0;N<v;N++)I[N]=this.i(N)|x.i(N);return new o(I,this.h|x.h)},t.xor=function(x){const v=Math.max(this.g.length,x.g.length),I=[];for(let N=0;N<v;N++)I[N]=this.i(N)^x.i(N);return new o(I,this.h^x.h)};function L(x){const v=x.g.length+1,I=[];for(let N=0;N<v;N++)I[N]=x.i(N)<<1|x.i(N-1)>>>31;return new o(I,x.h)}function F(x,v){const I=v>>5;v%=32;const N=x.g.length-I,A=[];for(let P=0;P<N;P++)A[P]=v>0?x.i(P+I)>>>v|x.i(P+I+1)<<32-v:x.i(P+I);return new o(A,x.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,qw=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=f,Ar=o}).apply(typeof ov<"u"?ov:typeof self<"u"?self:typeof window<"u"?window:{});var yl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ww,xo,Kw,Ul,tf,Gw,Qw,Yw;(function(){var t,e=Object.defineProperty;function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof yl=="object"&&yl];for(var h=0;h<a.length;++h){var p=a[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function s(a,h){if(h)e:{var p=r;a=a.split(".");for(var _=0;_<a.length-1;_++){var j=a[_];if(!(j in p))break e;p=p[j]}a=a[a.length-1],_=p[a],h=h(_),h!=_&&h!=null&&e(p,a,{configurable:!0,writable:!0,value:h})}}s("Symbol.dispose",function(a){return a||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(a){return a||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(a){return a||function(h){var p=[],_;for(_ in h)Object.prototype.hasOwnProperty.call(h,_)&&p.push([_,h[_]]);return p}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function u(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function c(a,h,p){return a.call.apply(a.bind,arguments)}function d(a,h,p){return d=c,d.apply(null,arguments)}function f(a,h){var p=Array.prototype.slice.call(arguments,1);return function(){var _=p.slice();return _.push.apply(_,arguments),a.apply(this,_)}}function m(a,h){function p(){}p.prototype=h.prototype,a.Z=h.prototype,a.prototype=new p,a.prototype.constructor=a,a.Ob=function(_,j,O){for(var $=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)$[ee-2]=arguments[ee];return h.prototype[j].apply(_,$)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?a=>a&&AsyncContext.Snapshot.wrap(a):a=>a;function T(a){const h=a.length;if(h>0){const p=Array(h);for(let _=0;_<h;_++)p[_]=a[_];return p}return[]}function b(a,h){for(let _=1;_<arguments.length;_++){const j=arguments[_];var p=typeof j;if(p=p!="object"?p:j?Array.isArray(j)?"array":p:"null",p=="array"||p=="object"&&typeof j.length=="number"){p=a.length||0;const O=j.length||0;a.length=p+O;for(let $=0;$<O;$++)a[p+$]=j[$]}else a.push(j)}}class C{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return this.h>0?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function k(a){o.setTimeout(()=>{throw a},0)}function E(){var a=x;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class y{constructor(){this.h=this.g=null}add(h,p){const _=w.get();_.set(h,p),this.h?this.h.next=_:this.g=_,this.h=_}}var w=new C(()=>new D,a=>a.reset());class D{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let L,F=!1,x=new y,v=()=>{const a=Promise.resolve(void 0);L=()=>{a.then(I)}};function I(){for(var a;a=E();){try{a.h.call(a.g)}catch(p){k(p)}var h=w;h.j(a),h.h<100&&(h.h++,a.next=h.g,h.g=a)}F=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function A(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}A.prototype.h=function(){this.defaultPrevented=!0};var P=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const p=()=>{};o.addEventListener("test",p,h),o.removeEventListener("test",p,h)}catch{}return a}();function S(a){return/^[\s\xa0]*$/.test(a)}function ge(a,h){A.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a&&this.init(a,h)}m(ge,A),ge.prototype.init=function(a,h){const p=this.type=a.type,_=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget,h||(p=="mouseover"?h=a.fromElement:p=="mouseout"&&(h=a.toElement)),this.relatedTarget=h,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=a.pointerType,this.state=a.state,this.i=a,a.defaultPrevented&&ge.Z.h.call(this)},ge.prototype.h=function(){ge.Z.h.call(this);const a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Te="closure_listenable_"+(Math.random()*1e6|0),Ye=0;function Lt(a,h,p,_,j){this.listener=a,this.proxy=null,this.src=h,this.type=p,this.capture=!!_,this.ha=j,this.key=++Ye,this.da=this.fa=!1}function z(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function G(a,h,p){for(const _ in a)h.call(p,a[_],_,a)}function J(a,h){for(const p in a)h.call(void 0,a[p],p,a)}function ce(a){const h={};for(const p in a)h[p]=a[p];return h}const fe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Vt(a,h){let p,_;for(let j=1;j<arguments.length;j++){_=arguments[j];for(p in _)a[p]=_[p];for(let O=0;O<fe.length;O++)p=fe[O],Object.prototype.hasOwnProperty.call(_,p)&&(a[p]=_[p])}}function Re(a){this.src=a,this.g={},this.h=0}Re.prototype.add=function(a,h,p,_,j){const O=a.toString();a=this.g[O],a||(a=this.g[O]=[],this.h++);const $=le(a,h,_,j);return $>-1?(h=a[$],p||(h.fa=!1)):(h=new Lt(h,this.src,O,!!_,j),h.fa=p,a.push(h)),h};function W(a,h){const p=h.type;if(p in a.g){var _=a.g[p],j=Array.prototype.indexOf.call(_,h,void 0),O;(O=j>=0)&&Array.prototype.splice.call(_,j,1),O&&(z(h),a.g[p].length==0&&(delete a.g[p],a.h--))}}function le(a,h,p,_){for(let j=0;j<a.length;++j){const O=a[j];if(!O.da&&O.listener==h&&O.capture==!!p&&O.ha==_)return j}return-1}var rt="closure_lm_"+(Math.random()*1e6|0),Kr={};function La(a,h,p,_,j){if(Array.isArray(h)){for(let O=0;O<h.length;O++)La(a,h[O],p,_,j);return null}return p=Np(p),a&&a[Te]?a.J(h,p,u(_)?!!_.capture:!1,j):Lc(a,h,p,!1,_,j)}function Lc(a,h,p,_,j,O){if(!h)throw Error("Invalid event type");const $=u(j)?!!j.capture:!!j;let ee=Vc(a);if(ee||(a[rt]=ee=new Re(a)),p=ee.add(h,p,_,$,O),p.proxy)return p;if(_=Va(),p.proxy=_,_.src=a,_.listener=p,a.addEventListener)P||(j=$),j===void 0&&(j=!1),a.addEventListener(h.toString(),_,j);else if(a.attachEvent)a.attachEvent(Ma(h.toString()),_);else if(a.addListener&&a.removeListener)a.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Va(){function a(p){return h.call(a.src,a.listener,p)}const h=uT;return a}function Fi(a,h,p,_,j){if(Array.isArray(h))for(var O=0;O<h.length;O++)Fi(a,h[O],p,_,j);else _=u(_)?!!_.capture:!!_,p=Np(p),a&&a[Te]?(a=a.i,O=String(h).toString(),O in a.g&&(h=a.g[O],p=le(h,p,_,j),p>-1&&(z(h[p]),Array.prototype.splice.call(h,p,1),h.length==0&&(delete a.g[O],a.h--)))):a&&(a=Vc(a))&&(h=a.g[h.toString()],a=-1,h&&(a=le(h,p,_,j)),(p=a>-1?h[a]:null)&&Rn(p))}function Rn(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[Te])W(h.i,a);else{var p=a.type,_=a.proxy;h.removeEventListener?h.removeEventListener(p,_,a.capture):h.detachEvent?h.detachEvent(Ma(p),_):h.addListener&&h.removeListener&&h.removeListener(_),(p=Vc(h))?(W(p,a),p.h==0&&(p.src=null,h[rt]=null)):z(a)}}}function Ma(a){return a in Kr?Kr[a]:Kr[a]="on"+a}function uT(a,h){if(a.da)a=!0;else{h=new ge(h,this);const p=a.listener,_=a.ha||a.src;a.fa&&Rn(a),a=p.call(_,h)}return a}function Vc(a){return a=a[rt],a instanceof Re?a:null}var Mc="__closure_events_fn_"+(Math.random()*1e9>>>0);function Np(a){return typeof a=="function"?a:(a[Mc]||(a[Mc]=function(h){return a.handleEvent(h)}),a[Mc])}function st(){N.call(this),this.i=new Re(this),this.M=this,this.G=null}m(st,N),st.prototype[Te]=!0,st.prototype.removeEventListener=function(a,h,p,_){Fi(this,a,h,p,_)};function pt(a,h){var p,_=a.G;if(_)for(p=[];_;_=_.G)p.push(_);if(a=a.M,_=h.type||h,typeof h=="string")h=new A(h,a);else if(h instanceof A)h.target=h.target||a;else{var j=h;h=new A(_,a),Vt(h,j)}j=!0;let O,$;if(p)for($=p.length-1;$>=0;$--)O=h.g=p[$],j=Fa(O,_,!0,h)&&j;if(O=h.g=a,j=Fa(O,_,!0,h)&&j,j=Fa(O,_,!1,h)&&j,p)for($=0;$<p.length;$++)O=h.g=p[$],j=Fa(O,_,!1,h)&&j}st.prototype.N=function(){if(st.Z.N.call(this),this.i){var a=this.i;for(const h in a.g){const p=a.g[h];for(let _=0;_<p.length;_++)z(p[_]);delete a.g[h],a.h--}}this.G=null},st.prototype.J=function(a,h,p,_){return this.i.add(String(a),h,!1,p,_)},st.prototype.K=function(a,h,p,_){return this.i.add(String(a),h,!0,p,_)};function Fa(a,h,p,_){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();let j=!0;for(let O=0;O<h.length;++O){const $=h[O];if($&&!$.da&&$.capture==p){const ee=$.listener,Fe=$.ha||$.src;$.fa&&W(a.i,$),j=ee.call(Fe,_)!==!1&&j}}return j&&!_.defaultPrevented}function cT(a,h){if(typeof a!="function")if(a&&typeof a.handleEvent=="function")a=d(a.handleEvent,a);else throw Error("Invalid listener argument");return Number(h)>2147483647?-1:o.setTimeout(a,h||0)}function bp(a){a.g=cT(()=>{a.g=null,a.i&&(a.i=!1,bp(a))},a.l);const h=a.h;a.h=null,a.m.apply(null,h)}class dT extends N{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:bp(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ui(a){N.call(this),this.h=a,this.g={}}m(Ui,N);var Ap=[];function Cp(a){G(a.g,function(h,p){this.g.hasOwnProperty(p)&&Rn(h)},a),a.g={}}Ui.prototype.N=function(){Ui.Z.N.call(this),Cp(this)},Ui.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fc=o.JSON.stringify,hT=o.JSON.parse,fT=class{stringify(a){return o.JSON.stringify(a,void 0)}parse(a){return o.JSON.parse(a,void 0)}};function kp(){}function Rp(){}var $i={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Uc(){A.call(this,"d")}m(Uc,A);function $c(){A.call(this,"c")}m($c,A);var Gr={},Pp=null;function Ua(){return Pp=Pp||new st}Gr.Ia="serverreachability";function jp(a){A.call(this,Gr.Ia,a)}m(jp,A);function zi(a){const h=Ua();pt(h,new jp(h))}Gr.STAT_EVENT="statevent";function Dp(a,h){A.call(this,Gr.STAT_EVENT,a),this.stat=h}m(Dp,A);function gt(a){const h=Ua();pt(h,new Dp(h,a))}Gr.Ja="timingevent";function Op(a,h){A.call(this,Gr.Ja,a),this.size=h}m(Op,A);function Bi(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){a()},h)}function Hi(){this.g=!0}Hi.prototype.ua=function(){this.g=!1};function mT(a,h,p,_,j,O){a.info(function(){if(a.g)if(O){var $="",ee=O.split("&");for(let he=0;he<ee.length;he++){var Fe=ee[he].split("=");if(Fe.length>1){const qe=Fe[0];Fe=Fe[1];const hn=qe.split("_");$=hn.length>=2&&hn[1]=="type"?$+(qe+"="+Fe+"&"):$+(qe+"=redacted&")}}}else $=null;else $=O;return"XMLHTTP REQ ("+_+") [attempt "+j+"]: "+h+`
`+p+`
`+$})}function pT(a,h,p,_,j,O,$){a.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+j+"]: "+h+`
`+p+`
`+O+" "+$})}function bs(a,h,p,_){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+yT(a,p)+(_?" "+_:"")})}function gT(a,h){a.info(function(){return"TIMEOUT: "+h})}Hi.prototype.info=function(){};function yT(a,h){if(!a.g)return h;if(!h)return null;try{const O=JSON.parse(h);if(O){for(a=0;a<O.length;a++)if(Array.isArray(O[a])){var p=O[a];if(!(p.length<2)){var _=p[1];if(Array.isArray(_)&&!(_.length<1)){var j=_[0];if(j!="noop"&&j!="stop"&&j!="close")for(let $=1;$<_.length;$++)_[$]=""}}}}return Fc(O)}catch{return h}}var $a={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Lp={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Vp;function zc(){}m(zc,kp),zc.prototype.g=function(){return new XMLHttpRequest},Vp=new zc;function qi(a){return encodeURIComponent(String(a))}function vT(a){var h=1;a=a.split(":");const p=[];for(;h>0&&a.length;)p.push(a.shift()),h--;return a.length&&p.push(a.join(":")),p}function Zn(a,h,p,_){this.j=a,this.i=h,this.l=p,this.S=_||1,this.V=new Ui(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Mp}function Mp(){this.i=null,this.g="",this.h=!1}var Fp={},Bc={};function Hc(a,h,p){a.M=1,a.A=Ba(dn(h)),a.u=p,a.R=!0,Up(a,null)}function Up(a,h){a.F=Date.now(),za(a),a.B=dn(a.A);var p=a.B,_=a.S;Array.isArray(_)||(_=[String(_)]),Zp(p.i,"t",_),a.C=0,p=a.j.L,a.h=new Mp,a.g=yg(a.j,p?h:null,!a.u),a.P>0&&(a.O=new dT(d(a.Y,a,a.g),a.P)),h=a.V,p=a.g,_=a.ba;var j="readystatechange";Array.isArray(j)||(j&&(Ap[0]=j.toString()),j=Ap);for(let O=0;O<j.length;O++){const $=La(p,j[O],_||h.handleEvent,!1,h.h||h);if(!$)break;h.g[$.key]=$}h=a.J?ce(a.J):{},a.u?(a.v||(a.v="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.B,a.v,a.u,h)):(a.v="GET",a.g.ea(a.B,a.v,null,h)),zi(),mT(a.i,a.v,a.B,a.l,a.S,a.u)}Zn.prototype.ba=function(a){a=a.target;const h=this.O;h&&nr(a)==3?h.j():this.Y(a)},Zn.prototype.Y=function(a){try{if(a==this.g)e:{const ee=nr(this.g),Fe=this.g.ya(),he=this.g.ca();if(!(ee<3)&&(ee!=3||this.g&&(this.h.h||this.g.la()||og(this.g)))){this.K||ee!=4||Fe==7||(Fe==8||he<=0?zi(3):zi(2)),qc(this);var h=this.g.ca();this.X=h;var p=_T(this);if(this.o=h==200,pT(this.i,this.v,this.B,this.l,this.S,ee,h),this.o){if(this.U&&!this.L){t:{if(this.g){var _,j=this.g;if((_=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(_)){var O=_;break t}}O=null}if(a=O)bs(this.i,this.l,a,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Wc(this,a);else{this.o=!1,this.m=3,gt(12),Qr(this),Wi(this);break e}}if(this.R){a=!0;let qe;for(;!this.K&&this.C<p.length;)if(qe=xT(this,p),qe==Bc){ee==4&&(this.m=4,gt(14),a=!1),bs(this.i,this.l,null,"[Incomplete Response]");break}else if(qe==Fp){this.m=4,gt(15),bs(this.i,this.l,p,"[Invalid Chunk]"),a=!1;break}else bs(this.i,this.l,qe,null),Wc(this,qe);if($p(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ee!=4||p.length!=0||this.h.h||(this.m=1,gt(16),a=!1),this.o=this.o&&a,!a)bs(this.i,this.l,p,"[Invalid Chunked Response]"),Qr(this),Wi(this);else if(p.length>0&&!this.W){this.W=!0;var $=this.j;$.g==this&&$.aa&&!$.P&&($.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),ed($),$.P=!0,gt(11))}}else bs(this.i,this.l,p,null),Wc(this,p);ee==4&&Qr(this),this.o&&!this.K&&(ee==4?fg(this.j,this):(this.o=!1,za(this)))}else DT(this.g),h==400&&p.indexOf("Unknown SID")>0?(this.m=3,gt(12)):(this.m=0,gt(13)),Qr(this),Wi(this)}}}catch{}finally{}};function _T(a){if(!$p(a))return a.g.la();const h=og(a.g);if(h==="")return"";let p="";const _=h.length,j=nr(a.g)==4;if(!a.h.i){if(typeof TextDecoder>"u")return Qr(a),Wi(a),"";a.h.i=new o.TextDecoder}for(let O=0;O<_;O++)a.h.h=!0,p+=a.h.i.decode(h[O],{stream:!(j&&O==_-1)});return h.length=0,a.h.g+=p,a.C=0,a.h.g}function $p(a){return a.g?a.v=="GET"&&a.M!=2&&a.j.Aa:!1}function xT(a,h){var p=a.C,_=h.indexOf(`
`,p);return _==-1?Bc:(p=Number(h.substring(p,_)),isNaN(p)?Fp:(_+=1,_+p>h.length?Bc:(h=h.slice(_,_+p),a.C=_+p,h)))}Zn.prototype.cancel=function(){this.K=!0,Qr(this)};function za(a){a.T=Date.now()+a.H,zp(a,a.H)}function zp(a,h){if(a.D!=null)throw Error("WatchDog timer not null");a.D=Bi(d(a.aa,a),h)}function qc(a){a.D&&(o.clearTimeout(a.D),a.D=null)}Zn.prototype.aa=function(){this.D=null;const a=Date.now();a-this.T>=0?(gT(this.i,this.B),this.M!=2&&(zi(),gt(17)),Qr(this),this.m=2,Wi(this)):zp(this,this.T-a)};function Wi(a){a.j.I==0||a.K||fg(a.j,a)}function Qr(a){qc(a);var h=a.O;h&&typeof h.dispose=="function"&&h.dispose(),a.O=null,Cp(a.V),a.g&&(h=a.g,a.g=null,h.abort(),h.dispose())}function Wc(a,h){try{var p=a.j;if(p.I!=0&&(p.g==a||Kc(p.h,a))){if(!a.L&&Kc(p.h,a)&&p.I==3){try{var _=p.Ba.g.parse(h)}catch{_=null}if(Array.isArray(_)&&_.length==3){var j=_;if(j[0]==0){e:if(!p.v){if(p.g)if(p.g.F+3e3<a.F)Ga(p),Wa(p);else break e;Zc(p),gt(18)}}else p.xa=j[1],0<p.xa-p.K&&j[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=Bi(d(p.Va,p),6e3));qp(p.h)<=1&&p.ta&&(p.ta=void 0)}else Jr(p,11)}else if((a.L||p.g==a)&&Ga(p),!S(h))for(j=p.Ba.g.parse(h),h=0;h<j.length;h++){let he=j[h];const qe=he[0];if(!(qe<=p.K))if(p.K=qe,he=he[1],p.I==2)if(he[0]=="c"){p.M=he[1],p.ba=he[2];const hn=he[3];hn!=null&&(p.ka=hn,p.j.info("VER="+p.ka));const Xr=he[4];Xr!=null&&(p.za=Xr,p.j.info("SVER="+p.za));const rr=he[5];rr!=null&&typeof rr=="number"&&rr>0&&(_=1.5*rr,p.O=_,p.j.info("backChannelRequestTimeoutMs_="+_)),_=p;const sr=a.g;if(sr){const Ya=sr.g?sr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ya){var O=_.h;O.g||Ya.indexOf("spdy")==-1&&Ya.indexOf("quic")==-1&&Ya.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(Gc(O,O.h),O.h=null))}if(_.G){const td=sr.g?sr.g.getResponseHeader("X-HTTP-Session-Id"):null;td&&(_.wa=td,ye(_.J,_.G,td))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-a.F,p.j.info("Handshake RTT: "+p.T+"ms")),_=p;var $=a;if(_.na=gg(_,_.L?_.ba:null,_.W),$.L){Wp(_.h,$);var ee=$,Fe=_.O;Fe&&(ee.H=Fe),ee.D&&(qc(ee),za(ee)),_.g=$}else dg(_);p.i.length>0&&Ka(p)}else he[0]!="stop"&&he[0]!="close"||Jr(p,7);else p.I==3&&(he[0]=="stop"||he[0]=="close"?he[0]=="stop"?Jr(p,7):Xc(p):he[0]!="noop"&&p.l&&p.l.qa(he),p.A=0)}}zi(4)}catch{}}var wT=class{constructor(a,h){this.g=a,this.map=h}};function Bp(a){this.l=a||10,o.PerformanceNavigationTiming?(a=o.performance.getEntriesByType("navigation"),a=a.length>0&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Hp(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function qp(a){return a.h?1:a.g?a.g.size:0}function Kc(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function Gc(a,h){a.g?a.g.add(h):a.h=h}function Wp(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}Bp.prototype.cancel=function(){if(this.i=Kp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Kp(a){if(a.h!=null)return a.i.concat(a.h.G);if(a.g!=null&&a.g.size!==0){let h=a.i;for(const p of a.g.values())h=h.concat(p.G);return h}return T(a.i)}var Gp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ET(a,h){if(a){a=a.split("&");for(let p=0;p<a.length;p++){const _=a[p].indexOf("=");let j,O=null;_>=0?(j=a[p].substring(0,_),O=a[p].substring(_+1)):j=a[p],h(j,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function er(a){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let h;a instanceof er?(this.l=a.l,Ki(this,a.j),this.o=a.o,this.g=a.g,Gi(this,a.u),this.h=a.h,Qc(this,eg(a.i)),this.m=a.m):a&&(h=String(a).match(Gp))?(this.l=!1,Ki(this,h[1]||"",!0),this.o=Qi(h[2]||""),this.g=Qi(h[3]||"",!0),Gi(this,h[4]),this.h=Qi(h[5]||"",!0),Qc(this,h[6]||"",!0),this.m=Qi(h[7]||"")):(this.l=!1,this.i=new Ji(null,this.l))}er.prototype.toString=function(){const a=[];var h=this.j;h&&a.push(Yi(h,Qp,!0),":");var p=this.g;return(p||h=="file")&&(a.push("//"),(h=this.o)&&a.push(Yi(h,Qp,!0),"@"),a.push(qi(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&a.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&a.push("/"),a.push(Yi(p,p.charAt(0)=="/"?ST:IT,!0))),(p=this.i.toString())&&a.push("?",p),(p=this.m)&&a.push("#",Yi(p,bT)),a.join("")},er.prototype.resolve=function(a){const h=dn(this);let p=!!a.j;p?Ki(h,a.j):p=!!a.o,p?h.o=a.o:p=!!a.g,p?h.g=a.g:p=a.u!=null;var _=a.h;if(p)Gi(h,a.u);else if(p=!!a.h){if(_.charAt(0)!="/")if(this.g&&!this.h)_="/"+_;else{var j=h.h.lastIndexOf("/");j!=-1&&(_=h.h.slice(0,j+1)+_)}if(j=_,j==".."||j==".")_="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){_=j.lastIndexOf("/",0)==0,j=j.split("/");const O=[];for(let $=0;$<j.length;){const ee=j[$++];ee=="."?_&&$==j.length&&O.push(""):ee==".."?((O.length>1||O.length==1&&O[0]!="")&&O.pop(),_&&$==j.length&&O.push("")):(O.push(ee),_=!0)}_=O.join("/")}else _=j}return p?h.h=_:p=a.i.toString()!=="",p?Qc(h,eg(a.i)):p=!!a.m,p&&(h.m=a.m),h};function dn(a){return new er(a)}function Ki(a,h,p){a.j=p?Qi(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function Gi(a,h){if(h){if(h=Number(h),isNaN(h)||h<0)throw Error("Bad port number "+h);a.u=h}else a.u=null}function Qc(a,h,p){h instanceof Ji?(a.i=h,AT(a.i,a.l)):(p||(h=Yi(h,NT)),a.i=new Ji(h,a.l))}function ye(a,h,p){a.i.set(h,p)}function Ba(a){return ye(a,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),a}function Qi(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Yi(a,h,p){return typeof a=="string"?(a=encodeURI(a).replace(h,TT),p&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function TT(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Qp=/[#\/\?@]/g,IT=/[#\?:]/g,ST=/[#\?]/g,NT=/[#\?@]/g,bT=/#/g;function Ji(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function Yr(a){a.g||(a.g=new Map,a.h=0,a.i&&ET(a.i,function(h,p){a.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}t=Ji.prototype,t.add=function(a,h){Yr(this),this.i=null,a=As(this,a);let p=this.g.get(a);return p||this.g.set(a,p=[]),p.push(h),this.h+=1,this};function Yp(a,h){Yr(a),h=As(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function Jp(a,h){return Yr(a),h=As(a,h),a.g.has(h)}t.forEach=function(a,h){Yr(this),this.g.forEach(function(p,_){p.forEach(function(j){a.call(h,j,_,this)},this)},this)};function Xp(a,h){Yr(a);let p=[];if(typeof h=="string")Jp(a,h)&&(p=p.concat(a.g.get(As(a,h))));else for(a=Array.from(a.g.values()),h=0;h<a.length;h++)p=p.concat(a[h]);return p}t.set=function(a,h){return Yr(this),this.i=null,a=As(this,a),Jp(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},t.get=function(a,h){return a?(a=Xp(this,a),a.length>0?String(a[0]):h):h};function Zp(a,h,p){Yp(a,h),p.length>0&&(a.i=null,a.g.set(As(a,h),T(p)),a.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],h=Array.from(this.g.keys());for(let _=0;_<h.length;_++){var p=h[_];const j=qi(p);p=Xp(this,p);for(let O=0;O<p.length;O++){let $=j;p[O]!==""&&($+="="+qi(p[O])),a.push($)}}return this.i=a.join("&")};function eg(a){const h=new Ji;return h.i=a.i,a.g&&(h.g=new Map(a.g),h.h=a.h),h}function As(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function AT(a,h){h&&!a.j&&(Yr(a),a.i=null,a.g.forEach(function(p,_){const j=_.toLowerCase();_!=j&&(Yp(this,_),Zp(this,j,p))},a)),a.j=h}function CT(a,h){const p=new Hi;if(o.Image){const _=new Image;_.onload=f(tr,p,"TestLoadImage: loaded",!0,h,_),_.onerror=f(tr,p,"TestLoadImage: error",!1,h,_),_.onabort=f(tr,p,"TestLoadImage: abort",!1,h,_),_.ontimeout=f(tr,p,"TestLoadImage: timeout",!1,h,_),o.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=a}else h(!1)}function kT(a,h){const p=new Hi,_=new AbortController,j=setTimeout(()=>{_.abort(),tr(p,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:_.signal}).then(O=>{clearTimeout(j),O.ok?tr(p,"TestPingServer: ok",!0,h):tr(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(j),tr(p,"TestPingServer: error",!1,h)})}function tr(a,h,p,_,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),_(p)}catch{}}function RT(){this.g=new fT}function Yc(a){this.i=a.Sb||null,this.h=a.ab||!1}m(Yc,kp),Yc.prototype.g=function(){return new Ha(this.i,this.h)};function Ha(a,h){st.call(this),this.H=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(Ha,st),t=Ha.prototype,t.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=a,this.D=h,this.readyState=1,Zi(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const h={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};a&&(h.body=a),(this.H||o).fetch(new Request(this.D,h)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Xi(this)),this.readyState=0},t.Pa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Zi(this)),this.g&&(this.readyState=3,Zi(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;tg(this)}else a.text().then(this.Oa.bind(this),this.ga.bind(this))};function tg(a){a.j.read().then(a.Ma.bind(a)).catch(a.ga.bind(a))}t.Ma=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.B.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?Xi(this):Zi(this),this.readyState==3&&tg(this)}},t.Oa=function(a){this.g&&(this.response=this.responseText=a,Xi(this))},t.Na=function(a){this.g&&(this.response=a,Xi(this))},t.ga=function(){this.g&&Xi(this)};function Xi(a){a.readyState=4,a.l=null,a.j=null,a.B=null,Zi(a)}t.setRequestHeader=function(a,h){this.A.append(a,h)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,a.push(p[0]+": "+p[1]),p=h.next();return a.join(`\r
`)};function Zi(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Ha.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function ng(a){let h="";return G(a,function(p,_){h+=_,h+=":",h+=p,h+=`\r
`}),h}function Jc(a,h,p){e:{for(_ in p){var _=!1;break e}_=!0}_||(p=ng(p),typeof a=="string"?p!=null&&qi(p):ye(a,h,p))}function Ce(a){st.call(this),this.headers=new Map,this.L=a||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(Ce,st);var PT=/^https?$/i,jT=["POST","PUT"];t=Ce.prototype,t.Fa=function(a){this.H=a},t.ea=function(a,h,p,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Vp.g(),this.g.onreadystatechange=g(d(this.Ca,this));try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(O){rg(this,O);return}if(a=p||"",p=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var j in _)p.set(j,_[j]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const O of _.keys())p.set(O,_.get(O));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(p.keys()).find(O=>O.toLowerCase()=="content-type"),j=o.FormData&&a instanceof o.FormData,!(Array.prototype.indexOf.call(jT,h,void 0)>=0)||_||j||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[O,$]of p)this.g.setRequestHeader(O,$);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(a),this.v=!1}catch(O){rg(this,O)}};function rg(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.o=5,sg(a),qa(a)}function sg(a){a.A||(a.A=!0,pt(a,"complete"),pt(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=a||7,pt(this,"complete"),pt(this,"abort"),qa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qa(this,!0)),Ce.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ig(this):this.Xa())},t.Xa=function(){ig(this)};function ig(a){if(a.h&&typeof i<"u"){if(a.v&&nr(a)==4)setTimeout(a.Ca.bind(a),0);else if(pt(a,"readystatechange"),nr(a)==4){a.h=!1;try{const O=a.ca();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var _;if(_=O===0){let $=String(a.D).match(Gp)[1]||null;!$&&o.self&&o.self.location&&($=o.self.location.protocol.slice(0,-1)),_=!PT.test($?$.toLowerCase():"")}p=_}if(p)pt(a,"complete"),pt(a,"success");else{a.o=6;try{var j=nr(a)>2?a.g.statusText:""}catch{j=""}a.l=j+" ["+a.ca()+"]",sg(a)}}finally{qa(a)}}}}function qa(a,h){if(a.g){a.m&&(clearTimeout(a.m),a.m=null);const p=a.g;a.g=null,h||pt(a,"ready");try{p.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function nr(a){return a.g?a.g.readyState:0}t.ca=function(){try{return nr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),hT(h)}};function og(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.F){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function DT(a){const h={};a=(a.g&&nr(a)>=2&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<a.length;_++){if(S(a[_]))continue;var p=vT(a[_]);const j=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const O=h[j]||[];h[j]=O,O.push(p)}J(h,function(_){return _.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function eo(a,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[a]||h}function ag(a){this.za=0,this.i=[],this.j=new Hi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=eo("failFast",!1,a),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=eo("baseRetryDelayMs",5e3,a),this.Za=eo("retryDelaySeedMs",1e4,a),this.Ta=eo("forwardChannelMaxRetries",2,a),this.va=eo("forwardChannelRequestTimeoutMs",2e4,a),this.ma=a&&a.xmlHttpFactory||void 0,this.Ua=a&&a.Rb||void 0,this.Aa=a&&a.useFetchStreams||!1,this.O=void 0,this.L=a&&a.supportsCrossDomainXhr||!1,this.M="",this.h=new Bp(a&&a.concurrentRequestLimit),this.Ba=new RT,this.S=a&&a.fastHandshake||!1,this.R=a&&a.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=a&&a.Pb||!1,a&&a.ua&&this.j.ua(),a&&a.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&a&&a.detectBufferingProxy||!1,this.ia=void 0,a&&a.longPollingTimeout&&a.longPollingTimeout>0&&(this.ia=a.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ag.prototype,t.ka=8,t.I=1,t.connect=function(a,h,p,_){gt(0),this.W=a,this.H=h||{},p&&_!==void 0&&(this.H.OSID=p,this.H.OAID=_),this.F=this.X,this.J=gg(this,null,this.W),Ka(this)};function Xc(a){if(lg(a),a.I==3){var h=a.V++,p=dn(a.J);if(ye(p,"SID",a.M),ye(p,"RID",h),ye(p,"TYPE","terminate"),to(a,p),h=new Zn(a,a.j,h),h.M=2,h.A=Ba(dn(p)),p=!1,o.navigator&&o.navigator.sendBeacon)try{p=o.navigator.sendBeacon(h.A.toString(),"")}catch{}!p&&o.Image&&(new Image().src=h.A,p=!0),p||(h.g=yg(h.j,null),h.g.ea(h.A)),h.F=Date.now(),za(h)}pg(a)}function Wa(a){a.g&&(ed(a),a.g.cancel(),a.g=null)}function lg(a){Wa(a),a.v&&(o.clearTimeout(a.v),a.v=null),Ga(a),a.h.cancel(),a.m&&(typeof a.m=="number"&&o.clearTimeout(a.m),a.m=null)}function Ka(a){if(!Hp(a.h)&&!a.m){a.m=!0;var h=a.Ea;L||v(),F||(L(),F=!0),x.add(h,a),a.D=0}}function OT(a,h){return qp(a.h)>=a.h.j-(a.m?1:0)?!1:a.m?(a.i=h.G.concat(a.i),!0):a.I==1||a.I==2||a.D>=(a.Sa?0:a.Ta)?!1:(a.m=Bi(d(a.Ea,a,h),mg(a,a.D)),a.D++,!0)}t.Ea=function(a){if(this.m)if(this.m=null,this.I==1){if(!a){this.V=Math.floor(Math.random()*1e5),a=this.V++;const j=new Zn(this,this.j,a);let O=this.o;if(this.U&&(O?(O=ce(O),Vt(O,this.U)):O=this.U),this.u!==null||this.R||(j.J=O,O=null),this.S)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var _=this.i[p];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(h+=_,h>4096){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=cg(this,j,h),p=dn(this.J),ye(p,"RID",a),ye(p,"CVER",22),this.G&&ye(p,"X-HTTP-Session-Id",this.G),to(this,p),O&&(this.R?h="headers="+qi(ng(O))+"&"+h:this.u&&Jc(p,this.u,O)),Gc(this.h,j),this.Ra&&ye(p,"TYPE","init"),this.S?(ye(p,"$req",h),ye(p,"SID","null"),j.U=!0,Hc(j,p,null)):Hc(j,p,h),this.I=2}}else this.I==3&&(a?ug(this,a):this.i.length==0||Hp(this.h)||ug(this))};function ug(a,h){var p;h?p=h.l:p=a.V++;const _=dn(a.J);ye(_,"SID",a.M),ye(_,"RID",p),ye(_,"AID",a.K),to(a,_),a.u&&a.o&&Jc(_,a.u,a.o),p=new Zn(a,a.j,p,a.D+1),a.u===null&&(p.J=a.o),h&&(a.i=h.G.concat(a.i)),h=cg(a,p,1e3),p.H=Math.round(a.va*.5)+Math.round(a.va*.5*Math.random()),Gc(a.h,p),Hc(p,_,h)}function to(a,h){a.H&&G(a.H,function(p,_){ye(h,_,p)}),a.l&&G({},function(p,_){ye(h,_,p)})}function cg(a,h,p){p=Math.min(a.i.length,p);const _=a.l?d(a.l.Ka,a.l,a):null;e:{var j=a.i;let ee=-1;for(;;){const Fe=["count="+p];ee==-1?p>0?(ee=j[0].g,Fe.push("ofs="+ee)):ee=0:Fe.push("ofs="+ee);let he=!0;for(let qe=0;qe<p;qe++){var O=j[qe].g;const hn=j[qe].map;if(O-=ee,O<0)ee=Math.max(0,j[qe].g-100),he=!1;else try{O="req"+O+"_"||"";try{var $=hn instanceof Map?hn:Object.entries(hn);for(const[Xr,rr]of $){let sr=rr;u(rr)&&(sr=Fc(rr)),Fe.push(O+Xr+"="+encodeURIComponent(sr))}}catch(Xr){throw Fe.push(O+"type="+encodeURIComponent("_badmap")),Xr}}catch{_&&_(hn)}}if(he){$=Fe.join("&");break e}}$=void 0}return a=a.i.splice(0,p),h.G=a,$}function dg(a){if(!a.g&&!a.v){a.Y=1;var h=a.Da;L||v(),F||(L(),F=!0),x.add(h,a),a.A=0}}function Zc(a){return a.g||a.v||a.A>=3?!1:(a.Y++,a.v=Bi(d(a.Da,a),mg(a,a.A)),a.A++,!0)}t.Da=function(){if(this.v=null,hg(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var a=4*this.T;this.j.info("BP detection timer enabled: "+a),this.B=Bi(d(this.Wa,this),a)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,gt(10),Wa(this),hg(this))};function ed(a){a.B!=null&&(o.clearTimeout(a.B),a.B=null)}function hg(a){a.g=new Zn(a,a.j,"rpc",a.Y),a.u===null&&(a.g.J=a.o),a.g.P=0;var h=dn(a.na);ye(h,"RID","rpc"),ye(h,"SID",a.M),ye(h,"AID",a.K),ye(h,"CI",a.F?"0":"1"),!a.F&&a.ia&&ye(h,"TO",a.ia),ye(h,"TYPE","xmlhttp"),to(a,h),a.u&&a.o&&Jc(h,a.u,a.o),a.O&&(a.g.H=a.O);var p=a.g;a=a.ba,p.M=1,p.A=Ba(dn(h)),p.u=null,p.R=!0,Up(p,a)}t.Va=function(){this.C!=null&&(this.C=null,Wa(this),Zc(this),gt(19))};function Ga(a){a.C!=null&&(o.clearTimeout(a.C),a.C=null)}function fg(a,h){var p=null;if(a.g==h){Ga(a),ed(a),a.g=null;var _=2}else if(Kc(a.h,h))p=h.G,Wp(a.h,h),_=1;else return;if(a.I!=0){if(h.o)if(_==1){p=h.u?h.u.length:0,h=Date.now()-h.F;var j=a.D;_=Ua(),pt(_,new Op(_,p)),Ka(a)}else dg(a);else if(j=h.m,j==3||j==0&&h.X>0||!(_==1&&OT(a,h)||_==2&&Zc(a)))switch(p&&p.length>0&&(h=a.h,h.i=h.i.concat(p)),j){case 1:Jr(a,5);break;case 4:Jr(a,10);break;case 3:Jr(a,6);break;default:Jr(a,2)}}}function mg(a,h){let p=a.Qa+Math.floor(Math.random()*a.Za);return a.isActive()||(p*=2),p*h}function Jr(a,h){if(a.j.info("Error code "+h),h==2){var p=d(a.bb,a),_=a.Ua;const j=!_;_=new er(_||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Ki(_,"https"),Ba(_),j?CT(_.toString(),p):kT(_.toString(),p)}else gt(2);a.I=0,a.l&&a.l.pa(h),pg(a),lg(a)}t.bb=function(a){a?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function pg(a){if(a.I=0,a.ja=[],a.l){const h=Kp(a.h);(h.length!=0||a.i.length!=0)&&(b(a.ja,h),b(a.ja,a.i),a.h.i.length=0,T(a.i),a.i.length=0),a.l.oa()}}function gg(a,h,p){var _=p instanceof er?dn(p):new er(p);if(_.g!="")h&&(_.g=h+"."+_.g),Gi(_,_.u);else{var j=o.location;_=j.protocol,h=h?h+"."+j.hostname:j.hostname,j=+j.port;const O=new er(null);_&&Ki(O,_),h&&(O.g=h),j&&Gi(O,j),p&&(O.h=p),_=O}return p=a.G,h=a.wa,p&&h&&ye(_,p,h),ye(_,"VER",a.ka),to(a,_),_}function yg(a,h,p){if(h&&!a.L)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Aa&&!a.ma?new Ce(new Yc({ab:p})):new Ce(a.ma),h.Fa(a.L),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function vg(){}t=vg.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Qa(){}Qa.prototype.g=function(a,h){return new At(a,h)};function At(a,h){st.call(this),this.g=new ag(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.sa&&(a?a["X-WebChannel-Client-Profile"]=h.sa:a={"X-WebChannel-Client-Profile":h.sa}),this.g.U=a,(a=h&&h.Qb)&&!S(a)&&(this.g.u=a),this.A=h&&h.supportsCrossDomainXhr||!1,this.v=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!S(h)&&(this.g.G=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new Cs(this)}m(At,st),At.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},At.prototype.close=function(){Xc(this.g)},At.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var p={};p.__data__=a,a=p}else this.v&&(p={},p.__data__=Fc(a),a=p);h.i.push(new wT(h.Ya++,a)),h.I==3&&Ka(h)},At.prototype.N=function(){this.g.l=null,delete this.j,Xc(this.g),delete this.g,At.Z.N.call(this)};function _g(a){Uc.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){e:{for(const p in h){a=p;break e}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}m(_g,Uc);function xg(){$c.call(this),this.status=1}m(xg,$c);function Cs(a){this.g=a}m(Cs,vg),Cs.prototype.ra=function(){pt(this.g,"a")},Cs.prototype.qa=function(a){pt(this.g,new _g(a))},Cs.prototype.pa=function(a){pt(this.g,new xg)},Cs.prototype.oa=function(){pt(this.g,"b")},Qa.prototype.createWebChannel=Qa.prototype.g,At.prototype.send=At.prototype.o,At.prototype.open=At.prototype.m,At.prototype.close=At.prototype.close,Yw=function(){return new Qa},Qw=function(){return Ua()},Gw=Gr,tf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},$a.NO_ERROR=0,$a.TIMEOUT=8,$a.HTTP_ERROR=6,Ul=$a,Lp.COMPLETE="complete",Kw=Lp,Rp.EventType=$i,$i.OPEN="a",$i.CLOSE="b",$i.ERROR="c",$i.MESSAGE="d",st.prototype.listen=st.prototype.J,xo=Rp,Ce.prototype.listenOnce=Ce.prototype.K,Ce.prototype.getLastError=Ce.prototype.Ha,Ce.prototype.getLastErrorCode=Ce.prototype.ya,Ce.prototype.getStatus=Ce.prototype.ca,Ce.prototype.getResponseJson=Ce.prototype.La,Ce.prototype.getResponseText=Ce.prototype.la,Ce.prototype.send=Ce.prototype.ea,Ce.prototype.setWithCredentials=Ce.prototype.Fa,Ww=Ce}).apply(typeof yl<"u"?yl:typeof self<"u"?self:typeof window<"u"?window:{});const av="@firebase/firestore",lv="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ut.UNAUTHENTICATED=new ut(null),ut.GOOGLE_CREDENTIALS=new ut("google-credentials-uid"),ut.FIRST_PARTY=new ut("first-party-uid"),ut.MOCK_USER=new ut("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ri="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys=new bm("@firebase/firestore");function js(){return ys.logLevel}function H(t,...e){if(ys.logLevel<=ne.DEBUG){const n=e.map(Cm);ys.debug(`Firestore (${Ri}): ${t}`,...n)}}function Qn(t,...e){if(ys.logLevel<=ne.ERROR){const n=e.map(Cm);ys.error(`Firestore (${Ri}): ${t}`,...n)}}function vi(t,...e){if(ys.logLevel<=ne.WARN){const n=e.map(Cm);ys.warn(`Firestore (${Ri}): ${t}`,...n)}}function Cm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Jw(t,r,n)}function Jw(t,e,n){let r=`FIRESTORE (${Ri}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Qn(r),new Error(r)}function ue(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||Jw(e,s,r)}function Z(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class B extends Cn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Mk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ut.UNAUTHENTICATED))}shutdown(){}}class Fk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Uk{constructor(e){this.t=e,this.currentUser=ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ue(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new zn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new zn,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},u=c=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new zn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ue(typeof r.accessToken=="string",31837,{l:r}),new Xw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ue(e===null||typeof e=="string",2055,{h:e}),new ut(e)}}class $k{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ut.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class zk{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new $k(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Bk{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$t(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ue(this.o===void 0,3512);const r=i=>{i.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,H("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new uv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ue(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new uv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=Hk(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function re(t,e){return t<e?-1:t>e?1:0}function nf(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Fd(s)===Fd(i)?re(s,i):Fd(s)?1:-1}return re(t.length,e.length)}const qk=55296,Wk=57343;function Fd(t){const e=t.charCodeAt(0);return e>=qk&&e<=Wk}function _i(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv="__name__";class pn{constructor(e,n,r){n===void 0?n=0:n>e.length&&Y(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Y(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return pn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof pn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=pn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return re(e.length,n.length)}static compareSegments(e,n){const r=pn.isNumericId(e),s=pn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?pn.extractNumericId(e).compare(pn.extractNumericId(n)):nf(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ar.fromString(e.substring(4,e.length-2))}}class me extends pn{construct(e,n,r){return new me(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new B(V.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new me(n)}static emptyPath(){return new me([])}}const Kk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends pn{construct(e,n,r){return new Ze(e,n,r)}static isValidIdentifier(e){return Kk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cv}static keyField(){return new Ze([cv])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new B(V.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new B(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new B(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else u==="`"?(o=!o,s++):u!=="."||o?(r+=u,s++):(i(),s++)}if(i(),o)throw new B(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ze(n)}static emptyPath(){return new Ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.path=e}static fromPath(e){return new K(me.fromString(e))}static fromName(e){return new K(me.fromString(e).popFirst(5))}static empty(){return new K(me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new K(new me(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(t,e,n){if(!n)throw new B(V.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Gk(t,e,n,r){if(e===!0&&r===!0)throw new B(V.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function dv(t){if(!K.isDocumentKey(t))throw new B(V.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function hv(t){if(K.isDocumentKey(t))throw new B(V.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function e1(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function mc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Y(12329,{type:typeof t})}function Nn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new B(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mc(t);throw new B(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Qk(t,e){if(e<=0)throw new B(V.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(t,e){const n={typeString:t};return e&&(n.value=e),n}function ba(t,e){if(!e1(t))throw new B(V.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new B(V.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv=-62135596800,mv=1e6;class _e{static now(){return _e.fromMillis(Date.now())}static fromDate(e){return _e.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*mv);return new _e(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new B(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new B(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<fv)throw new B(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/mv}_compareTo(e){return this.seconds===e.seconds?re(this.nanoseconds,e.nanoseconds):re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_e._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ba(e,_e._jsonSchema))return new _e(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-fv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_e._jsonSchemaVersion="firestore/timestamp/1.0",_e._jsonSchema={type:Me("string",_e._jsonSchemaVersion),seconds:Me("number"),nanoseconds:Me("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{static fromTimestamp(e){return new X(e)}static min(){return new X(new _e(0,0))}static max(){return new X(new _e(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=-1;function Yk(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=X.fromTimestamp(r===1e9?new _e(n+1,0):new _e(n,r));return new Dr(s,K.empty(),e)}function Jk(t){return new Dr(t.readTime,t.key,oa)}class Dr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Dr(X.min(),K.empty(),oa)}static max(){return new Dr(X.max(),K.empty(),oa)}}function Xk(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=K.comparator(t.documentKey,e.documentKey),n!==0?n:re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pi(t){if(t.code!==V.FAILED_PRECONDITION||t.message!==Zk)throw t;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Y(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new M((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof M?n:M.resolve(n)}catch(n){return M.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):M.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):M.reject(n)}static resolve(e){return new M((n,r)=>{n(e)})}static reject(e){return new M((n,r)=>{r(e)})}static waitFor(e){return new M((n,r)=>{let s=0,i=0,o=!1;e.forEach(u=>{++s,u.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=M.resolve(!1);for(const r of e)n=n.next(s=>s?M.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new M((r,s)=>{const i=e.length,o=new Array(i);let u=0;for(let c=0;c<i;c++){const d=c;n(e[d]).next(f=>{o[d]=f,++u,u===i&&r(o)},f=>s(f))}})}static doWhile(e,n){return new M((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function tR(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ji(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}pc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm=-1;function gc(t){return t==null}function Iu(t){return t===0&&1/t==-1/0}function nR(t){return typeof t=="number"&&Number.isInteger(t)&&!Iu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1="";function rR(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=pv(e)),e=sR(t.get(n),e);return pv(e)}function sR(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case t1:n+="";break;default:n+=i}}return n}function pv(t){return t+t1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Br(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function n1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e,n){this.comparator=e,this.root=n||Xe.EMPTY}insert(e,n){return new be(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xe.BLACK,null,null))}remove(e){return new be(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xe.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vl(this.root,e,this.comparator,!1)}getReverseIterator(){return new vl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vl(this.root,e,this.comparator,!0)}}class vl{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xe{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Xe.RED,this.left=s??Xe.EMPTY,this.right=i??Xe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Xe(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Xe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Xe.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Y(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Y(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Y(27949);return e+(this.isRed()?0:1)}}Xe.EMPTY=null,Xe.RED=!0,Xe.BLACK=!1;Xe.EMPTY=new class{constructor(){this.size=0}get key(){throw Y(57766)}get value(){throw Y(16141)}get color(){throw Y(16727)}get left(){throw Y(29726)}get right(){throw Y(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Xe(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.comparator=e,this.data=new be(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new yv(this.data.getIterator())}getIteratorFrom(e){return new yv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Be)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Be(this.comparator);return n.data=e,n}}class yv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.fields=e,e.sort(Ze.comparator)}static empty(){return new Rt([])}unionWith(e){let n=new Be(Ze.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Rt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _i(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new r1("Invalid base64 string: "+i):i}}(e);return new nt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new nt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nt.EMPTY_BYTE_STRING=new nt("");const iR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Or(t){if(ue(!!t,39018),typeof t=="string"){let e=0;const n=iR.exec(t);if(ue(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pe(t.seconds),nanos:Pe(t.nanos)}}function Pe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Lr(t){return typeof t=="string"?nt.fromBase64String(t):nt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="server_timestamp",i1="__type__",o1="__previous_value__",a1="__local_write_time__";function Pm(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[i1])==null?void 0:r.stringValue)===s1}function yc(t){const e=t.mapValue.fields[o1];return Pm(e)?yc(e):e}function aa(t){const e=Or(t.mapValue.fields[a1].timestampValue);return new _e(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,n,r,s,i,o,u,c,d,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=f}}const Su="(default)";class la{constructor(e,n){this.projectId=e,this.database=n||Su}static empty(){return new la("","")}get isDefaultDatabase(){return this.database===Su}isEqual(e){return e instanceof la&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="__type__",aR="__max__",_l={mapValue:{}},u1="__vector__",Nu="value";function Vr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Pm(t)?4:uR(t)?9007199254740991:lR(t)?10:11:Y(28295,{value:t})}function bn(t,e){if(t===e)return!0;const n=Vr(t);if(n!==Vr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return aa(t).isEqual(aa(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Or(s.timestampValue),u=Or(i.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Lr(s.bytesValue).isEqual(Lr(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Pe(s.geoPointValue.latitude)===Pe(i.geoPointValue.latitude)&&Pe(s.geoPointValue.longitude)===Pe(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Pe(s.integerValue)===Pe(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Pe(s.doubleValue),u=Pe(i.doubleValue);return o===u?Iu(o)===Iu(u):isNaN(o)&&isNaN(u)}return!1}(t,e);case 9:return _i(t.arrayValue.values||[],e.arrayValue.values||[],bn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},u=i.mapValue.fields||{};if(gv(o)!==gv(u))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(u[c]===void 0||!bn(o[c],u[c])))return!1;return!0}(t,e);default:return Y(52216,{left:t})}}function ua(t,e){return(t.values||[]).find(n=>bn(n,e))!==void 0}function xi(t,e){if(t===e)return 0;const n=Vr(t),r=Vr(e);if(n!==r)return re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return re(t.booleanValue,e.booleanValue);case 2:return function(i,o){const u=Pe(i.integerValue||i.doubleValue),c=Pe(o.integerValue||o.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(t,e);case 3:return vv(t.timestampValue,e.timestampValue);case 4:return vv(aa(t),aa(e));case 5:return nf(t.stringValue,e.stringValue);case 6:return function(i,o){const u=Lr(i),c=Lr(o);return u.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const u=i.split("/"),c=o.split("/");for(let d=0;d<u.length&&d<c.length;d++){const f=re(u[d],c[d]);if(f!==0)return f}return re(u.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const u=re(Pe(i.latitude),Pe(o.latitude));return u!==0?u:re(Pe(i.longitude),Pe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return _v(t.arrayValue,e.arrayValue);case 10:return function(i,o){var g,T,b,C;const u=i.fields||{},c=o.fields||{},d=(g=u[Nu])==null?void 0:g.arrayValue,f=(T=c[Nu])==null?void 0:T.arrayValue,m=re(((b=d==null?void 0:d.values)==null?void 0:b.length)||0,((C=f==null?void 0:f.values)==null?void 0:C.length)||0);return m!==0?m:_v(d,f)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===_l.mapValue&&o===_l.mapValue)return 0;if(i===_l.mapValue)return 1;if(o===_l.mapValue)return-1;const u=i.fields||{},c=Object.keys(u),d=o.fields||{},f=Object.keys(d);c.sort(),f.sort();for(let m=0;m<c.length&&m<f.length;++m){const g=nf(c[m],f[m]);if(g!==0)return g;const T=xi(u[c[m]],d[f[m]]);if(T!==0)return T}return re(c.length,f.length)}(t.mapValue,e.mapValue);default:throw Y(23264,{he:n})}}function vv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return re(t,e);const n=Or(t),r=Or(e),s=re(n.seconds,r.seconds);return s!==0?s:re(n.nanos,r.nanos)}function _v(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=xi(n[s],r[s]);if(i)return i}return re(n.length,r.length)}function wi(t){return rf(t)}function rf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Or(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Lr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return K.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=rf(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${rf(n.fields[o])}`;return s+"}"}(t.mapValue):Y(61005,{value:t})}function $l(t){switch(Vr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yc(t);return e?16+$l(e):16;case 5:return 2*t.stringValue.length;case 6:return Lr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+$l(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Br(r.fields,(i,o)=>{s+=i.length+$l(o)}),s}(t.mapValue);default:throw Y(13486,{value:t})}}function xv(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function sf(t){return!!t&&"integerValue"in t}function jm(t){return!!t&&"arrayValue"in t}function wv(t){return!!t&&"nullValue"in t}function Ev(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zl(t){return!!t&&"mapValue"in t}function lR(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[l1])==null?void 0:r.stringValue)===u1}function Do(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Br(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Do(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Do(t.arrayValue.values[n]);return e}return{...t}}function uR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===aR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.value=e}static empty(){return new Tt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!zl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Do(n)}setAll(e){let n=Ze.emptyPath(),r={},s=[];e.forEach((o,u)=>{if(!n.isImmediateParentOf(u)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=u.popLast()}o?r[u.lastSegment()]=Do(o):s.push(u.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());zl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return bn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];zl(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Br(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Tt(Do(this.value))}}function c1(t){const e=[];return Br(t.fields,(n,r)=>{const s=new Ze([n]);if(zl(r)){const i=c1(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Rt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n,r,s,i,o,u){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=u}static newInvalidDocument(e){return new dt(e,0,X.min(),X.min(),X.min(),Tt.empty(),0)}static newFoundDocument(e,n,r,s){return new dt(e,1,n,X.min(),r,s,0)}static newNoDocument(e,n){return new dt(e,2,n,X.min(),X.min(),Tt.empty(),0)}static newUnknownDocument(e,n){return new dt(e,3,n,X.min(),X.min(),Tt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(X.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=X.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,n){this.position=e,this.inclusive=n}}function Tv(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=K.comparator(K.fromName(o.referenceValue),n.key):r=xi(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Iv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!bn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,n="asc"){this.field=e,this.dir=n}}function cR(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{}class Ve extends d1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new hR(e,n,r):n==="array-contains"?new pR(e,r):n==="in"?new gR(e,r):n==="not-in"?new yR(e,r):n==="array-contains-any"?new vR(e,r):new Ve(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new fR(e,r):new mR(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(xi(n,this.value)):n!==null&&Vr(this.value)===Vr(n)&&this.matchesComparison(xi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Y(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class on extends d1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new on(e,n)}matches(e){return h1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function h1(t){return t.op==="and"}function f1(t){return dR(t)&&h1(t)}function dR(t){for(const e of t.filters)if(e instanceof on)return!1;return!0}function of(t){if(t instanceof Ve)return t.field.canonicalString()+t.op.toString()+wi(t.value);if(f1(t))return t.filters.map(e=>of(e)).join(",");{const e=t.filters.map(n=>of(n)).join(",");return`${t.op}(${e})`}}function m1(t,e){return t instanceof Ve?function(r,s){return s instanceof Ve&&r.op===s.op&&r.field.isEqual(s.field)&&bn(r.value,s.value)}(t,e):t instanceof on?function(r,s){return s instanceof on&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,u)=>i&&m1(o,s.filters[u]),!0):!1}(t,e):void Y(19439)}function p1(t){return t instanceof Ve?function(n){return`${n.field.canonicalString()} ${n.op} ${wi(n.value)}`}(t):t instanceof on?function(n){return n.op.toString()+" {"+n.getFilters().map(p1).join(" ,")+"}"}(t):"Filter"}class hR extends Ve{constructor(e,n,r){super(e,n,r),this.key=K.fromName(r.referenceValue)}matches(e){const n=K.comparator(e.key,this.key);return this.matchesComparison(n)}}class fR extends Ve{constructor(e,n){super(e,"in",n),this.keys=g1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class mR extends Ve{constructor(e,n){super(e,"not-in",n),this.keys=g1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function g1(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>K.fromName(r.referenceValue))}class pR extends Ve{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jm(n)&&ua(n.arrayValue,this.value)}}class gR extends Ve{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ua(this.value.arrayValue,n)}}class yR extends Ve{constructor(e,n){super(e,"not-in",n)}matches(e){if(ua(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ua(this.value.arrayValue,n)}}class vR extends Ve{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ua(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e,n=null,r=[],s=[],i=null,o=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=u,this.Te=null}}function Sv(t,e=null,n=[],r=[],s=null,i=null,o=null){return new _R(t,e,n,r,s,i,o)}function Dm(t){const e=Z(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>of(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),gc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>wi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>wi(r)).join(",")),e.Te=n}return e.Te}function Om(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!cR(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!m1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Iv(t.startAt,e.startAt)&&Iv(t.endAt,e.endAt)}function af(t){return K.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,n=null,r=[],s=[],i=null,o="F",u=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=u,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function xR(t,e,n,r,s,i,o,u){return new Di(t,e,n,r,s,i,o,u)}function Lm(t){return new Di(t)}function Nv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function y1(t){return t.collectionGroup!==null}function Oo(t){const e=Z(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let u=new Be(Ze.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(u=u.add(d.field))})}),u})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new ca(i,r))}),n.has(Ze.keyField().canonicalString())||e.Ie.push(new ca(Ze.keyField(),r))}return e.Ie}function xn(t){const e=Z(t);return e.Ee||(e.Ee=wR(e,Oo(t))),e.Ee}function wR(t,e){if(t.limitType==="F")return Sv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new ca(s.field,i)});const n=t.endAt?new bu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new bu(t.startAt.position,t.startAt.inclusive):null;return Sv(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function lf(t,e){const n=t.filters.concat([e]);return new Di(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Au(t,e,n){return new Di(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function vc(t,e){return Om(xn(t),xn(e))&&t.limitType===e.limitType}function v1(t){return`${Dm(xn(t))}|lt:${t.limitType}`}function Ds(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>p1(s)).join(", ")}]`),gc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>wi(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>wi(s)).join(",")),`Target(${r})`}(xn(t))}; limitType=${t.limitType})`}function _c(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):K.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Oo(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,u,c){const d=Tv(o,u,c);return o.inclusive?d<=0:d<0}(r.startAt,Oo(r),s)||r.endAt&&!function(o,u,c){const d=Tv(o,u,c);return o.inclusive?d>=0:d>0}(r.endAt,Oo(r),s))}(t,e)}function ER(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _1(t){return(e,n)=>{let r=!1;for(const s of Oo(t)){const i=TR(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function TR(t,e,n){const r=t.field.isKeyField()?K.comparator(e.key,n.key):function(i,o,u){const c=o.data.field(i),d=u.data.field(i);return c!==null&&d!==null?xi(c,d):Y(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Y(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Br(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return n1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=new be(K.comparator);function Yn(){return IR}const x1=new be(K.comparator);function wo(...t){let e=x1;for(const n of t)e=e.insert(n.key,n);return e}function w1(t){let e=x1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function is(){return Lo()}function E1(){return Lo()}function Lo(){return new Is(t=>t.toString(),(t,e)=>t.isEqual(e))}const SR=new be(K.comparator),NR=new Be(K.comparator);function se(...t){let e=NR;for(const n of t)e=e.add(n);return e}const bR=new Be(re);function AR(){return bR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Iu(e)?"-0":e}}function T1(t){return{integerValue:""+t}}function CR(t,e){return nR(e)?T1(e):Vm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(){this._=void 0}}function kR(t,e,n){return t instanceof da?function(s,i){const o={fields:{[i1]:{stringValue:s1},[a1]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Pm(i)&&(i=yc(i)),i&&(o.fields[o1]=i),{mapValue:o}}(n,e):t instanceof ha?S1(t,e):t instanceof fa?N1(t,e):function(s,i){const o=I1(s,i),u=bv(o)+bv(s.Ae);return sf(o)&&sf(s.Ae)?T1(u):Vm(s.serializer,u)}(t,e)}function RR(t,e,n){return t instanceof ha?S1(t,e):t instanceof fa?N1(t,e):n}function I1(t,e){return t instanceof Cu?function(r){return sf(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class da extends xc{}class ha extends xc{constructor(e){super(),this.elements=e}}function S1(t,e){const n=b1(e);for(const r of t.elements)n.some(s=>bn(s,r))||n.push(r);return{arrayValue:{values:n}}}class fa extends xc{constructor(e){super(),this.elements=e}}function N1(t,e){let n=b1(e);for(const r of t.elements)n=n.filter(s=>!bn(s,r));return{arrayValue:{values:n}}}class Cu extends xc{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function bv(t){return Pe(t.integerValue||t.doubleValue)}function b1(t){return jm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e,n){this.field=e,this.transform=n}}function jR(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof ha&&s instanceof ha||r instanceof fa&&s instanceof fa?_i(r.elements,s.elements,bn):r instanceof Cu&&s instanceof Cu?bn(r.Ae,s.Ae):r instanceof da&&s instanceof da}(t.transform,e.transform)}class DR{constructor(e,n){this.version=e,this.transformResults=n}}class nn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new nn}static exists(e){return new nn(void 0,e)}static updateTime(e){return new nn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class wc{}function A1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Mm(t.key,nn.none()):new Aa(t.key,t.data,nn.none());{const n=t.data,r=Tt.empty();let s=new Be(Ze.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Hr(t.key,r,new Rt(s.toArray()),nn.none())}}function OR(t,e,n){t instanceof Aa?function(s,i,o){const u=s.value.clone(),c=Cv(s.fieldTransforms,i,o.transformResults);u.setAll(c),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):t instanceof Hr?function(s,i,o){if(!Bl(s.precondition,i))return void i.convertToUnknownDocument(o.version);const u=Cv(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(C1(s)),c.setAll(u),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Vo(t,e,n,r){return t instanceof Aa?function(i,o,u,c){if(!Bl(i.precondition,o))return u;const d=i.value.clone(),f=kv(i.fieldTransforms,c,o);return d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof Hr?function(i,o,u,c){if(!Bl(i.precondition,o))return u;const d=kv(i.fieldTransforms,c,o),f=o.data;return f.setAll(C1(i)),f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),u===null?null:u.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(i,o,u){return Bl(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u}(t,e,n)}function LR(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=I1(r.transform,s||null);i!=null&&(n===null&&(n=Tt.empty()),n.set(r.field,i))}return n||null}function Av(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&_i(r,s,(i,o)=>jR(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Aa extends wc{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Hr extends wc{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function C1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Cv(t,e,n){const r=new Map;ue(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,u=e.data.field(i.field);r.set(i.field,RR(o,u,n[s]))}return r}function kv(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,kR(i,o,e))}return r}class Mm extends wc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VR extends wc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&OR(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Vo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Vo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=E1();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let u=this.applyToLocalView(o,i.mutatedFields);u=n.has(s.key)?null:u;const c=A1(o,u);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(X.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),se())}isEqual(e){return this.batchId===e.batchId&&_i(this.mutations,e.mutations,(n,r)=>Av(n,r))&&_i(this.baseMutations,e.baseMutations,(n,r)=>Av(n,r))}}class Fm{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ue(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return SR}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Fm(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe,ie;function $R(t){switch(t){case V.OK:return Y(64938);case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0;default:return Y(15467,{code:t})}}function k1(t){if(t===void 0)return Qn("GRPC error has no .code"),V.UNKNOWN;switch(t){case Oe.OK:return V.OK;case Oe.CANCELLED:return V.CANCELLED;case Oe.UNKNOWN:return V.UNKNOWN;case Oe.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case Oe.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case Oe.INTERNAL:return V.INTERNAL;case Oe.UNAVAILABLE:return V.UNAVAILABLE;case Oe.UNAUTHENTICATED:return V.UNAUTHENTICATED;case Oe.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case Oe.NOT_FOUND:return V.NOT_FOUND;case Oe.ALREADY_EXISTS:return V.ALREADY_EXISTS;case Oe.PERMISSION_DENIED:return V.PERMISSION_DENIED;case Oe.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case Oe.ABORTED:return V.ABORTED;case Oe.OUT_OF_RANGE:return V.OUT_OF_RANGE;case Oe.UNIMPLEMENTED:return V.UNIMPLEMENTED;case Oe.DATA_LOSS:return V.DATA_LOSS;default:return Y(39323,{code:t})}}(ie=Oe||(Oe={}))[ie.OK=0]="OK",ie[ie.CANCELLED=1]="CANCELLED",ie[ie.UNKNOWN=2]="UNKNOWN",ie[ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ie[ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ie[ie.NOT_FOUND=5]="NOT_FOUND",ie[ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",ie[ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",ie[ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",ie[ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ie[ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ie[ie.ABORTED=10]="ABORTED",ie[ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",ie[ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",ie[ie.INTERNAL=13]="INTERNAL",ie[ie.UNAVAILABLE=14]="UNAVAILABLE",ie[ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR=new Ar([4294967295,4294967295],0);function Rv(t){const e=zR().encode(t),n=new qw;return n.update(e),new Uint8Array(n.digest())}function Pv(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ar([n,r],0),new Ar([s,i],0)]}class Um{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Eo(`Invalid padding: ${n}`);if(r<0)throw new Eo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Eo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Eo(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ar.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Ar.fromNumber(r)));return s.compare(BR)===1&&(s=new Ar([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Rv(e),[r,s]=Pv(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Um(i,s,n);return r.forEach(u=>o.insert(u)),o}insert(e){if(this.ge===0)return;const n=Rv(e),[r,s]=Pv(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Eo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Ca.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ec(X.min(),s,new be(re),Yn(),se())}}class Ca{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ca(r,n,se(),se(),se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class R1{constructor(e,n){this.targetId=e,this.Ce=n}}class P1{constructor(e,n,r=nt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class jv{constructor(){this.ve=0,this.Fe=Dv(),this.Me=nt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=se(),n=se(),r=se();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Y(38017,{changeType:i})}}),new Ca(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Dv()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ue(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class HR{constructor(e){this.Ge=e,this.ze=new Map,this.je=Yn(),this.Je=xl(),this.He=xl(),this.Ye=new be(re)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Y(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(af(i))if(r===0){const o=new K(i.path);this.et(n,o,dt.newNoDocument(o,X.min()))}else ue(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const u=this.ut(e),c=u?this.ct(u,e,o):1;if(c!==0){this.it(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,u;try{o=Lr(r).toUint8Array()}catch(c){if(c instanceof r1)return vi("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new Um(o,s,i)}catch(c){return vi(c instanceof Eo?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),u=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(u)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const u=this.ot(o);if(u){if(i.current&&af(u.target)){const c=new K(u.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,dt.newNoDocument(c,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=se();this.He.forEach((i,o)=>{let u=!0;o.forEachWhile(c=>{const d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new Ec(e,n,this.Ye,this.je,r);return this.je=Yn(),this.Je=xl(),this.He=xl(),this.Ye=new be(re),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new jv,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Be(re),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Be(re),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||H("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new jv),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function xl(){return new be(K.comparator)}function Dv(){return new be(K.comparator)}const qR={asc:"ASCENDING",desc:"DESCENDING"},WR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KR={and:"AND",or:"OR"};class GR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function uf(t,e){return t.useProto3Json||gc(e)?e:{value:e}}function ku(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function j1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function QR(t,e){return ku(t,e.toTimestamp())}function wn(t){return ue(!!t,49232),X.fromTimestamp(function(n){const r=Or(n);return new _e(r.seconds,r.nanos)}(t))}function $m(t,e){return cf(t,e).canonicalString()}function cf(t,e){const n=function(s){return new me(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function D1(t){const e=me.fromString(t);return ue(F1(e),10190,{key:e.toString()}),e}function df(t,e){return $m(t.databaseId,e.path)}function Ud(t,e){const n=D1(e);if(n.get(1)!==t.databaseId.projectId)throw new B(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new B(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new K(L1(n))}function O1(t,e){return $m(t.databaseId,e)}function YR(t){const e=D1(t);return e.length===4?me.emptyPath():L1(e)}function hf(t){return new me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function L1(t){return ue(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Ov(t,e,n){return{name:df(t,e),fields:n.value.mapValue.fields}}function JR(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Y(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,f){return d.useProto3Json?(ue(f===void 0||typeof f=="string",58123),nt.fromBase64String(f||"")):(ue(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),nt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,u=o&&function(d){const f=d.code===void 0?V.UNKNOWN:k1(d.code);return new B(f,d.message||"")}(o);n=new P1(r,s,i,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Ud(t,r.document.name),i=wn(r.document.updateTime),o=r.document.createTime?wn(r.document.createTime):X.min(),u=new Tt({mapValue:{fields:r.document.fields}}),c=dt.newFoundDocument(s,i,o,u),d=r.targetIds||[],f=r.removedTargetIds||[];n=new Hl(d,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Ud(t,r.document),i=r.readTime?wn(r.readTime):X.min(),o=dt.newNoDocument(s,i),u=r.removedTargetIds||[];n=new Hl([],u,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Ud(t,r.document),i=r.removedTargetIds||[];n=new Hl([],i,s,null)}else{if(!("filter"in e))return Y(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new UR(s,i),u=r.targetId;n=new R1(u,o)}}return n}function XR(t,e){let n;if(e instanceof Aa)n={update:Ov(t,e.key,e.value)};else if(e instanceof Mm)n={delete:df(t,e.key)};else if(e instanceof Hr)n={update:Ov(t,e.key,e.data),updateMask:aP(e.fieldMask)};else{if(!(e instanceof VR))return Y(16599,{Vt:e.type});n={verify:df(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const u=o.transform;if(u instanceof da)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof ha)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof fa)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Cu)return{fieldPath:o.field.canonicalString(),increment:u.Ae};throw Y(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:QR(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Y(27497)}(t,e.precondition)),n}function ZR(t,e){return t&&t.length>0?(ue(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?wn(s.updateTime):wn(i);return o.isEqual(X.min())&&(o=wn(i)),new DR(o,s.transformResults||[])}(n,e))):[]}function eP(t,e){return{documents:[O1(t,e.path)]}}function tP(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=O1(t,s);const i=function(d){if(d.length!==0)return M1(on.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(f=>function(g){return{field:Os(g.field),direction:sP(g.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const u=uf(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:s}}function nP(t){let e=YR(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ue(r===1,65062);const f=n.from[0];f.allDescendants?s=f.collectionId:e=e.child(f.collectionId)}let i=[];n.where&&(i=function(m){const g=V1(m);return g instanceof on&&f1(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(g=>function(b){return new ca(Ls(b.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(g))}(n.orderBy));let u=null;n.limit&&(u=function(m){let g;return g=typeof m=="object"?m.value:m,gc(g)?null:g}(n.limit));let c=null;n.startAt&&(c=function(m){const g=!!m.before,T=m.values||[];return new bu(T,g)}(n.startAt));let d=null;return n.endAt&&(d=function(m){const g=!m.before,T=m.values||[];return new bu(T,g)}(n.endAt)),xR(e,s,o,i,u,"F",c,d)}function rP(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function V1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ls(n.unaryFilter.field);return Ve.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ls(n.unaryFilter.field);return Ve.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ls(n.unaryFilter.field);return Ve.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ls(n.unaryFilter.field);return Ve.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Y(61313);default:return Y(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ve.create(Ls(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Y(58110);default:return Y(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return on.create(n.compositeFilter.filters.map(r=>V1(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Y(1026)}}(n.compositeFilter.op))}(t):Y(30097,{filter:t})}function sP(t){return qR[t]}function iP(t){return WR[t]}function oP(t){return KR[t]}function Os(t){return{fieldPath:t.canonicalString()}}function Ls(t){return Ze.fromServerFormat(t.fieldPath)}function M1(t){return t instanceof Ve?function(n){if(n.op==="=="){if(Ev(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NAN"}};if(wv(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Ev(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NOT_NAN"}};if(wv(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Os(n.field),op:iP(n.op),value:n.value}}}(t):t instanceof on?function(n){const r=n.getFilters().map(s=>M1(s));return r.length===1?r[0]:{compositeFilter:{op:oP(n.op),filters:r}}}(t):Y(54877,{filter:t})}function aP(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function F1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,n,r,s,i=X.min(),o=X.min(),u=nt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new yr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e){this.yt=e}}function uP(t){const e=nP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Au(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(){this.Cn=new dP}addToCollectionParentIndex(e,n){return this.Cn.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(Dr.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(Dr.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}}class dP{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Be(me.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Be(me.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},U1=41943040;class wt{static withCacheSize(e){return new wt(e,wt.DEFAULT_COLLECTION_PERCENTILE,wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wt.DEFAULT_COLLECTION_PERCENTILE=10,wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wt.DEFAULT=new wt(U1,wt.DEFAULT_COLLECTION_PERCENTILE,wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wt.DISABLED=new wt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ei(0)}static cr(){return new Ei(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv="LruGarbageCollector",hP=1048576;function Mv([t,e],[n,r]){const s=re(t,n);return s===0?re(e,r):s}class fP{constructor(e){this.Ir=e,this.buffer=new Be(Mv),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Mv(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class mP{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){H(Vv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ji(n)?H(Vv,"Ignoring IndexedDB error during garbage collection: ",n):await Pi(n)}await this.Vr(3e5)})}}class pP{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return M.resolve(pc.ce);const r=new fP(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),M.resolve(Lv)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Lv):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,u,c,d;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),s=this.params.maximumSequenceNumbersToCollect):s=m,o=Date.now(),this.nthSequenceNumber(e,s))).next(m=>(r=m,u=Date.now(),this.removeTargets(e,r,n))).next(m=>(i=m,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(d=Date.now(),js()<=ne.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${s} in `+(u-o)+`ms
	Removed ${i} targets in `+(c-u)+`ms
	Removed ${m} documents in `+(d-c)+`ms
Total Duration: ${d-f}ms`),M.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:m})))}}function gP(t,e){return new pP(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(){this.changes=new Is(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Vo(r.mutation,s,Rt.empty(),_e.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=se()){const s=is();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=wo();return i.forEach((u,c)=>{o=o.insert(u,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=is();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,se()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,u)=>{n.set(o,u)})})}computeViews(e,n,r,s){let i=Yn();const o=Lo(),u=function(){return Lo()}();return n.forEach((c,d)=>{const f=r.get(d.key);s.has(d.key)&&(f===void 0||f.mutation instanceof Hr)?i=i.insert(d.key,d):f!==void 0?(o.set(d.key,f.mutation.getFieldMask()),Vo(f.mutation,d,f.mutation.getFieldMask(),_e.now())):o.set(d.key,Rt.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((d,f)=>o.set(d,f)),n.forEach((d,f)=>u.set(d,new vP(f,o.get(d)??null))),u))}recalculateAndSaveOverlays(e,n){const r=Lo();let s=new be((o,u)=>o-u),i=se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const u of o)u.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let f=r.get(c)||Rt.empty();f=u.applyToLocalView(d,f),r.set(c,f);const m=(s.get(u.batchId)||se()).add(c);s=s.insert(u.batchId,m)})}).next(()=>{const o=[],u=s.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),d=c.key,f=c.value,m=E1();f.forEach(g=>{if(!i.has(g)){const T=A1(n.get(g),r.get(g));T!==null&&m.set(g,T),i=i.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,m))}return M.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return K.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):y1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):M.resolve(is());let u=oa,c=i;return o.next(d=>M.forEach(d,(f,m)=>(u<m.largestBatchId&&(u=m.largestBatchId),i.get(f)?M.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{c=c.insert(f,g)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,c,d,se())).next(f=>({batchId:u,changes:w1(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new K(n)).next(r=>{let s=wo();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=wo();return this.indexManager.getCollectionParents(e,i).next(u=>M.forEach(u,c=>{const d=function(m,g){return new Di(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(f=>{f.forEach((m,g)=>{o=o.insert(m,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,d)=>{const f=d.getKey();o.get(f)===null&&(o=o.insert(f,dt.newInvalidDocument(f)))});let u=wo();return o.forEach((c,d)=>{const f=i.get(c);f!==void 0&&Vo(f.mutation,d,Rt.empty(),_e.now()),_c(n,d)&&(u=u.insert(c,d))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return M.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:wn(s.createTime)}}(n)),M.resolve()}getNamedQuery(e,n){return M.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:uP(s.bundledQuery),readTime:wn(s.readTime)}}(n)),M.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(){this.overlays=new be(K.comparator),this.qr=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){const r=is();return M.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),M.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){const s=is(),i=n.length+1,o=new K(n.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const c=u.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return M.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new be((d,f)=>d-f);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let f=i.get(d.largestBatchId);f===null&&(f=is(),i=i.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const u=is(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,f)=>u.set(d,f)),!(u.size()>=s)););return M.resolve(u)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new FR(n,r));let i=this.qr.get(n);i===void 0&&(i=se(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(){this.sessionToken=nt.EMPTY_BYTE_STRING}getSessionToken(e){return M.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,M.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(){this.Qr=new Be(We.$r),this.Ur=new Be(We.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new We(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new We(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new K(new me([])),r=new We(n,e),s=new We(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new K(new me([])),r=new We(n,e),s=new We(n,e+1);let i=se();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new We(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class We{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return K.comparator(e.key,n.key)||re(e.Yr,n.Yr)}static Kr(e,n){return re(e.Yr,n.Yr)||K.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Be(We.$r)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new MR(i,n,r,s);this.mutationQueue.push(o);for(const u of s)this.Zr=this.Zr.add(new We(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return M.resolve(o)}lookupMutationBatch(e,n){return M.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return M.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?Rm:this.tr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new We(n,0),s=new We(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const u=this.Xr(o.Yr);i.push(u)}),M.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Be(re);return n.forEach(s=>{const i=new We(s,0),o=new We(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],u=>{r=r.add(u.Yr)})}),M.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;K.isDocumentKey(i)||(i=i.child(""));const o=new We(new K(i),0);let u=new Be(re);return this.Zr.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(u=u.add(c.Yr)),!0)},o),M.resolve(this.ti(u))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ue(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return M.forEach(n.mutations,s=>{const i=new We(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new We(n,0),s=this.Zr.firstAfterOrEqual(r);return M.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e){this.ri=e,this.docs=function(){return new be(K.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():dt.newInvalidDocument(n))}getEntries(e,n){let r=Yn();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():dt.newInvalidDocument(s))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Yn();const o=n.path,u=new K(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:d,value:{document:f}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||Xk(Jk(f),r)<=0||(s.has(f.key)||_c(n,f))&&(i=i.insert(f.key,f.mutableCopy()))}return M.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Y(9500)}ii(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new SP(this)}getSize(e){return M.resolve(this.size)}}class SP extends yP{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e){this.persistence=e,this.si=new Is(n=>Dm(n),Om),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this.oi=0,this._i=new zm,this.targetCount=0,this.ai=Ei.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),M.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ei(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.Pr(n),M.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)}),M.waitFor(i).next(()=>s)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),M.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),M.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),M.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,n){this.ui={},this.overlays={},this.ci=new pc(0),this.li=!1,this.li=!0,this.hi=new EP,this.referenceDelegate=e(this),this.Pi=new NP(this),this.indexManager=new cP,this.remoteDocumentCache=function(s){return new IP(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new lP(n),this.Ii=new xP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new wP,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new TP(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){H("MemoryPersistence","Starting transaction:",e);const s=new bP(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return M.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class bP extends eR{constructor(e){super(),this.currentSequenceNumber=e}}class Bm{constructor(e){this.persistence=e,this.Ri=new zm,this.Vi=null}static mi(e){return new Bm(e)}get fi(){if(this.Vi)return this.Vi;throw Y(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),M.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.fi,r=>{const s=K.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,X.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return M.or([()=>M.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ru{constructor(e,n){this.persistence=e,this.pi=new Is(r=>rR(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=gP(this,n)}static mi(e,n){return new Ru(e,n)}Ei(){}di(e){return M.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return M.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?M.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(u=>{u||(r++,i.removeEntry(o,X.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),M.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),M.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),M.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),M.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=$l(e.data.value)),n}br(e,n,r){return M.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return M.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=se(),s=se();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Hm(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return yC()?8:tR(mt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new AP;return this.Ss(e,n,o).next(u=>{if(i.result=u,this.Vs)return this.bs(e,n,o,u.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(js()<=ne.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",Ds(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),M.resolve()):(js()<=ne.DEBUG&&H("QueryEngine","Query:",Ds(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(js()<=ne.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",Ds(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xn(n))):M.resolve())}ys(e,n){if(Nv(n))return M.resolve(null);let r=xn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Au(n,null,"F"),r=xn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=se(...i);return this.ps.getDocuments(e,o).next(u=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.Ds(n,u);return this.Cs(n,d,o,c.readTime)?this.ys(e,Au(n,null,"F")):this.vs(e,d,n,c)}))})))}ws(e,n,r,s){return Nv(n)||s.isEqual(X.min())?M.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?M.resolve(null):(js()<=ne.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ds(n)),this.vs(e,o,n,Yk(s,oa)).next(u=>u))})}Ds(e,n){let r=new Be(_1(e));return n.forEach((s,i)=>{_c(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return js()<=ne.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",Ds(n)),this.ps.getDocumentsMatchingQuery(e,n,Dr.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="LocalStore",kP=3e8;class RP{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new be(re),this.xs=new Is(i=>Dm(i),Om),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _P(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function PP(t,e,n,r){return new RP(t,e,n,r)}async function z1(t,e){const n=Z(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],u=[];let c=se();for(const d of s){o.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}for(const d of i){u.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(r,c).next(d=>({Ls:d,removedBatchIds:o,addedBatchIds:u}))})})}function jP(t,e){const n=Z(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(u,c,d,f){const m=d.batch,g=m.keys();let T=M.resolve();return g.forEach(b=>{T=T.next(()=>f.getEntry(c,b)).next(C=>{const k=d.docVersions.get(b);ue(k!==null,48541),C.version.compareTo(k)<0&&(m.applyToRemoteDocument(C,d),C.isValidDocument()&&(C.setReadTime(d.commitVersion),f.addEntry(C)))})}),T.next(()=>u.mutationQueue.removeMutationBatch(c,m))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let c=se();for(let d=0;d<u.mutationResults.length;++d)u.mutationResults[d].transformResults.length>0&&(c=c.add(u.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function B1(t){const e=Z(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function DP(t,e){const n=Z(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const u=[];e.targetChanges.forEach((f,m)=>{const g=s.get(m);if(!g)return;u.push(n.Pi.removeMatchingKeys(i,f.removedDocuments,m).next(()=>n.Pi.addMatchingKeys(i,f.addedDocuments,m)));let T=g.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(m)!==null?T=T.withResumeToken(nt.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):f.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(f.resumeToken,r)),s=s.insert(m,T),function(C,k,E){return C.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=kP?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(g,T,f)&&u.push(n.Pi.updateTargetData(i,T))});let c=Yn(),d=se();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(i,f))}),u.push(OP(i,o,e.documentUpdates).next(f=>{c=f.ks,d=f.qs})),!r.isEqual(X.min())){const f=n.Pi.getLastRemoteSnapshotVersion(i).next(m=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));u.push(f)}return M.waitFor(u).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,d)).next(()=>c)}).then(i=>(n.Ms=s,i))}function OP(t,e,n){let r=se(),s=se();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Yn();return n.forEach((u,c)=>{const d=i.get(u);c.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(u)),c.isNoDocument()&&c.version.isEqual(X.min())?(e.removeEntry(u,c.readTime),o=o.insert(u,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(u,c)):H(qm,"Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",c.version)}),{ks:o,qs:s}})}function LP(t,e){const n=Z(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Rm),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function VP(t,e){const n=Z(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,M.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new yr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function ff(t,e,n){const r=Z(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!ji(o))throw o;H(qm,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function Fv(t,e,n){const r=Z(t);let s=X.min(),i=se();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,d,f){const m=Z(c),g=m.xs.get(f);return g!==void 0?M.resolve(m.Ms.get(g)):m.Pi.getTargetData(d,f)}(r,o,xn(e)).next(u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,u.targetId).next(c=>{i=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:X.min(),n?i:se())).next(u=>(MP(r,ER(e),u),{documents:u,Qs:i})))}function MP(t,e,n){let r=t.Os.get(e)||X.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class Uv{constructor(){this.activeTargetIds=AR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class FP{constructor(){this.Mo=new Uv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Uv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="ConnectivityMonitor";class zv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){H($v,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){H($v,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wl=null;function mf(){return wl===null?wl=function(){return 268435456+Math.round(2147483648*Math.random())}():wl++,"0x"+wl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="RestConnection",$P={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zP{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Su?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=mf(),u=this.zo(e,n.toUriEncodedString());H($d,`Sending RPC '${e}' ${o}:`,u,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:d}=new URL(u),f=Es(d);return this.Jo(e,u,c,r,f).then(m=>(H($d,`Received RPC '${e}' ${o}: `,m),m),m=>{throw vi($d,`RPC '${e}' ${o} failed with error: `,m,"url: ",u,"request:",r),m})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ri}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=$P[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const at="WebChannelConnection";class HP extends zP{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=mf();return new Promise((u,c)=>{const d=new Ww;d.setWithCredentials(!0),d.listenOnce(Kw.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Ul.NO_ERROR:const m=d.getResponseJson();H(at,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),u(m);break;case Ul.TIMEOUT:H(at,`RPC '${e}' ${o} timed out`),c(new B(V.DEADLINE_EXCEEDED,"Request time out"));break;case Ul.HTTP_ERROR:const g=d.getStatus();if(H(at,`RPC '${e}' ${o} failed with status:`,g,"response text:",d.getResponseText()),g>0){let T=d.getResponseJson();Array.isArray(T)&&(T=T[0]);const b=T==null?void 0:T.error;if(b&&b.status&&b.message){const C=function(E){const y=E.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(y)>=0?y:V.UNKNOWN}(b.status);c(new B(C,b.message))}else c(new B(V.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new B(V.UNAVAILABLE,"Connection failed."));break;default:Y(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{H(at,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(s);H(at,`RPC '${e}' ${o} sending request:`,s),d.send(n,"POST",f,r,15)})}T_(e,n,r){const s=mf(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Yw(),u=Qw(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const f=i.join("");H(at,`Creating RPC '${e}' stream ${s}: ${f}`,c);const m=o.createWebChannel(f,c);this.I_(m);let g=!1,T=!1;const b=new BP({Yo:k=>{T?H(at,`Not sending because RPC '${e}' stream ${s} is closed:`,k):(g||(H(at,`Opening RPC '${e}' stream ${s} transport.`),m.open(),g=!0),H(at,`RPC '${e}' stream ${s} sending:`,k),m.send(k))},Zo:()=>m.close()}),C=(k,E,y)=>{k.listen(E,w=>{try{y(w)}catch(D){setTimeout(()=>{throw D},0)}})};return C(m,xo.EventType.OPEN,()=>{T||(H(at,`RPC '${e}' stream ${s} transport opened.`),b.o_())}),C(m,xo.EventType.CLOSE,()=>{T||(T=!0,H(at,`RPC '${e}' stream ${s} transport closed`),b.a_(),this.E_(m))}),C(m,xo.EventType.ERROR,k=>{T||(T=!0,vi(at,`RPC '${e}' stream ${s} transport errored. Name:`,k.name,"Message:",k.message),b.a_(new B(V.UNAVAILABLE,"The operation could not be completed")))}),C(m,xo.EventType.MESSAGE,k=>{var E;if(!T){const y=k.data[0];ue(!!y,16349);const w=y,D=(w==null?void 0:w.error)||((E=w[0])==null?void 0:E.error);if(D){H(at,`RPC '${e}' stream ${s} received error:`,D);const L=D.status;let F=function(I){const N=Oe[I];if(N!==void 0)return k1(N)}(L),x=D.message;F===void 0&&(F=V.INTERNAL,x="Unknown error status: "+L+" with message "+D.message),T=!0,b.a_(new B(F,x)),m.close()}else H(at,`RPC '${e}' stream ${s} received:`,y),b.u_(y)}}),C(u,Gw.STAT_EVENT,k=>{k.stat===tf.PROXY?H(at,`RPC '${e}' stream ${s} detected buffering proxy`):k.stat===tf.NOPROXY&&H(at,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{b.__()},0),b}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function zd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(t){return new GR(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&H("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv="PersistentStream";class q1{constructor(e,n,r,s,i,o,u,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new H1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===V.RESOURCE_EXHAUSTED?(Qn(n.toString()),Qn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===V.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new B(V.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return H(Bv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(H(Bv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qP extends q1{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=JR(this.serializer,e),r=function(i){if(!("targetChange"in i))return X.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?X.min():o.readTime?wn(o.readTime):X.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=hf(this.serializer),n.addTarget=function(i,o){let u;const c=o.target;if(u=af(c)?{documents:eP(i,c)}:{query:tP(i,c).ft},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){u.resumeToken=j1(i,o.resumeToken);const d=uf(i,o.expectedCount);d!==null&&(u.expectedCount=d)}else if(o.snapshotVersion.compareTo(X.min())>0){u.readTime=ku(i,o.snapshotVersion.toTimestamp());const d=uf(i,o.expectedCount);d!==null&&(u.expectedCount=d)}return u}(this.serializer,e);const r=rP(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=hf(this.serializer),n.removeTarget=e,this.q_(n)}}class WP extends q1{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ue(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ue(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ue(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=ZR(e.writeResults,e.commitTime),r=wn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=hf(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>XR(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{}class GP extends KP{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new B(V.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,cf(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new B(V.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Ho(e,cf(n,r),s,o,u,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new B(V.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class QP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Qn(n),this.aa=!1):H("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs="RemoteStore";class YP{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Ss(this)&&(H(vs,"Restarting streams for network reachability change."),await async function(c){const d=Z(c);d.Ea.add(4),await ka(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Ic(d)}(this))})}),this.Ra=new QP(r,s)}}async function Ic(t){if(Ss(t))for(const e of t.da)await e(!0)}async function ka(t){for(const e of t.da)await e(!1)}function W1(t,e){const n=Z(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Qm(n)?Gm(n):Oi(n).O_()&&Km(n,e))}function Wm(t,e){const n=Z(t),r=Oi(n);n.Ia.delete(e),r.O_()&&K1(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ss(n)&&n.Ra.set("Unknown"))}function Km(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(X.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Oi(t).Y_(e)}function K1(t,e){t.Va.Ue(e),Oi(t).Z_(e)}function Gm(t){t.Va=new HR({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Oi(t).start(),t.Ra.ua()}function Qm(t){return Ss(t)&&!Oi(t).x_()&&t.Ia.size>0}function Ss(t){return Z(t).Ea.size===0}function G1(t){t.Va=void 0}async function JP(t){t.Ra.set("Online")}async function XP(t){t.Ia.forEach((e,n)=>{Km(t,e)})}async function ZP(t,e){G1(t),Qm(t)?(t.Ra.ha(e),Gm(t)):t.Ra.set("Unknown")}async function ej(t,e,n){if(t.Ra.set("Online"),e instanceof P1&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const u of i.targetIds)s.Ia.has(u)&&(await s.remoteSyncer.rejectListen(u,o),s.Ia.delete(u),s.Va.removeTarget(u))}(t,e)}catch(r){H(vs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Pu(t,r)}else if(e instanceof Hl?t.Va.Ze(e):e instanceof R1?t.Va.st(e):t.Va.tt(e),!n.isEqual(X.min()))try{const r=await B1(t.localStore);n.compareTo(r)>=0&&await function(i,o){const u=i.Va.Tt(o);return u.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const f=i.Ia.get(d);f&&i.Ia.set(d,f.withResumeToken(c.resumeToken,o))}}),u.targetMismatches.forEach((c,d)=>{const f=i.Ia.get(c);if(!f)return;i.Ia.set(c,f.withResumeToken(nt.EMPTY_BYTE_STRING,f.snapshotVersion)),K1(i,c);const m=new yr(f.target,c,d,f.sequenceNumber);Km(i,m)}),i.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(r){H(vs,"Failed to raise snapshot:",r),await Pu(t,r)}}async function Pu(t,e,n){if(!ji(e))throw e;t.Ea.add(1),await ka(t),t.Ra.set("Offline"),n||(n=()=>B1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{H(vs,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Ic(t)})}function Q1(t,e){return e().catch(n=>Pu(t,n,e))}async function Sc(t){const e=Z(t),n=Mr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Rm;for(;tj(e);)try{const s=await LP(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,nj(e,s)}catch(s){await Pu(e,s)}Y1(e)&&J1(e)}function tj(t){return Ss(t)&&t.Ta.length<10}function nj(t,e){t.Ta.push(e);const n=Mr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Y1(t){return Ss(t)&&!Mr(t).x_()&&t.Ta.length>0}function J1(t){Mr(t).start()}async function rj(t){Mr(t).ra()}async function sj(t){const e=Mr(t);for(const n of t.Ta)e.ea(n.mutations)}async function ij(t,e,n){const r=t.Ta.shift(),s=Fm.from(r,e,n);await Q1(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Sc(t)}async function oj(t,e){e&&Mr(t).X_&&await async function(r,s){if(function(o){return $R(o)&&o!==V.ABORTED}(s.code)){const i=r.Ta.shift();Mr(r).B_(),await Q1(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Sc(r)}}(t,e),Y1(t)&&J1(t)}async function Hv(t,e){const n=Z(t);n.asyncQueue.verifyOperationInProgress(),H(vs,"RemoteStore received new credentials");const r=Ss(n);n.Ea.add(3),await ka(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Ic(n)}async function aj(t,e){const n=Z(t);e?(n.Ea.delete(2),await Ic(n)):e||(n.Ea.add(2),await ka(n),n.Ra.set("Unknown"))}function Oi(t){return t.ma||(t.ma=function(n,r,s){const i=Z(n);return i.sa(),new qP(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:JP.bind(null,t),t_:XP.bind(null,t),r_:ZP.bind(null,t),H_:ej.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Qm(t)?Gm(t):t.Ra.set("Unknown")):(await t.ma.stop(),G1(t))})),t.ma}function Mr(t){return t.fa||(t.fa=function(n,r,s){const i=Z(n);return i.sa(),new WP(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:rj.bind(null,t),r_:oj.bind(null,t),ta:sj.bind(null,t),na:ij.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Sc(t)):(await t.fa.stop(),t.Ta.length>0&&(H(vs,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new zn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,u=new Ym(e,n,o,s,i);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jm(t,e){if(Qn("AsyncQueue",`${e}: ${t}`),ji(t))return new B(V.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{static emptySet(e){return new ii(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||K.comparator(n.key,r.key):(n,r)=>K.comparator(n.key,r.key),this.keyedMap=wo(),this.sortedSet=new be(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ii)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ii;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(){this.ga=new be(K.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Y(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ti{constructor(e,n,r,s,i,o,u,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(u=>{o.push({type:0,doc:u})}),new Ti(e,n,ii.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class uj{constructor(){this.queries=Wv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Z(n),i=s.queries;s.queries=Wv(),i.forEach((o,u)=>{for(const c of u.Sa)c.onError(r)})})(this,new B(V.ABORTED,"Firestore shutting down"))}}function Wv(){return new Is(t=>v1(t),vc)}async function X1(t,e){const n=Z(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new lj,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const u=Jm(o,`Initialization of query '${Ds(e.query)}' failed`);return void e.onError(u)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Xm(n)}async function Z1(t,e){const n=Z(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function cj(t,e){const n=Z(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const u of o.Sa)u.Fa(s)&&(r=!0);o.wa=s}}r&&Xm(n)}function dj(t,e,n){const r=Z(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Xm(t){t.Ca.forEach(e=>{e.next()})}var pf,Kv;(Kv=pf||(pf={})).Ma="default",Kv.Cache="cache";class eE{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ti(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ti.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==pf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e){this.key=e}}class nE{constructor(e){this.key=e}}class hj{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=se(),this.mutatedKeys=se(),this.eu=_1(e),this.tu=new ii(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new qv,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,u=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((f,m)=>{const g=s.get(f),T=_c(this.query,m)?m:null,b=!!g&&this.mutatedKeys.has(g.key),C=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let k=!1;g&&T?g.data.isEqual(T.data)?b!==C&&(r.track({type:3,doc:T}),k=!0):this.su(g,T)||(r.track({type:2,doc:T}),k=!0,(c&&this.eu(T,c)>0||d&&this.eu(T,d)<0)&&(u=!0)):!g&&T?(r.track({type:0,doc:T}),k=!0):g&&!T&&(r.track({type:1,doc:g}),k=!0,(c||d)&&(u=!0)),k&&(T?(o=o.add(T),i=C?i.add(f):i.delete(f)):(o=o.delete(f),i=i.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),i=i.delete(f.key),r.track({type:1,doc:f})}return{tu:o,iu:r,Cs:u,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((f,m)=>function(T,b){const C=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y(20277,{Rt:k})}};return C(T)-C(b)}(f.type,m.type)||this.eu(f.doc,m.doc)),this.ou(r),s=s??!1;const u=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,d=c!==this.Za;return this.Za=c,o.length!==0||d?{snapshot:new Ti(this.query,e.tu,i,o,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new qv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=se(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new nE(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new tE(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=se();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ti.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Zm="SyncEngine";class fj{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class mj{constructor(e){this.key=e,this.hu=!1}}class pj{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Is(u=>v1(u),vc),this.Iu=new Map,this.Eu=new Set,this.du=new be(K.comparator),this.Au=new Map,this.Ru=new zm,this.Vu={},this.mu=new Map,this.fu=Ei.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function gj(t,e,n=!0){const r=lE(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await rE(r,e,n,!0),s}async function yj(t,e){const n=lE(t);await rE(n,e,!0,!1)}async function rE(t,e,n,r){const s=await VP(t.localStore,xn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let u;return r&&(u=await vj(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&W1(t.remoteStore,s),u}async function vj(t,e,n,r,s){t.pu=(m,g,T)=>async function(C,k,E,y){let w=k.view.ru(E);w.Cs&&(w=await Fv(C.localStore,k.query,!1).then(({documents:x})=>k.view.ru(x,w)));const D=y&&y.targetChanges.get(k.targetId),L=y&&y.targetMismatches.get(k.targetId)!=null,F=k.view.applyChanges(w,C.isPrimaryClient,D,L);return Qv(C,k.targetId,F.au),F.snapshot}(t,m,g,T);const i=await Fv(t.localStore,e,!0),o=new hj(e,i.Qs),u=o.ru(i.documents),c=Ca.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(u,t.isPrimaryClient,c);Qv(t,n,d.au);const f=new fj(e,n,o);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function _j(t,e,n){const r=Z(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!vc(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await ff(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Wm(r.remoteStore,s.targetId),gf(r,s.targetId)}).catch(Pi)):(gf(r,s.targetId),await ff(r.localStore,s.targetId,!0))}async function xj(t,e){const n=Z(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Wm(n.remoteStore,r.targetId))}async function wj(t,e,n){const r=Aj(t);try{const s=await function(o,u){const c=Z(o),d=_e.now(),f=u.reduce((T,b)=>T.add(b.key),se());let m,g;return c.persistence.runTransaction("Locally write mutations","readwrite",T=>{let b=Yn(),C=se();return c.Ns.getEntries(T,f).next(k=>{b=k,b.forEach((E,y)=>{y.isValidDocument()||(C=C.add(E))})}).next(()=>c.localDocuments.getOverlayedDocuments(T,b)).next(k=>{m=k;const E=[];for(const y of u){const w=LR(y,m.get(y.key).overlayedDocument);w!=null&&E.push(new Hr(y.key,w,c1(w.value.mapValue),nn.exists(!0)))}return c.mutationQueue.addMutationBatch(T,d,E,u)}).next(k=>{g=k;const E=k.applyToLocalDocumentSet(m,C);return c.documentOverlayCache.saveOverlays(T,k.batchId,E)})}).then(()=>({batchId:g.batchId,changes:w1(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,u,c){let d=o.Vu[o.currentUser.toKey()];d||(d=new be(re)),d=d.insert(u,c),o.Vu[o.currentUser.toKey()]=d}(r,s.batchId,n),await Ra(r,s.changes),await Sc(r.remoteStore)}catch(s){const i=Jm(s,"Failed to persist write");n.reject(i)}}async function sE(t,e){const n=Z(t);try{const r=await DP(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(ue(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?ue(o.hu,14607):s.removedDocuments.size>0&&(ue(o.hu,42227),o.hu=!1))}),await Ra(n,r,e)}catch(r){await Pi(r)}}function Gv(t,e,n){const r=Z(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const u=o.view.va(e);u.snapshot&&s.push(u.snapshot)}),function(o,u){const c=Z(o);c.onlineState=u;let d=!1;c.queries.forEach((f,m)=>{for(const g of m.Sa)g.va(u)&&(d=!0)}),d&&Xm(c)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Ej(t,e,n){const r=Z(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new be(K.comparator);o=o.insert(i,dt.newNoDocument(i,X.min()));const u=se().add(i),c=new Ec(X.min(),new Map,new be(re),o,u);await sE(r,c),r.du=r.du.remove(i),r.Au.delete(e),ep(r)}else await ff(r.localStore,e,!1).then(()=>gf(r,e,n)).catch(Pi)}async function Tj(t,e){const n=Z(t),r=e.batch.batchId;try{const s=await jP(n.localStore,e);oE(n,r,null),iE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ra(n,s)}catch(s){await Pi(s)}}async function Ij(t,e,n){const r=Z(t);try{const s=await function(o,u){const c=Z(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return c.mutationQueue.lookupMutationBatch(d,u).next(m=>(ue(m!==null,37113),f=m.keys(),c.mutationQueue.removeMutationBatch(d,m))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,f,u)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>c.localDocuments.getDocuments(d,f))})}(r.localStore,e);oE(r,e,n),iE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ra(r,s)}catch(s){await Pi(s)}}function iE(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function oE(t,e,n){const r=Z(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function gf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||aE(t,r)})}function aE(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Wm(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),ep(t))}function Qv(t,e,n){for(const r of n)r instanceof tE?(t.Ru.addReference(r.key,e),Sj(t,r)):r instanceof nE?(H(Zm,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||aE(t,r.key)):Y(19791,{wu:r})}function Sj(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(H(Zm,"New document in limbo: "+n),t.Eu.add(r),ep(t))}function ep(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new K(me.fromString(e)),r=t.fu.next();t.Au.set(r,new mj(n)),t.du=t.du.insert(n,r),W1(t.remoteStore,new yr(xn(Lm(n.path)),r,"TargetPurposeLimboResolution",pc.ce))}}async function Ra(t,e,n){const r=Z(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((u,c)=>{o.push(r.pu(c,e,n).then(d=>{var f;if((d||n)&&r.isPrimaryClient){const m=d?!d.fromCache:(f=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:f.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(d){s.push(d);const m=Hm.As(c.targetId,d);i.push(m)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(c,d){const f=Z(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>M.forEach(d,g=>M.forEach(g.Es,T=>f.persistence.referenceDelegate.addReference(m,g.targetId,T)).next(()=>M.forEach(g.ds,T=>f.persistence.referenceDelegate.removeReference(m,g.targetId,T)))))}catch(m){if(!ji(m))throw m;H(qm,"Failed to update sequence numbers: "+m)}for(const m of d){const g=m.targetId;if(!m.fromCache){const T=f.Ms.get(g),b=T.snapshotVersion,C=T.withLastLimboFreeSnapshotVersion(b);f.Ms=f.Ms.insert(g,C)}}}(r.localStore,i))}async function Nj(t,e){const n=Z(t);if(!n.currentUser.isEqual(e)){H(Zm,"User change. New user:",e.toKey());const r=await z1(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(u=>{u.forEach(c=>{c.reject(new B(V.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ra(n,r.Ls)}}function bj(t,e){const n=Z(t),r=n.Au.get(e);if(r&&r.hu)return se().add(r.key);{let s=se();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const u=n.Tu.get(o);s=s.unionWith(u.view.nu)}return s}}function lE(t){const e=Z(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=sE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ej.bind(null,e),e.Pu.H_=cj.bind(null,e.eventManager),e.Pu.yu=dj.bind(null,e.eventManager),e}function Aj(t){const e=Z(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Tj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ij.bind(null,e),e}class ju{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Tc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return PP(this.persistence,new CP,e.initialUser,this.serializer)}Cu(e){return new $1(Bm.mi,this.serializer)}Du(e){return new FP}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ju.provider={build:()=>new ju};class Cj extends ju{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ue(this.persistence.referenceDelegate instanceof Ru,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new mP(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?wt.withCacheSize(this.cacheSizeBytes):wt.DEFAULT;return new $1(r=>Ru.mi(r,n),this.serializer)}}class yf{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Gv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Nj.bind(null,this.syncEngine),await aj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new uj}()}createDatastore(e){const n=Tc(e.databaseInfo.databaseId),r=function(i){return new HP(i)}(e.databaseInfo);return function(i,o,u,c){return new GP(i,o,u,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,u){return new YP(r,s,i,o,u)}(this.localStore,this.datastore,e.asyncQueue,n=>Gv(this.syncEngine,n,0),function(){return zv.v()?new zv:new UP}())}createSyncEngine(e,n){return function(s,i,o,u,c,d,f){const m=new pj(s,i,o,u,c,d);return f&&(m.gu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Z(s);H(vs,"RemoteStore shutting down."),i.Ea.add(5),await ka(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}yf.provider={build:()=>new yf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Qn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr="FirestoreClient";class kj{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=ut.UNAUTHENTICATED,this.clientId=km.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{H(Fr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(H(Fr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Jm(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Bd(t,e){t.asyncQueue.verifyOperationInProgress(),H(Fr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await z1(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Yv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Rj(t);H(Fr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Hv(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Hv(e.remoteStore,s)),t._onlineComponents=e}async function Rj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){H(Fr,"Using user provided OfflineComponentProvider");try{await Bd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===V.FAILED_PRECONDITION||s.code===V.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;vi("Error using user provided cache. Falling back to memory cache: "+n),await Bd(t,new ju)}}else H(Fr,"Using default OfflineComponentProvider"),await Bd(t,new Cj(void 0));return t._offlineComponents}async function cE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(H(Fr,"Using user provided OnlineComponentProvider"),await Yv(t,t._uninitializedComponentsProvider._online)):(H(Fr,"Using default OnlineComponentProvider"),await Yv(t,new yf))),t._onlineComponents}function Pj(t){return cE(t).then(e=>e.syncEngine)}async function dE(t){const e=await cE(t),n=e.eventManager;return n.onListen=gj.bind(null,e.syncEngine),n.onUnlisten=_j.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=yj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=xj.bind(null,e.syncEngine),n}function jj(t,e,n={}){const r=new zn;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,u,c,d){const f=new uE({next:g=>{f.Nu(),o.enqueueAndForget(()=>Z1(i,m));const T=g.docs.has(u);!T&&g.fromCache?d.reject(new B(V.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&g.fromCache&&c&&c.source==="server"?d.reject(new B(V.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(g)},error:g=>d.reject(g)}),m=new eE(Lm(u.path),f,{includeMetadataChanges:!0,qa:!0});return X1(i,m)}(await dE(t),t.asyncQueue,e,n,r)),r.promise}function Dj(t,e,n={}){const r=new zn;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,u,c,d){const f=new uE({next:g=>{f.Nu(),o.enqueueAndForget(()=>Z1(i,m)),g.fromCache&&c.source==="server"?d.reject(new B(V.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(g)},error:g=>d.reject(g)}),m=new eE(u,f,{includeMetadataChanges:!0,qa:!0});return X1(i,m)}(await dE(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="firestore.googleapis.com",Xv=!0;class Zv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new B(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fE,this.ssl=Xv}else this.host=e.host,this.ssl=e.ssl??Xv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=U1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hP)throw new B(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Gk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hE(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new B(V.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new B(V.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new B(V.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nc{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new B(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new B(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Mk;switch(r.type){case"firstParty":return new zk(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new B(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Jv.get(n);r&&(H("ComponentProvider","Removing Datastore"),Jv.delete(n),r.terminate())}(this),Promise.resolve()}}function Oj(t,e,n,r={}){var d;t=Nn(t,Nc);const s=Es(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;s&&(Sm(`https://${u}`),Nm("Firestore",!0)),i.host!==fE&&i.host!==u&&vi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:u,ssl:s,emulatorOptions:r};if(!ps(c,o)&&(t._setSettings(c),r.mockUserToken)){let f,m;if(typeof r.mockUserToken=="string")f=r.mockUserToken,m=ut.MOCK_USER;else{f=Fw(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new B(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new ut(g)}t._authCredentials=new Fk(new Xw(f,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qr(this.firestore,e,this._query)}}class De{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new De(this.firestore,e,this._key)}toJSON(){return{type:De._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ba(n,De._jsonSchema))return new De(e,r||null,new K(me.fromString(n.referencePath)))}}De._jsonSchemaVersion="firestore/documentReference/1.0",De._jsonSchema={type:Me("string",De._jsonSchemaVersion),referencePath:Me("string")};class Cr extends qr{constructor(e,n,r){super(e,n,Lm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new De(this.firestore,null,new K(e))}withConverter(e){return new Cr(this.firestore,e,this._path)}}function tp(t,e,...n){if(t=He(t),Zw("collection","path",e),t instanceof Nc){const r=me.fromString(e,...n);return hv(r),new Cr(t,null,r)}{if(!(t instanceof De||t instanceof Cr))throw new B(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(me.fromString(e,...n));return hv(r),new Cr(t.firestore,null,r)}}function Qs(t,e,...n){if(t=He(t),arguments.length===1&&(e=km.newId()),Zw("doc","path",e),t instanceof Nc){const r=me.fromString(e,...n);return dv(r),new De(t,null,new K(r))}{if(!(t instanceof De||t instanceof Cr))throw new B(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(me.fromString(e,...n));return dv(r),new De(t.firestore,t instanceof Cr?t.converter:null,new K(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="AsyncQueue";class t0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new H1(this,"async_queue_retry"),this._c=()=>{const r=zd();r&&H(e0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=zd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=zd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new zn;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ji(e))throw e;H(e0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Qn("INTERNAL UNHANDLED ERROR: ",n0(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Ym.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&Y(47125,{Pc:n0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function n0(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Li extends Nc{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new t0,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new t0(e),this._firestoreClient=void 0,await e}}}function Lj(t,e){const n=typeof t=="object"?t:fc(),r=typeof t=="string"?t:Su,s=hc(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=Lw("firestore");i&&Oj(s,...i)}return s}function np(t){if(t._terminated)throw new B(V.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Vj(t),t._firestoreClient}function Vj(t){var r,s,i;const e=t._freezeSettings(),n=function(u,c,d,f){return new oR(u,c,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,hE(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new kj(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zt(nt.fromBase64String(e))}catch(n){throw new B(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zt(nt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zt._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ba(e,zt._jsonSchema))return zt.fromBase64String(e.bytes)}}zt._jsonSchemaVersion="firestore/bytes/1.0",zt._jsonSchema={type:Me("string",zt._jsonSchemaVersion),bytes:Me("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new B(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new B(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new B(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return re(this._lat,e._lat)||re(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:En._jsonSchemaVersion}}static fromJSON(e){if(ba(e,En._jsonSchema))return new En(e.latitude,e.longitude)}}En._jsonSchemaVersion="firestore/geoPoint/1.0",En._jsonSchema={type:Me("string",En._jsonSchemaVersion),latitude:Me("number"),longitude:Me("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Tn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ba(e,Tn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Tn(e.vectorValues);throw new B(V.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Tn._jsonSchemaVersion="firestore/vectorValue/1.0",Tn._jsonSchema={type:Me("string",Tn._jsonSchemaVersion),vectorValues:Me("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mj=/^__.*__$/;class Fj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Hr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Aa(e,this.data,n,this.fieldTransforms)}}class mE{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Hr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function pE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y(40011,{Ac:t})}}class rp{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new rp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Du(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(pE(this.Ac)&&Mj.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Uj{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Tc(e)}Cc(e,n,r,s=!1){return new rp({Ac:e,methodName:n,Dc:r,path:Ze.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sp(t){const e=t._freezeSettings(),n=Tc(t._databaseId);return new Uj(t._databaseId,!!e.ignoreUndefinedProperties,n)}function $j(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);op("Data must be an object, but it was:",o,r);const u=gE(r,o);let c,d;if(i.merge)c=new Rt(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const f=[];for(const m of i.mergeFields){const g=vf(e,m,n);if(!o.contains(g))throw new B(V.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);vE(f,g)||f.push(g)}c=new Rt(f),d=o.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,d=o.fieldTransforms;return new Fj(new Tt(u),c,d)}class Cc extends Ac{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cc}}class ip extends Ac{_toFieldTransform(e){return new PR(e.path,new da)}isEqual(e){return e instanceof ip}}function zj(t,e,n,r){const s=t.Cc(1,e,n);op("Data must be an object, but it was:",s,r);const i=[],o=Tt.empty();Br(r,(c,d)=>{const f=ap(e,c,n);d=He(d);const m=s.yc(f);if(d instanceof Cc)i.push(f);else{const g=Pa(d,m);g!=null&&(i.push(f),o.set(f,g))}});const u=new Rt(i);return new mE(o,u,s.fieldTransforms)}function Bj(t,e,n,r,s,i){const o=t.Cc(1,e,n),u=[vf(e,r,n)],c=[s];if(i.length%2!=0)throw new B(V.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<i.length;g+=2)u.push(vf(e,i[g])),c.push(i[g+1]);const d=[],f=Tt.empty();for(let g=u.length-1;g>=0;--g)if(!vE(d,u[g])){const T=u[g];let b=c[g];b=He(b);const C=o.yc(T);if(b instanceof Cc)d.push(T);else{const k=Pa(b,C);k!=null&&(d.push(T),f.set(T,k))}}const m=new Rt(d);return new mE(f,m,o.fieldTransforms)}function Hj(t,e,n,r=!1){return Pa(n,t.Cc(r?4:3,e))}function Pa(t,e){if(yE(t=He(t)))return op("Unsupported field value:",e,t),gE(t,e);if(t instanceof Ac)return function(r,s){if(!pE(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const u of r){let c=Pa(u,s.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=He(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return CR(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=_e.fromDate(r);return{timestampValue:ku(s.serializer,i)}}if(r instanceof _e){const i=new _e(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ku(s.serializer,i)}}if(r instanceof En)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zt)return{bytesValue:j1(s.serializer,r._byteString)};if(r instanceof De){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:$m(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Tn)return function(o,u){return{mapValue:{fields:{[l1]:{stringValue:u1},[Nu]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw u.Sc("VectorValues must only contain numeric values.");return Vm(u.serializer,d)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${mc(r)}`)}(t,e)}function gE(t,e){const n={};return n1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Br(t,(r,s)=>{const i=Pa(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function yE(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof _e||t instanceof En||t instanceof zt||t instanceof De||t instanceof Ac||t instanceof Tn)}function op(t,e,n){if(!yE(n)||!e1(n)){const r=mc(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function vf(t,e,n){if((e=He(e))instanceof bc)return e._internalPath;if(typeof e=="string")return ap(t,e);throw Du("Field path arguments must be of type string or ",t,!1,void 0,n)}const qj=new RegExp("[~\\*/\\[\\]]");function ap(t,e,n){if(e.search(qj)>=0)throw Du(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new bc(...e.split("."))._internalPath}catch{throw Du(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Du(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new B(V.INVALID_ARGUMENT,u+t+c)}function vE(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new De(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Wj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(kc("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Wj extends _E{data(){return super.data()}}function kc(t,e){return typeof e=="string"?ap(t,e):e instanceof bc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new B(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lp{}class up extends lp{}function cp(t,e,...n){let r=[];e instanceof lp&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof dp).length,u=i.filter(c=>c instanceof Rc).length;if(o>1||o>0&&u>0)throw new B(V.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Rc extends up{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Rc(e,n,r)}_apply(e){const n=this._parse(e);return wE(e._query,n),new qr(e.firestore,e.converter,lf(e._query,n))}_parse(e){const n=sp(e.firestore);return function(i,o,u,c,d,f,m){let g;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new B(V.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){s0(m,f);const b=[];for(const C of m)b.push(r0(c,i,C));g={arrayValue:{values:b}}}else g=r0(c,i,m)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||s0(m,f),g=Hj(u,o,m,f==="in"||f==="not-in");return Ve.create(d,f,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function xE(t,e,n){const r=e,s=kc("where",t);return Rc._create(s,r,n)}class dp extends lp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new dp(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:on.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const u=i.getFlattenedFilters();for(const c of u)wE(o,c),o=lf(o,c)}(e._query,n),new qr(e.firestore,e.converter,lf(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class hp extends up{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new hp(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new B(V.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new B(V.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ca(i,o)}(e._query,this._field,this._direction);return new qr(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Di(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Gj(t,e="asc"){const n=e,r=kc("orderBy",t);return hp._create(r,n)}class fp extends up{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new fp(e,n,r)}_apply(e){return new qr(e.firestore,e.converter,Au(e._query,this._limit,this._limitType))}}function Qj(t){return Qk("limit",t),fp._create("limit",t,"F")}function r0(t,e,n){if(typeof(n=He(n))=="string"){if(n==="")throw new B(V.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!y1(e)&&n.indexOf("/")!==-1)throw new B(V.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(me.fromString(n));if(!K.isDocumentKey(r))throw new B(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return xv(t,new K(r))}if(n instanceof De)return xv(t,n._key);throw new B(V.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mc(n)}.`)}function s0(t,e){if(!Array.isArray(t)||t.length===0)throw new B(V.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wE(t,e){const n=function(s,i){for(const o of s)for(const u of o.getFlattenedFilters())if(i.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new B(V.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new B(V.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Yj{convertValue(e,n="none"){switch(Vr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Lr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Y(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Br(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Nu].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>Pe(o.doubleValue));return new Tn(n)}convertGeoPoint(e){return new En(Pe(e.latitude),Pe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=yc(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(aa(e));default:return null}}convertTimestamp(e){const n=Or(e);return new _e(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=me.fromString(e);ue(F1(r),9688,{name:e});const s=new la(r.get(1),r.get(3)),i=new K(r.popFirst(5));return s.isEqual(n)||Qn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jj(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class To{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class us extends _E{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ql(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(kc("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new B(V.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=us._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}us._jsonSchemaVersion="firestore/documentSnapshot/1.0",us._jsonSchema={type:Me("string",us._jsonSchemaVersion),bundleSource:Me("string","DocumentSnapshot"),bundleName:Me("string"),bundle:Me("string")};class ql extends us{data(e={}){return super.data(e)}}class oi{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new To(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ql(this._firestore,this._userDataWriter,r.key,r,new To(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new B(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(u=>{const c=new ql(s._firestore,s._userDataWriter,u.doc.key,u.doc,new To(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(u=>i||u.type!==3).map(u=>{const c=new ql(s._firestore,s._userDataWriter,u.doc.key,u.doc,new To(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,f=-1;return u.type!==0&&(d=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),u.type!==1&&(o=o.add(u.doc),f=o.indexOf(u.doc.key)),{type:Xj(u.type),doc:c,oldIndex:d,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new B(V.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=oi._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=km.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Xj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(t){t=Nn(t,De);const e=Nn(t.firestore,Li);return jj(np(e),t._key).then(n=>n4(e,t,n))}oi._jsonSchemaVersion="firestore/querySnapshot/1.0",oi._jsonSchema={type:Me("string",oi._jsonSchemaVersion),bundleSource:Me("string","QuerySnapshot"),bundleName:Me("string"),bundle:Me("string")};class EE extends Yj{constructor(e){super(),this.firestore=e}convertBytes(e){return new zt(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new De(this.firestore,null,n)}}function pp(t){t=Nn(t,qr);const e=Nn(t.firestore,Li),n=np(e),r=new EE(e);return Kj(t._query),Dj(n,t._query).then(s=>new oi(e,r,t,s))}function Zj(t,e,n){t=Nn(t,De);const r=Nn(t.firestore,Li),s=Jj(t.converter,e);return gp(r,[$j(sp(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,nn.none())])}function e4(t,e,n,...r){t=Nn(t,De);const s=Nn(t.firestore,Li),i=sp(s);let o;return o=typeof(e=He(e))=="string"||e instanceof bc?Bj(i,"updateDoc",t._key,e,n,r):zj(i,"updateDoc",t._key,e),gp(s,[o.toMutation(t._key,nn.exists(!0))])}function t4(t){return gp(Nn(t.firestore,Li),[new Mm(t._key,nn.none())])}function gp(t,e){return function(r,s){const i=new zn;return r.asyncQueue.enqueueAndForget(async()=>wj(await Pj(r),s,i)),i.promise}(np(t),e)}function n4(t,e,n){const r=n.docs.get(e._key),s=new EE(t);return new us(t,s,e._key,r,new To(n.hasPendingWrites,n.fromCache),e.converter)}function i0(){return new ip("serverTimestamp")}(function(e,n=!0){(function(s){Ri=s})(Ts),gs(new jr("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),u=new Li(new Uk(r.getProvider("auth-internal")),new Bk(o,r.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new B(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new la(d.options.projectId,f)}(o,s),o);return i={useFetchStreams:n,...i},u._setSettings(i),u},"PUBLIC").setMultipleInstances(!0)),_n(av,lv,e),_n(av,lv,"esm2020")})();function TE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const r4=TE,IE=new Sa("auth","Firebase",TE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou=new bm("@firebase/auth");function s4(t,...e){Ou.logLevel<=ne.WARN&&Ou.warn(`Auth (${Ts}): ${t}`,...e)}function Wl(t,...e){Ou.logLevel<=ne.ERROR&&Ou.error(`Auth (${Ts}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(t,...e){throw yp(t,...e)}function In(t,...e){return yp(t,...e)}function SE(t,e,n){const r={...r4(),[e]:n};return new Sa("auth","Firebase",r).create(e,{appName:t.name})}function kr(t){return SE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yp(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return IE.create(t,...e)}function Q(t,e,...n){if(!t)throw yp(e,...n)}function Vn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Wl(e),new Error(e)}function Jn(t,e){t||Vn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function i4(){return o0()==="http:"||o0()==="https:"}function o0(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(i4()||mC()||"connection"in navigator)?navigator.onLine:!0}function a4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,n){this.shortDelay=e,this.longDelay=n,Jn(n>e,"Short delay should be less than long delay!"),this.isMobile=dC()||pC()}get(){return o4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(t,e){Jn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],c4=new ja(3e4,6e4);function Ns(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Wr(t,e,n,r,s={}){return bE(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const u=Na({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...i};return fC()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Es(t.emulatorConfig.host)&&(d.credentials="include"),NE.fetch()(await AE(t,t.config.apiHost,n,u),d)})}async function bE(t,e,n){t._canInitEmulator=!1;const r={...l4,...e};try{const s=new h4(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw El(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const u=i.ok?o.errorMessage:o.error.message,[c,d]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw El(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw El(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw El(t,"user-disabled",o);const f=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw SE(t,f,d);an(t,f)}}catch(s){if(s instanceof Cn)throw s;an(t,"network-request-failed",{message:String(s)})}}async function Pc(t,e,n,r,s={}){const i=await Wr(t,e,n,r,s);return"mfaPendingCredential"in i&&an(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function AE(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?vp(t.config,s):`${t.config.apiScheme}://${s}`;return u4.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function d4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class h4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(In(this.auth,"network-request-failed")),c4.get())})}}function El(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=In(t,e,r);return s.customData._tokenResponse=n,s}function a0(t){return t!==void 0&&t.enterprise!==void 0}class f4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return d4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function m4(t,e){return Wr(t,"GET","/v2/recaptchaConfig",Ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p4(t,e){return Wr(t,"POST","/v1/accounts:delete",e)}async function Lu(t,e){return Wr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function g4(t,e=!1){const n=He(t),r=await n.getIdToken(e),s=_p(r);Q(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Mo(Hd(s.auth_time)),issuedAtTime:Mo(Hd(s.iat)),expirationTime:Mo(Hd(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Hd(t){return Number(t)*1e3}function _p(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Wl("JWT malformed, contained fewer than 3 sections"),null;try{const s=Dw(n);return s?JSON.parse(s):(Wl("Failed to decode base64 JWT payload"),null)}catch(s){return Wl("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function l0(t){const e=_p(t);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ma(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Cn&&y4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function y4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mo(this.lastLoginAt),this.creationTime=Mo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vu(t){var m;const e=t.auth,n=await t.getIdToken(),r=await ma(t,Lu(e,{idToken:n}));Q(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(m=s.providerUserInfo)!=null&&m.length?CE(s.providerUserInfo):[],o=x4(t.providerData,i),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),d=u?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new xf(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function _4(t){const e=He(t);await Vu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function x4(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function CE(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w4(t,e){const n=await bE(t,{},async()=>{const r=Na({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await AE(t,s,"/v1/token",`key=${i}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:u,body:r};return t.emulatorConfig&&Es(t.emulatorConfig.host)&&(c.credentials="include"),NE.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function E4(t,e){return Wr(t,"POST","/v2/accounts:revokeToken",Ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):l0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Q(e.length!==0,"internal-error");const n=l0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await w4(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new ai;return r&&(Q(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Q(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Q(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ai,this.toJSON())}_performRefresh(){return Vn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(t,e){Q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Xt{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new v4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new xf(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ma(this,this.stsTokenManager.getToken(this.auth,e));return Q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return g4(this,e)}reload(){return _4(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Xt({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Vu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($t(this.auth.app))return Promise.reject(kr(this.auth));const e=await this.getIdToken();return await ma(this,p4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,u=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:m,emailVerified:g,isAnonymous:T,providerData:b,stsTokenManager:C}=n;Q(m&&C,e,"internal-error");const k=ai.fromJSON(this.name,C);Q(typeof m=="string",e,"internal-error"),or(r,e.name),or(s,e.name),Q(typeof g=="boolean",e,"internal-error"),Q(typeof T=="boolean",e,"internal-error"),or(i,e.name),or(o,e.name),or(u,e.name),or(c,e.name),or(d,e.name),or(f,e.name);const E=new Xt({uid:m,auth:e,email:s,emailVerified:g,displayName:r,isAnonymous:T,photoURL:o,phoneNumber:i,tenantId:u,stsTokenManager:k,createdAt:d,lastLoginAt:f});return b&&Array.isArray(b)&&(E.providerData=b.map(y=>({...y}))),c&&(E._redirectEventId=c),E}static async _fromIdTokenResponse(e,n,r=!1){const s=new ai;s.updateFromServerResponse(n);const i=new Xt({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Vu(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Q(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?CE(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),u=new ai;u.updateFromIdToken(r);const c=new Xt({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new xf(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0=new Map;function Mn(t){Jn(t instanceof Function,"Expected a class definition");let e=u0.get(t);return e?(Jn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,u0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}kE.type="NONE";const c0=kE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(t,e,n){return`firebase:${t}:${e}:${n}`}class li{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Kl(this.userKey,s.apiKey,i),this.fullPersistenceKey=Kl("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Lu(this.auth,{idToken:e}).catch(()=>{});return n?Xt._fromGetAccountInfoResponse(this.auth,n,e):null}return Xt._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new li(Mn(c0),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||Mn(c0);const o=Kl(r,e.config.apiKey,e.name);let u=null;for(const d of n)try{const f=await d._get(o);if(f){let m;if(typeof f=="string"){const g=await Lu(e,{idToken:f}).catch(()=>{});if(!g)break;m=await Xt._fromGetAccountInfoResponse(e,g,f)}else m=Xt._fromJSON(e,f);d!==i&&(u=m),i=d;break}}catch{}const c=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new li(i,e,r):(i=c[0],u&&await i._set(o,u.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new li(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(RE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(LE(e))return"Blackberry";if(VE(e))return"Webos";if(PE(e))return"Safari";if((e.includes("chrome/")||jE(e))&&!e.includes("edge/"))return"Chrome";if(OE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function RE(t=mt()){return/firefox\//i.test(t)}function PE(t=mt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jE(t=mt()){return/crios\//i.test(t)}function DE(t=mt()){return/iemobile/i.test(t)}function OE(t=mt()){return/android/i.test(t)}function LE(t=mt()){return/blackberry/i.test(t)}function VE(t=mt()){return/webos/i.test(t)}function xp(t=mt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function T4(t=mt()){var e;return xp(t)&&!!((e=window.navigator)!=null&&e.standalone)}function I4(){return gC()&&document.documentMode===10}function ME(t=mt()){return xp(t)||OE(t)||VE(t)||LE(t)||/windows phone/i.test(t)||DE(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(t,e=[]){let n;switch(t){case"Browser":n=d0(mt());break;case"Worker":n=`${d0(mt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ts}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,u)=>{try{const c=e(i);o(c)}catch(c){u(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N4(t,e={}){return Wr(t,"GET","/v2/passwordPolicy",Ns(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4=6;class A4{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??b4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new h0(this),this.idTokenSubscription=new h0(this),this.beforeStateQueue=new S4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=IE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Mn(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await li.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Lu(this,{idToken:e}),r=await Xt._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if($t(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,u=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===u)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Vu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=a4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($t(this.app))return Promise.reject(kr(this));const n=e?He(e):null;return n&&Q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $t(this.app)?Promise.reject(kr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $t(this.app)?Promise.reject(kr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Mn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await N4(this),n=new A4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Sa("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await E4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Mn(e)||this._popupRedirectResolver;Q(n,this,"argument-error"),this.redirectPersistenceManager=await li.create(this,[Mn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(u,this,"internal-error"),u.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=FE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if($t(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&s4(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Vi(t){return He(t)}class h0{constructor(e){this.auth=e,this.observer=null,this.addObserver=IC(n=>this.observer=n)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function k4(t){jc=t}function UE(t){return jc.loadJS(t)}function R4(){return jc.recaptchaEnterpriseScript}function P4(){return jc.gapiScript}function j4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class D4{constructor(){this.enterprise=new O4}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class O4{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const L4="recaptcha-enterprise",$E="NO_RECAPTCHA";class V4{constructor(e){this.type=L4,this.auth=Vi(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,u)=>{m4(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const d=new f4(c);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,o(d.siteKey)}}).catch(c=>{u(c)})})}function s(i,o,u){const c=window.grecaptcha;a0(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(d=>{o(d)}).catch(()=>{o($E)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new D4().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(u=>{if(!n&&a0(window.grecaptcha))s(u,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=R4();c.length!==0&&(c+=u),UE(c).then(()=>{s(u,i,o)}).catch(d=>{o(d)})}}).catch(u=>{o(u)})})}}async function f0(t,e,n,r=!1,s=!1){const i=new V4(t);let o;if(s)o=$E;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const c=u.phoneEnrollmentInfo.phoneNumber,d=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const c=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:o}):Object.assign(u,{captchaResponse:o}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function m0(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await f0(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await f0(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M4(t,e){const n=hc(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(ps(i,e??{}))return s;an(s,"already-initialized")}return n.initialize({options:e})}function F4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Mn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function U4(t,e,n){const r=Vi(t);Q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=zE(e),{host:o,port:u}=$4(e),c=u===null?"":`:${u}`,d={url:`${i}//${o}${c}/`},f=Object.freeze({host:o,port:u,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Q(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Q(ps(d,r.config.emulator)&&ps(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,Es(o)?(Sm(`${i}//${o}${c}`),Nm("Auth",!0)):z4()}function zE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function $4(t){const e=zE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:p0(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:p0(o)}}}function p0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function z4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Vn("not implemented")}_getIdTokenResponse(e){return Vn("not implemented")}_linkToIdToken(e,n){return Vn("not implemented")}_getReauthenticationResolver(e){return Vn("not implemented")}}async function B4(t,e){return Wr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H4(t,e){return Pc(t,"POST","/v1/accounts:signInWithPassword",Ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q4(t,e){return Pc(t,"POST","/v1/accounts:signInWithEmailLink",Ns(t,e))}async function W4(t,e){return Pc(t,"POST","/v1/accounts:signInWithEmailLink",Ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa extends wp{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new pa(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new pa(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return m0(e,n,"signInWithPassword",H4);case"emailLink":return q4(e,{email:this._email,oobCode:this._password});default:an(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return m0(e,r,"signUpPassword",B4);case"emailLink":return W4(e,{idToken:n,email:this._email,oobCode:this._password});default:an(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ui(t,e){return Pc(t,"POST","/v1/accounts:signInWithIdp",Ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4="http://localhost";class _s extends wp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _s(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):an("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new _s(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ui(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ui(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ui(e,n)}buildRequest(){const e={requestUri:K4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Na(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Q4(t){const e=vo(_o(t)).link,n=e?vo(_o(e)).deep_link_id:null,r=vo(_o(t)).deep_link_id;return(r?vo(_o(r)).link:null)||r||n||e||t}class Ep{constructor(e){const n=vo(_o(e)),r=n.apiKey??null,s=n.oobCode??null,i=G4(n.mode??null);Q(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Q4(e);try{return new Ep(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(){this.providerId=Mi.PROVIDER_ID}static credential(e,n){return pa._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Ep.parseLink(n);return Q(r,"argument-error"),pa._fromEmailAndCode(e,r.code,r.tenantId)}}Mi.PROVIDER_ID="password";Mi.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Mi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da extends BE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr extends Da{constructor(){super("facebook.com")}static credential(e){return _s._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return dr.credential(e.oauthAccessToken)}catch{return null}}}dr.FACEBOOK_SIGN_IN_METHOD="facebook.com";dr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr extends Da{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _s._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return hr.credentialFromTaggedObject(e)}static credentialFromError(e){return hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return hr.credential(n,r)}catch{return null}}}hr.GOOGLE_SIGN_IN_METHOD="google.com";hr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends Da{constructor(){super("github.com")}static credential(e){return _s._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fr.credential(e.oauthAccessToken)}catch{return null}}}fr.GITHUB_SIGN_IN_METHOD="github.com";fr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr extends Da{constructor(){super("twitter.com")}static credential(e,n){return _s._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return mr.credential(n,r)}catch{return null}}}mr.TWITTER_SIGN_IN_METHOD="twitter.com";mr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Xt._fromIdTokenResponse(e,r,s),o=g0(r);return new Ii({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=g0(r);return new Ii({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function g0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends Cn{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Mu.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Mu(e,n,r,s)}}function HE(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Mu._fromErrorAndOperation(t,i,e,r):i})}async function Y4(t,e,n=!1){const r=await ma(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ii._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J4(t,e,n=!1){const{auth:r}=t;if($t(r.app))return Promise.reject(kr(r));const s="reauthenticate";try{const i=await ma(t,HE(r,s,e,t),n);Q(i.idToken,r,"internal-error");const o=_p(i.idToken);Q(o,r,"internal-error");const{sub:u}=o;return Q(t.uid===u,r,"user-mismatch"),Ii._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&an(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qE(t,e,n=!1){if($t(t.app))return Promise.reject(kr(t));const r="signIn",s=await HE(t,r,e),i=await Ii._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function X4(t,e){return qE(Vi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z4(t){const e=Vi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function e3(t,e,n){return $t(t.app)?Promise.reject(kr(t)):X4(He(t),Mi.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Z4(t),r})}function t3(t,e,n,r){return He(t).onIdTokenChanged(e,n,r)}function n3(t,e,n){return He(t).beforeAuthStateChanged(e,n)}function r3(t,e,n,r){return He(t).onAuthStateChanged(e,n,r)}function WE(t){return He(t).signOut()}const Fu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fu,"1"),this.storage.removeItem(Fu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3=1e3,i3=10;class GE extends KE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ME(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,u,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);I4()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,i3):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},s3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}GE.type="LOCAL";const o3=GE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE extends KE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}QE.type="SESSION";const YE=QE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Dc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const u=Array.from(o).map(async d=>d(n.origin,i)),c=await a3(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((u,c)=>{const d=Tp("",20);s.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(m){const g=m;if(g.data.eventId===d)switch(g.data.status){case"ack":clearTimeout(f),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),u(g.data.response);break;default:clearTimeout(f),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(){return window}function u3(t){Sn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(){return typeof Sn().WorkerGlobalScope<"u"&&typeof Sn().importScripts=="function"}async function c3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function d3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function h3(){return JE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="firebaseLocalStorageDb",f3=1,Uu="firebaseLocalStorage",ZE="fbase_key";class Oa{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Oc(t,e){return t.transaction([Uu],e?"readwrite":"readonly").objectStore(Uu)}function m3(){const t=indexedDB.deleteDatabase(XE);return new Oa(t).toPromise()}function wf(){const t=indexedDB.open(XE,f3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Uu,{keyPath:ZE})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Uu)?e(r):(r.close(),await m3(),e(await wf()))})})}async function y0(t,e,n){const r=Oc(t,!0).put({[ZE]:e,value:n});return new Oa(r).toPromise()}async function p3(t,e){const n=Oc(t,!1).get(e),r=await new Oa(n).toPromise();return r===void 0?null:r.value}function v0(t,e){const n=Oc(t,!0).delete(e);return new Oa(n).toPromise()}const g3=800,y3=3;class eT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wf(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>y3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return JE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dc._getInstance(h3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await c3(),!this.activeServiceWorker)return;this.sender=new l3(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||d3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wf();return await y0(e,Fu,"1"),await v0(e,Fu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>y0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>p3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>v0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Oc(s,!1).getAll();return new Oa(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),g3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eT.type="LOCAL";const v3=eT;new ja(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _3(t,e){return e?Mn(e):(Q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip extends wp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ui(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ui(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ui(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function x3(t){return qE(t.auth,new Ip(t),t.bypassAuthState)}function w3(t){const{auth:e,user:n}=t;return Q(n,e,"internal-error"),J4(n,new Ip(t),t.bypassAuthState)}async function E3(t){const{auth:e,user:n}=t;return Q(n,e,"internal-error"),Y4(n,new Ip(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:u}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return x3;case"linkViaPopup":case"linkViaRedirect":return E3;case"reauthViaPopup":case"reauthViaRedirect":return w3;default:an(this.auth,"internal-error")}}resolve(e){Jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3=new ja(2e3,1e4);class Ys extends tT{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ys.currentPopupAction&&Ys.currentPopupAction.cancel(),Ys.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Q(e,this.auth,"internal-error"),e}async onExecution(){Jn(this.filter.length===1,"Popup operations only handle one event");const e=Tp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(In(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(In(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ys.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(In(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,T3.get())};e()}}Ys.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3="pendingRedirect",Gl=new Map;class S3 extends tT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Gl.get(this.auth._key());if(!e){try{const r=await N3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Gl.set(this.auth._key(),e)}return this.bypassAuthState||Gl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function N3(t,e){const n=C3(e),r=A3(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function b3(t,e){Gl.set(t._key(),e)}function A3(t){return Mn(t._redirectPersistence)}function C3(t){return Kl(I3,t.config.apiKey,t.name)}async function k3(t,e,n=!1){if($t(t.app))return Promise.reject(kr(t));const r=Vi(t),s=_3(r,e),o=await new S3(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3=10*60*1e3;class P3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!j3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!nT(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(In(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=R3&&this.cachedEventUids.clear(),this.cachedEventUids.has(_0(e))}saveEventToCache(e){this.cachedEventUids.add(_0(e)),this.lastProcessedEventTime=Date.now()}}function _0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function nT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function j3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D3(t,e={}){return Wr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,L3=/^https?/;async function V3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await D3(t);for(const n of e)try{if(M3(n))return}catch{}an(t,"unauthorized-domain")}function M3(t){const e=_f(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!L3.test(n))return!1;if(O3.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3=new ja(3e4,6e4);function x0(){const t=Sn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function U3(t){return new Promise((e,n)=>{var s,i,o;function r(){x0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{x0(),n(In(t,"network-request-failed"))},timeout:F3.get()})}if((i=(s=Sn().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=Sn().gapi)!=null&&o.load)r();else{const u=j4("iframefcb");return Sn()[u]=()=>{gapi.load?r():n(In(t,"network-request-failed"))},UE(`${P4()}?onload=${u}`).catch(c=>n(c))}}).catch(e=>{throw Ql=null,e})}let Ql=null;function $3(t){return Ql=Ql||U3(t),Ql}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3=new ja(5e3,15e3),B3="__/auth/iframe",H3="emulator/auth/iframe",q3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},W3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function K3(t){const e=t.config;Q(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?vp(e,H3):`https://${t.config.authDomain}/${B3}`,r={apiKey:e.apiKey,appName:t.name,v:Ts},s=W3.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Na(r).slice(1)}`}async function G3(t){const e=await $3(t),n=Sn().gapi;return Q(n,t,"internal-error"),e.open({where:document.body,url:K3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:q3,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=In(t,"network-request-failed"),u=Sn().setTimeout(()=>{i(o)},z3.get());function c(){Sn().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Y3=500,J3=600,X3="_blank",Z3="http://localhost";class w0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function eD(t,e,n,r=Y3,s=J3){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c={...Q3,width:r.toString(),height:s.toString(),top:i,left:o},d=mt().toLowerCase();n&&(u=jE(d)?X3:n),RE(d)&&(e=e||Z3,c.scrollbars="yes");const f=Object.entries(c).reduce((g,[T,b])=>`${g}${T}=${b},`,"");if(T4(d)&&u!=="_self")return tD(e||"",u),new w0(null);const m=window.open(e||"",u,f);Q(m,t,"popup-blocked");try{m.focus()}catch{}return new w0(m)}function tD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD="__/auth/handler",rD="emulator/auth/handler",sD=encodeURIComponent("fac");async function E0(t,e,n,r,s,i){Q(t.config.authDomain,t,"auth-domain-config-required"),Q(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ts,eventId:s};if(e instanceof BE){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",TC(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,m]of Object.entries({}))o[f]=m}if(e instanceof Da){const f=e.getScopes().filter(m=>m!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const u=o;for(const f of Object.keys(u))u[f]===void 0&&delete u[f];const c=await t._getAppCheckToken(),d=c?`#${sD}=${encodeURIComponent(c)}`:"";return`${iD(t)}?${Na(u).slice(1)}${d}`}function iD({config:t}){return t.emulator?vp(t,rD):`https://${t.authDomain}/${nD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd="webStorageSupport";class oD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YE,this._completeRedirectFn=k3,this._overrideRedirectResult=b3}async _openPopup(e,n,r,s){var o;Jn((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await E0(e,n,r,_f(),s);return eD(e,i,Tp())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await E0(e,n,r,_f(),s);return u3(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Jn(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await G3(e),r=new P3(e);return n.register("authEvent",s=>(Q(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(qd,{type:qd},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[qd];i!==void 0&&n(!!i),an(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=V3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ME()||PE()||xp()}}const aD=oD;var T0="@firebase/auth",I0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cD(t){gs(new jr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:u}=r.options;Q(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:FE(t)},d=new C4(r,s,i,c);return F4(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),gs(new jr("auth-internal",e=>{const n=Vi(e.getProvider("auth").getImmediate());return(r=>new lD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_n(T0,I0,uD(t)),_n(T0,I0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=5*60,hD=Mw("authIdTokenMaxAge")||dD;let S0=null;const fD=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>hD)return;const s=n==null?void 0:n.token;S0!==s&&(S0=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function mD(t=fc()){const e=hc(t,"auth");if(e.isInitialized())return e.getImmediate();const n=M4(t,{popupRedirectResolver:aD,persistence:[v3,o3,YE]}),r=Mw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=fD(i.toString());n3(n,o,()=>o(n.currentUser)),t3(n,u=>o(u))}}const s=Ow("auth");return s&&U4(n,`http://${s}`),n}function pD(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}k4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=In("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",pD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cD("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="firebasestorage.googleapis.com",gD="storageBucket",yD=2*60*1e3,vD=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn extends Cn{constructor(e,n,r=0){super(Wd(e),`Firebase Storage: ${n} (${Wd(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,kn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Wd(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var An;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(An||(An={}));function Wd(t){return"storage/"+t}function _D(){const t="An unknown error occurred, please check the error payload for server response.";return new kn(An.UNKNOWN,t)}function xD(){return new kn(An.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function wD(){return new kn(An.CANCELED,"User canceled the upload/download.")}function ED(t){return new kn(An.INVALID_URL,"Invalid URL '"+t+"'.")}function TD(t){return new kn(An.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function N0(t){return new kn(An.INVALID_ARGUMENT,t)}function sT(){return new kn(An.APP_DELETED,"The Firebase app was deleted.")}function ID(t){return new kn(An.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Zt.makeFromUrl(e,n)}catch{return new Zt(e,"")}if(r.path==="")return r;throw TD(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(D){D.path.charAt(D.path.length-1)==="/"&&(D.path_=D.path_.slice(0,-1))}const o="(/(.*))?$",u=new RegExp("^gs://"+s+o,"i"),c={bucket:1,path:3};function d(D){D.path_=decodeURIComponent(D.path)}const f="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",T=new RegExp(`^https?://${m}/${f}/b/${s}/o${g}`,"i"),b={bucket:1,path:3},C=n===rT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,k="([^?#]*)",E=new RegExp(`^https?://${C}/${s}/${k}`,"i"),w=[{regex:u,indices:c,postModify:i},{regex:T,indices:b,postModify:d},{regex:E,indices:{bucket:1,path:2},postModify:d}];for(let D=0;D<w.length;D++){const L=w[D],F=L.regex.exec(e);if(F){const x=F[L.indices.bucket];let v=F[L.indices.path];v||(v=""),r=new Zt(x,v),L.postModify(r);break}}if(r==null)throw ED(e);return r}}class SD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(t,e,n){let r=1,s=null,i=null,o=!1,u=0;function c(){return u===2}let d=!1;function f(...k){d||(d=!0,e.apply(null,k))}function m(k){s=setTimeout(()=>{s=null,t(T,c())},k)}function g(){i&&clearTimeout(i)}function T(k,...E){if(d){g();return}if(k){g(),f.call(null,k,...E);return}if(c()||o){g(),f.call(null,k,...E);return}r<64&&(r*=2);let w;u===1?(u=2,w=0):w=(r+Math.random())*1e3,m(w)}let b=!1;function C(k){b||(b=!0,g(),!d&&(s!==null?(k||(u=2),clearTimeout(s),m(0)):k||(u=1)))}return m(0),i=setTimeout(()=>{o=!0,C(!0)},n),C}function bD(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(t){return t!==void 0}function b0(t,e,n,r){if(r<e)throw N0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw N0(`Invalid value for '${t}'. Expected ${n} or less.`)}function CD(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var $u;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})($u||($u={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,n,r,s,i,o,u,c,d,f,m,g=!0,T=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=f,this.connectionFactory_=m,this.retry=g,this.isUsingEmulator=T,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,C)=>{this.resolve_=b,this.reject_=C,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Tl(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=u=>{const c=u.loaded,d=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const u=i.getErrorCode()===$u.NO_ERROR,c=i.getStatus();if(!u||kD(c,this.additionalRetryCodes_)&&this.retry){const f=i.getErrorCode()===$u.ABORT;r(!1,new Tl(!1,null,f));return}const d=this.successCodes_.indexOf(c)!==-1;r(!0,new Tl(d,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,u=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(u,u.getResponse());AD(c)?i(c):i()}catch(c){o(c)}else if(u!==null){const c=_D();c.serverResponse=u.getErrorText(),this.errorCallback_?o(this.errorCallback_(u,c)):o(c)}else if(s.canceled){const c=this.appDelete_?sT():wD();o(c)}else{const c=xD();o(c)}};this.canceled_?n(!1,new Tl(!1,null,!0)):this.backoffId_=ND(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&bD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Tl{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function PD(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function jD(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function DD(t,e){e&&(t["X-Firebase-GMPID"]=e)}function OD(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function LD(t,e,n,r,s,i,o=!0,u=!1){const c=CD(t.urlParams),d=t.url+c,f=Object.assign({},t.headers);return DD(f,e),PD(f,n),jD(f,i),OD(f,r),new RD(d,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function MD(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n){this._service=e,n instanceof Zt?this._location=n:this._location=Zt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new zu(e,n)}get root(){const e=new Zt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return MD(this._location.path)}get storage(){return this._service}get parent(){const e=VD(this._location.path);if(e===null)return null;const n=new Zt(this._location.bucket,e);return new zu(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw ID(e)}}function A0(t,e){const n=e==null?void 0:e[gD];return n==null?null:Zt.makeFromBucketSpec(n,t)}function FD(t,e,n,r={}){t.host=`${e}:${n}`;const s=Es(e);s&&(Sm(`https://${t.host}/b`),Nm("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Fw(i,t.app.options.projectId))}class UD{constructor(e,n,r,s,i,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=rT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=yD,this._maxUploadRetryTime=vD,this._requests=new Set,s!=null?this._bucket=Zt.makeFromBucketSpec(s,this._host):this._bucket=A0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Zt.makeFromBucketSpec(this._url,e):this._bucket=A0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){b0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){b0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if($t(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new zu(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new SD(sT());{const o=LD(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const C0="@firebase/storage",k0="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="storage";function $D(t=fc(),e){t=He(t);const r=hc(t,iT).getImmediate({identifier:e}),s=Lw("storage");return s&&zD(r,...s),r}function zD(t,e,n,r={}){FD(t,e,n,r)}function BD(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new UD(n,r,s,e,Ts)}function HD(){gs(new jr(iT,BD,"PUBLIC").setMultipleInstances(!0)),_n(C0,k0,""),_n(C0,k0,"esm2020")}HD();const oT={apiKey:"AIzaSyDiPsSLQC2qqEibteSsJfn9BtPEMeazuZg",authDomain:"beafrique-65903.firebaseapp.com",projectId:"beafrique-65903",storageBucket:"beafrique-65903.firebasestorage.app",messagingSenderId:"331784703585",appId:"1:331784703585:web:e1796a85c252776e2e6420",measurementId:"G-NT7G9EZ1CE"},R0=Object.entries(oT).filter(([,t])=>!t).map(([t])=>t);if(R0.length){const t=`[Firebase config] Missing env(s): ${R0.join(", ")}. Remember: in Vite they must start with VITE_.`;console.error(t)}const Sp=Sk().length?fc():zw(oT),Fn=Lj(Sp),Bu=mD(Sp);$D(Sp);function qD(t=6){const[e,n]=R.useState([]),[r,s]=R.useState(!0),[i,o]=R.useState(null);return R.useEffect(()=>{(async()=>{try{s(!0),o(null);const u=cp(tp(Fn,"products"),xE("is_active","==",!0),Qj(t)),d=(await pp(u)).docs.map(f=>f.data());n(d)}catch(u){o(u.message||"Failed to load catalogue")}finally{s(!1)}})()},[t]),{items:e,loading:r,error:i}}function aT({items:t,getOutsideLink:e}){return l.jsx("div",{className:"grid gap-8 md:grid-cols-3",children:t.map(n=>{const r=e==null?void 0:e(n),s=encodeURIComponent(`Hello ${Ge.name}, I'm interested in ${n.name}.`);return l.jsxs("article",{className:"rounded-2xl overflow-hidden bg-emerald-900 ring-1 ring-emerald-900 shadow-sm flex flex-col",children:[l.jsx(oe,{to:`/products/${n.slug}`,className:"block",children:l.jsx("img",{src:n.image,alt:n.name,className:"w-full aspect-[4/5] object-cover"})}),l.jsxs("div",{className:"p-5 text-emerald-50",children:[l.jsx("div",{className:"flex justify-center",children:r?l.jsx("a",{href:r,target:"_blank",rel:"noreferrer",className:"inline-flex items-center justify-center rounded-full px-5 py-3 text-sm font-semibold transition bg-yellow-300 hover:bg-yellow-400 text-emerald-900 shadow-sm focus:outline-none focus:ring-2 focus:ring-yellow-200",children:"Buy from our UK store"}):l.jsx(oe,{to:`/products/${n.slug}`,className:"inline-flex items-center justify-center rounded-full px-5 py-3 text-sm font-semibold transition bg-emerald-50 text-emerald-900 ring-1 ring-emerald-200 hover:bg-yellow-300 hover:text-emerald-900 hover:ring-transparent focus:outline-none focus:ring-2 focus:ring-yellow-200",children:"Buy from our UK store"})}),l.jsx("p",{className:"mt-2 text-xs text-emerald-200 text-center"}),l.jsx("div",{className:"mt-4 flex justify-center",children:l.jsx("a",{href:`https://wa.me/${Ge.whatsapp}?text=${s}`,target:"_blank",rel:"noreferrer","aria-label":"Chat on WhatsApp",className:"h-12 w-12 grid place-items-center rounded-full bg-white text-emerald-900 shadow-sm hover:bg-yellow-400 transition",children:l.jsx(nb,{className:"w-5 h-5"})})})]})]},n.slug)})})}function WD(){const{items:t,loading:e,error:n}=qD(6);if(e)return l.jsx("div",{className:"container py-10",children:"Loading catalogue…"});if(n)return l.jsx("div",{className:"container py-10 text-red-600",children:n});if(!t.length)return null;const r=t.map(i=>({slug:i.slug,name:i.title,image:i.primary_image_url||""})),s=i=>{var o;return((o=t.find(u=>u.slug===i.slug))==null?void 0:o.uk_url)||void 0};return l.jsx("section",{className:"py-14",children:l.jsxs("div",{className:"container",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-emerald-700 text-sm font-semibold tracking-wide",children:"Designed by women for women"}),l.jsx("h2",{className:"text-3xl md:text-4xl font-bold mt-1 text-emerald-900",children:"New & Popular"}),l.jsx("div",{className:"w-16 h-1 bg-yellow-400 rounded mx-auto mt-3"})]}),l.jsx("div",{className:"mt-8",children:l.jsx(aT,{items:r,getOutsideLink:s})}),l.jsx("div",{className:"mt-10 text-center",children:l.jsxs(oe,{to:"/catalogue",className:"inline-flex items-center gap-2 rounded-full bg-yellow-400 hover:bg-yellow-500 text-emerald-900 px-6 py-3 text-sm font-semibold",children:["View all products ",l.jsx("span",{"aria-hidden":!0,children:"→"})]})})]})})}function KD(){const t=R.useMemo(()=>[{image:GA,title:"Wear Your Confidence, Crafted by Women.",text:"Embrace the elegance of African-inspired ready-to-wear fashion...",cta:{label:"Shop New Arrivals",href:"/catalogue"}},{image:QA,title:"Elegance in Every Stitch, Sustainability in Every Thread.",text:"Our clothes are not just made, they are created with passion...",cta:{label:"Explore Our Catalogue",href:"/catalogue"}},{image:YA,title:"Empowering Women, One Garment at a Time.",text:"Be part of a movement that supports artisans...",cta:{label:"Learn About Us",href:"/about"}}],[]),[e,n]=R.useState(0);if(!t.length)return null;const r=(e%t.length+t.length)%t.length,s=t[r]??t[0],i=m=>n(g=>g+m);R.useEffect(()=>{const m=setInterval(()=>n(g=>(g+1)%t.length),7e3);return()=>clearInterval(m)},[t.length]);const o="container",u="bg-white rounded-2xl ring-1 ring-gray-200 shadow-sm";return l.jsxs("div",{className:"bg-white text-gray-900",children:[l.jsxs("section",{className:"relative isolate overflow-hidden",children:[l.jsx("div",{className:`pointer-events-none absolute inset-0 -z-10 opacity-70 [background:
          radial-gradient(600px_600px_at_0%_0%,rgba(250,204,21,0.10),transparent_60%),
          radial-gradient(700px_700px_at_100%_100%,rgba(16,185,129,0.10),transparent_60%)]`}),l.jsxs("div",{className:`${o} py-10 md:py-14`,children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10 items-center md:min-h-[58vh]",children:[l.jsxs("div",{children:[l.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-yellow-100 text-emerald-800 px-3 py-1 text-xs font-semibold ring-1 ring-yellow-200",children:[l.jsx(hw,{className:"w-3 h-3"})," Be Afrique Limited"]}),l.jsx("h1",{className:"mt-4 text-4xl md:text-5xl font-bold leading-tight tracking-tight text-emerald-900",children:s.title}),l.jsx("p",{className:"mt-4 text-[15px] md:text-base text-gray-600 max-w-xl",children:s.text}),l.jsxs("div",{className:"mt-6 flex flex-wrap gap-3",children:[l.jsx(oe,{to:s.cta.href,className:"rounded-full bg-emerald-900 hover:bg-emerald-700 text-white px-6 py-3 text-sm font-semibold",children:s.cta.label}),l.jsx(oe,{to:"/catalogue",className:"rounded-full border border-emerald-600 text-emerald-700 hover:bg-emerald-50 px-6 py-3 text-sm font-semibold",children:"Our Catalogue"})]}),l.jsxs("div",{className:"mt-6 flex items-center gap-4",children:[l.jsx("div",{className:"flex items-center gap-2",children:t.map((m,g)=>l.jsx("button",{onClick:()=>n(g),"aria-label":`Slide ${g+1}`,className:`h-2 rounded-full transition-all ${g===e?"w-6 bg-emerald-900":"w-2 bg-emerald-200"}`},g))}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>i(-1),"aria-label":"Previous slide",className:"rounded-full ring-1 ring-gray-200/80 bg-white/70 backdrop-blur px-2 py-2 hover:bg-white",children:l.jsx(Ly,{className:"w-5 h-5 text-emerald-900"})}),l.jsx("button",{onClick:()=>i(1),"aria-label":"Next slide",className:"rounded-full ring-1 ring-gray-200/80 bg-white/70 backdrop-blur px-2 py-2 hover:bg-white",children:l.jsx(Vy,{className:"w-5 h-5 text-emerald-900"})})]})]})]}),l.jsxs("div",{className:"relative md:h-[460px]",children:[l.jsx("div",{className:"pointer-events-none absolute -left-8 -bottom-8 h-40 w-40 rounded-full bg-yellow-300/30 blur-2xl"}),l.jsx("div",{className:"pointer-events-none absolute -right-10 -top-10 h-48 w-48 rounded-full bg-emerald-300/20 blur-3xl"}),l.jsxs("div",{className:"relative w-full h-full overflow-hidden rounded-3xl ring-1 ring-gray-200 shadow-sm",children:[l.jsx("img",{src:s.image,alt:s.title,className:"h-full w-full object-cover"}),l.jsxs("div",{className:"hidden md:flex absolute bottom-4 left-4 gap-2",children:[l.jsx("button",{onClick:()=>i(-1),"aria-label":"Previous slide",className:"rounded-full bg-white/70 backdrop-blur ring-1 ring-white/30 p-2 hover:bg-white",children:l.jsx(Ly,{className:"w-5 h-5 text-emerald-900"})}),l.jsx("button",{onClick:()=>i(1),"aria-label":"Next slide",className:"rounded-full bg-white/70 backdrop-blur ring-1 ring-white/30 p-2 hover:bg-white",children:l.jsx(Vy,{className:"w-5 h-5 text-emerald-900"})})]})]}),l.jsx("div",{className:"absolute -top-3 -right-3 bg-yellow-400 text-emerald-900 text-xs font-bold px-3 py-1 rounded-full shadow",children:"New Drop"})]})]}),l.jsx(WD,{}),l.jsxs("div",{className:"mt-8 grid grid-cols-1 sm:grid-cols-3 gap-3",children:[l.jsxs("div",{className:`${u} flex items-center gap-3 p-3`,children:[l.jsx(Hh,{className:"h-5 w-5 text-emerald-800"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-emerald-900",children:"Ethical & Sustainable"}),l.jsx("p",{className:"text-xs text-gray-600",children:"Conscious materials & low-waste practices"})]})]}),l.jsxs("div",{className:`${u} flex items-center gap-3 p-3`,children:[l.jsx(qh,{className:"h-5 w-5 text-emerald-800"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-emerald-900",children:"Premium Finishing"}),l.jsx("p",{className:"text-xs text-gray-600",children:"Crafted by expert women artisans"})]})]}),l.jsxs("div",{className:`${u} flex items-center gap-3 p-3`,children:[l.jsx(fw,{className:"h-5 w-5 text-emerald-800"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-emerald-900",children:"UK Store & Support"}),l.jsx("p",{className:"text-xs text-gray-600",children:"Ships from Portsmouth, United Kingdom"})]})]})]})]})]}),l.jsx(WA,{}),l.jsx("section",{className:"py-14",children:l.jsxs("div",{className:"container grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[l.jsxs("div",{className:"order-2 md:order-1",children:[l.jsx("h2",{className:"text-3xl font-bold leading-tight mb-4 text-emerald-900",children:"About Be Afrique Limited"}),l.jsx("p",{className:"text-base md:text-lg text-gray-600 mb-4",children:"Be Afrique is a sustainable African fashion brand born from a love of culture and a passion for the planet. We create eco-friendly ready-to-wear that celebrates heritage, empowers women, and inspires pride in identity."}),l.jsx("p",{className:"text-base md:text-lg text-gray-600",children:"By combining ethical practices with innovative solutions, we promote sustainability while addressing women’s unemployment through skills and opportunity."}),l.jsx("div",{className:"grid grid-cols-3 gap-4 mt-8",children:[{label:"Years in Business",value:"3"},{label:"Reviews",value:"65"},{label:"Women Empowered",value:"2000"}].map(m=>l.jsxs("div",{className:"rounded-xl border border-gray-200 p-4 text-center",children:[l.jsx("p",{className:"text-3xl font-bold text-emerald-800",children:m.value}),l.jsx("p",{className:"text-xs font-semibold text-emerald-900/70 mt-1",children:m.label})]},m.label))}),l.jsx("div",{className:"mt-8",children:l.jsx(oe,{to:"/about",className:"inline-block rounded-full bg-yellow-400 text-emerald-900 font-semibold hover:bg-yellow-500 px-6 py-3",children:"Read More →"})})]}),l.jsx("div",{className:"order-1 md:order-2",children:l.jsx("img",{src:KA,alt:"About Be Afrique",className:"w-full h-auto object-cover rounded-2xl ring-1 ring-gray-200 shadow-sm"})})]})}),l.jsxs("section",{className:"py-14 relative isolate",children:[l.jsx("div",{className:`pointer-events-none absolute inset-0 -z-10 opacity-70 [background:
    radial-gradient(600px_600px_at_0%_0%,rgba(250,204,21,0.08),transparent_60%),
    radial-gradient(800px_800px_at_100%_100%,rgba(16,185,129,0.08),transparent_60%)]`}),l.jsxs("div",{className:"container",children:[l.jsxs("div",{className:"mb-10 text-center",children:[l.jsx("span",{className:"inline-flex items-center gap-2 rounded-full bg-yellow-100 text-emerald-800 px-3 py-1 text-xs font-semibold ring-1 ring-yellow-200",children:"From the press"}),l.jsx("h2",{className:"mt-3 text-3xl md:text-4xl font-bold text-emerald-900",children:"Featured News & Insights"}),l.jsx("div",{className:"mt-2 h-1 w-16 bg-yellow-400 rounded mx-auto"})]}),l.jsxs("article",{className:"grid grid-cols-1 md:grid-cols-[minmax(260px,38%)_1fr] gap-5 items-stretch",children:[l.jsxs("div",{className:"relative overflow-hidden rounded-3xl ring-1 ring-gray-200 shadow-sm",children:[l.jsx("img",{src:Im,alt:"Be Afrique: Nigerian fashion designer brings heritage and eco-fashion to Britain",className:"h-full w-full object-cover transition-transform duration-500 hover:scale-[1.03]"}),l.jsxs("div",{className:"absolute top-3 left-3 flex items-center gap-2",children:[l.jsx("span",{className:"rounded-full bg-yellow-400 text-emerald-900 text-xs font-bold px-3 py-1 ring-1 ring-yellow-300 shadow",children:"Press"}),l.jsx("span",{className:"hidden sm:inline rounded-full bg-white/85 backdrop-blur px-3 py-1 text-xs font-semibold text-emerald-900 ring-1 ring-white/60",children:"Vanguard"})]}),l.jsx("div",{className:"pointer-events-none absolute inset-0 bg-gradient-to-t from-black/10 via-transparent to-transparent"})]}),l.jsxs("div",{className:"rounded-3xl ring-1 ring-gray-200 bg-white p-6 md:p-8 shadow-sm",children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-gray-500",children:[l.jsx("span",{className:"font-semibold text-emerald-900",children:"Vanguard"}),l.jsx("span",{"aria-hidden":!0,children:"•"}),l.jsx("time",{dateTime:"2025-08-01",children:"Aug 2025"}),l.jsx("span",{"aria-hidden":!0,children:"•"}),l.jsx("span",{children:"2 min read"})]}),l.jsx("h3",{className:"mt-3 text-xl md:text-2xl font-semibold leading-snug text-emerald-900",children:"Be Afrique: Nigerian fashion designer brings heritage and eco-fashion to Britain"}),l.jsx("p",{className:"mt-3 text-[15px] md:text-base leading-relaxed text-gray-700",children:"Bukonla, a Nigerian-born fashion designer and writer, blends tailoring roots with academic research in sustainability to build a conscious fashion brand now present in the UK."}),l.jsxs("div",{className:"mt-5 flex flex-col sm:flex-row items-center sm:items-start justify-center sm:justify-start gap-3 text-center md:text-left",children:[l.jsx("a",{href:"https://www.vanguardngr.com/2025/08/be-afrique-nigerian-creative-brings-heritage-and-eco-fashion-to-britain/",target:"_blank",rel:"noopener noreferrer",className:"w-full sm:w-auto inline-flex justify-center items-center gap-2 rounded-full bg-yellow-400 px-5 py-3 text-sm font-semibold text-emerald-900 hover:bg-yellow-500",children:"Read full article →"}),l.jsx("a",{href:"/about#mission-vision",className:"w-full sm:w-auto inline-flex justify-center items-center gap-2 rounded-full border border-emerald-600 px-5 py-3 text-sm font-semibold text-emerald-700 hover:bg-emerald-50",children:"Our mission & vision"})]})]})]})]})]}),l.jsx(ZA,{}),l.jsx("section",{className:"py-14 bg-gradient-to-b from-emerald-50/60 to-gray-50",children:l.jsx("div",{className:"container",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"bg-white rounded-2xl ring-1 ring-gray-200 shadow-sm p-6 md:p-8",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("span",{className:"inline-flex items-center rounded-full bg-emerald-100 text-emerald-800 px-3 py-1 text-xs font-semibold",children:"Free 30-min call"}),l.jsx("h2",{className:"mt-3 text-2xl md:text-3xl font-bold tracking-tight text-emerald-900",children:"Schedule Consultation"}),l.jsx("p",{className:"mt-1.5 text-sm text-gray-600",children:"Tell us a bit about your project and preferred time—our team will follow up ASAP."})]}),l.jsxs("form",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),l.jsx("input",{id:"fullName",type:"text",placeholder:"Your full name",className:"mt-1 w-full rounded-xl border border-gray-300 bg-white px-4 py-3 text-sm outline-none transition focus:border-emerald-400 focus:ring-2 focus:ring-emerald-200",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),l.jsx("input",{id:"phone",type:"tel",placeholder:"e.g. +44 7733 729 418",className:"mt-1 w-full rounded-xl border border-gray-300 bg-white px-4 py-3 text-sm outline-none transition focus:border-emerald-400 focus:ring-2 focus:ring-emerald-200",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),l.jsx("input",{id:"email",type:"email",placeholder:"you@example.com",className:"mt-1 w-full rounded-xl border border-gray-300 bg-white px-4 py-3 text-sm outline-none transition focus:border-emerald-400 focus:ring-2 focus:ring-emerald-200",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700",children:"Company (Optional)"}),l.jsx("input",{id:"company",type:"text",placeholder:"Business name",className:"mt-1 w-full rounded-xl border border-gray-300 bg-white px-4 py-3 text-sm outline-none transition focus:border-emerald-400 focus:ring-2 focus:ring-emerald-200"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700",children:"Message"}),l.jsx("textarea",{id:"message",rows:4,placeholder:"Briefly describe your needs, timeline, and budget band…",className:"mt-1 w-full rounded-xl border border-gray-300 bg-white px-4 py-3 text-sm outline-none transition focus:border-emerald-400 focus:ring-2 focus:ring-emerald-200"})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 pt-2",children:[l.jsx("button",{type:"submit",className:"inline-flex justify-center items-center gap-2 rounded-full bg-emerald-600 px-6 py-3 text-sm font-semibold text-white shadow-sm hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-300",children:"Submit Now"}),l.jsx("a",{href:"https://wa.me/447733729418?text=Hi%20there%2C%20I%27d%20like%20to%20schedule%20a%20consultation.",target:"_blank",rel:"noopener noreferrer",className:"inline-flex justify-center items-center gap-2 rounded-full border border-emerald-600 px-6 py-3 text-sm font-semibold text-emerald-700 hover:bg-emerald-50",children:"Chat on WhatsApp"}),l.jsx("div",{className:"flex-1 text-xs text-gray-500 sm:text-right",children:"Average response time < 2 hours"})]})]})]}),l.jsxs("div",{className:"flex flex-col gap-6",children:[l.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-emerald-600 to-emerald-900 p-6 text-emerald-50 shadow-sm",children:[l.jsx("div",{className:"absolute inset-0 opacity-20 [background:radial-gradient(120px_120px_at_20%_10%,white_0,transparent_60%),radial-gradient(160px_160px_at_80%_80%,white_0,transparent_60%)]"}),l.jsxs("div",{className:"relative",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Contact Details"}),l.jsxs("div",{className:"mt-4 space-y-3 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full bg-white/15",children:"📞"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Phone"}),l.jsx("a",{href:"tel:+447733729418",className:"text-emerald-100 hover:underline",children:"+44 7733 729 418"})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full bg-white/15",children:"✉️"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Email"}),l.jsx("a",{href:"mailto:Bukonla@beafrique.com",className:"text-emerald-100 hover:underline",children:"Bukonla@beafrique.com"})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full bg-white/15",children:"🕓"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Opening Hours"}),l.jsx("div",{className:"text-emerald-100",children:"Mon–Sat (08:00–21:00), Sun Closed"})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full bg-white/15",children:"📍"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Address"}),l.jsxs("a",{href:"https://www.google.com/maps?q=24+Jubilee+Road,+Southsea,+Portsmouth,+United+Kingdom+PO40JE",target:"_blank",rel:"noopener noreferrer",className:"text-emerald-100 hover:underline",children:["24 Jubilee Road, Southsea",l.jsx("br",{}),"Portsmouth, United Kingdom PO40JE"]})]})]})]}),l.jsxs("div",{className:"mt-5 grid grid-cols-2 gap-3 text-xs",children:[l.jsxs("div",{className:"rounded-xl bg-white/10 px-3 py-2 backdrop-blur-sm",children:[l.jsx("div",{className:"font-semibold",children:"Coverage"}),l.jsx("div",{className:"text-emerald-100",children:"UK & Nigeria"})]}),l.jsxs("div",{className:"rounded-xl bg-white/10 px-3 py-2 backdrop-blur-sm",children:[l.jsx("div",{className:"font-semibold",children:"Support"}),l.jsx("div",{className:"text-emerald-100",children:"Phone, Email, WhatsApp"})]})]})]})]}),l.jsxs("div",{className:"overflow-hidden rounded-2xl ring-1 ring-gray-200 bg-white shadow-sm",children:[l.jsx("div",{className:"aspect-[16/10] bg-[url('https://maps.gstatic.com/tactile/pane/default_geocode-2x.png')] bg-center bg-cover"}),l.jsx("div",{className:"p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"Our Service Area"}),l.jsx("div",{className:"text-xs text-gray-500",children:"Fast response in major cities"})]}),l.jsx("a",{href:"https://wa.me/447733729418?text=Hi%2C%20please%20call%20me%20back%20about%20a%20consultation.",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center rounded-full bg-yellow-400 px-4 py-2 text-xs font-semibold text-emerald-900 hover:bg-yellow-500",children:"Request a callback"})]})})]})]})]})})})]})}const GD={black:"#000000",white:"#ffffff",olive:"#556B2F",green:"#008000",red:"#cc0000",blue:"#1e40af",navy:"#001f3f",brown:"#6b4423",beige:"#f5f5dc",gold:"#d4af37",cream:"#f1eadb",purple:"#6b21a8"};function QD(t){if(!t)return"#ddd";const e=t.trim().toLowerCase();return GD[e]||e}function YD(t){return t?t.split(/[•\-\n.;,]/g).map(n=>n.trim()).filter(Boolean).filter(n=>n.length>=3&&n.length<=40).slice(0,4):[]}function JD(){const{slug:t=""}=FS(),[e,n]=R.useState(null),[r,s]=R.useState([]),[i,o]=R.useState(null),[u,c]=R.useState(null),[d,f]=R.useState(null),[m,g]=R.useState(!0),T=Ia(L=>L.add),b=R.useMemo(()=>r.find(L=>(L.color_id??"")===(i??"")&&L.size===u),[r,i,u]),C=((b==null?void 0:b.price_cents)??(e==null?void 0:e.min_price_cents)??0)/100;function k(){var L;T({slug:t,qty:1,size:u,color:i,title:e==null?void 0:e.title,image:d||(e==null?void 0:e.primary_image_url)||((L=e==null?void 0:e.image_urls)==null?void 0:L[0]),price:C,currency:((e==null?void 0:e.currency)||"GBP").toLowerCase()})}R.useEffect(()=>{(async()=>{var ge,Te,Ye,Lt,z,G,J,ce,fe,Vt;g(!0);const L=Qs(Fn,"products",t),F=await mp(L);if(!F.exists()){n(null),g(!1);return}const x=F.data();n(x);const I=(await pp(cp(tp(Fn,"products",t,"variants"),Gj("size","asc")))).docs.map(Re=>({sku:Re.id,...Re.data()}));s(I);const N=((Te=(ge=x.swatches)==null?void 0:ge[0])==null?void 0:Te.id)||((Ye=I[0])==null?void 0:Ye.color_id)||(((Lt=x.colors)==null?void 0:Lt[0])??null);o(N);const P=((z=I.find(Re=>(Re.color_id??"")===N))==null?void 0:z.size)||((G=I[0])==null?void 0:G.size)||null||(((J=x.sizes)==null?void 0:J[0])??null);c(P);const S=(fe=(ce=I.find(Re=>(Re.color_id??"")===N))==null?void 0:ce.image_urls)==null?void 0:fe[0];f(S??x.primary_image_url??((Vt=x.image_urls)==null?void 0:Vt[0])??null),g(!1)})()},[t]);const E=R.useMemo(()=>r.length?Array.from(new Set(r.filter(L=>(L.color_id??"")===(i??"")).map(L=>L.size))):(e==null?void 0:e.sizes)??[],[r,i,e==null?void 0:e.sizes]),y=R.useMemo(()=>{var v;const L=((v=r.find(I=>(I.color_id??"")===(i??"")&&I.size===u))==null?void 0:v.image_urls)??[],F=(e==null?void 0:e.image_urls)??[],x=[d||"",...L.filter(I=>I&&I!==d),...F].filter(Boolean);return Array.from(new Map(x.map(I=>[I,!0])).keys())},[r,i,u,d,e==null?void 0:e.image_urls]),w=new Intl.NumberFormat("en-GB",{style:"currency",currency:(e==null?void 0:e.currency)||"GBP"}).format(((b==null?void 0:b.price_cents)??(e==null?void 0:e.min_price_cents)??0)/100),D=R.useMemo(()=>{var L,F;return(L=e==null?void 0:e.swatches)!=null&&L.length?e.swatches.map(x=>({key:x.id,title:x.name,hex:x.hex})):(F=e==null?void 0:e.colors)!=null&&F.length?e.colors.map(x=>({key:x,title:x,hex:QD(x)})):[]},[e==null?void 0:e.swatches,e==null?void 0:e.colors]);return R.useMemo(()=>YD(e==null?void 0:e.description),[e==null?void 0:e.description]),m?l.jsx("div",{className:"container py-16",children:"Loading…"}):e?l.jsxs("div",{className:"container py-10 grid lg:grid-cols-2 gap-10",children:[l.jsxs("div",{children:[l.jsx("div",{className:"aspect-[3/4] bg-gray-50 rounded-2xl overflow-hidden",children:d?l.jsx("img",{src:d,alt:e.title,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full grid place-items-center text-gray-400",children:"Image"})}),y.length>1&&l.jsx("div",{className:"mt-3 grid grid-cols-5 gap-2",children:y.map((L,F)=>l.jsx("button",{onClick:()=>f(L),className:`aspect-square rounded overflow-hidden border ${d===L?"ring-2 ring-emerald-600":""}`,children:l.jsx("img",{src:L,alt:"",className:"w-full h-full object-cover"})},F))})]}),l.jsxs("div",{children:[e.brand&&l.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:e.brand}),l.jsx("h1",{className:"text-2xl md:text-3xl font-bold",children:e.title}),l.jsx("div",{className:"mt-2 text-emerald-700 text-xl font-semibold",children:w}),D.length>0&&l.jsxs("div",{className:"mt-5",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Colour"}),l.jsx("div",{className:"flex gap-2",children:D.map(L=>l.jsx("button",{title:L.title,onClick:()=>{var v,I,N,A;o(L.key);const F=((v=r.find(P=>(P.color_id??"")===L.key))==null?void 0:v.size)||((I=e==null?void 0:e.sizes)==null?void 0:I[0])||null;c(F);const x=(A=(N=r.find(P=>(P.color_id??"")===L.key))==null?void 0:N.image_urls)==null?void 0:A[0];f(x||(e==null?void 0:e.primary_image_url)||null)},className:`h-8 w-8 rounded-full border ring-2 ${i===L.key?"ring-emerald-600":"ring-transparent"}`,style:{background:L.hex}},L.key))})]}),E.length>0&&l.jsxs("div",{className:"mt-5",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Size"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:E.map(L=>l.jsx("button",{onClick:()=>c(L),className:`px-3 py-1 rounded-full border text-sm ${u===L?"bg-emerald-600 text-white border-emerald-600":"bg-white"}`,children:L},L))})]}),e.description&&l.jsx("div",{className:"mt-6 prose prose-sm max-w-none",children:l.jsx("p",{className:"text-gray-700",children:e.description})}),l.jsxs("div",{className:"mt-8 flex gap-3",children:[l.jsx(oe,{to:"/checkout",onClick:k,className:"px-4 py-2 rounded bg-emerald-600 text-white",children:"Buy now"}),l.jsx("button",{onClick:k,className:"px-4 py-2 rounded border",children:"Add to cart"})]})]})]}):l.jsx("div",{className:"container py-16",children:"Not found"})}const P0="/assets/buk12d-DqV9FMoQ.jpeg";function XD(){return l.jsxs("div",{className:"bg-white",children:[l.jsx("section",{className:"bg-emerald-900 text-emerald-50",children:l.jsx("div",{className:"container py-12 md:py-16",children:l.jsxs("div",{className:"grid gap-8 md:grid-cols-2 items-center",children:[l.jsxs("div",{children:[l.jsx("span",{className:"inline-flex items-center gap-2 rounded-full bg-yellow-400 px-3 py-1 text-xs font-semibold text-emerald-900 ring-1 ring-yellow-300",children:"About Be Afrique"}),l.jsx("h1",{className:"mt-4 text-3xl md:text-5xl font-bold leading-tight tracking-tight",children:"Conscious fashion, rooted in heritage."}),l.jsx("p",{className:"mt-3 text-sm md:text-base text-emerald-100/90 max-w-xl",children:"We create sustainable ready-to-wear that celebrates African identity, empowers women, and protects the planet, crafted in the spirit of culture and community."})]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"overflow-hidden rounded-2xl ring-1 ring-emerald-800 shadow-sm",children:l.jsx("img",{src:P0,alt:"Be Afrique",className:"h-full w-full object-cover"})}),l.jsx("div",{className:"absolute -top-3 -right-3 rounded-full bg-yellow-400 px-3 py-1 text-xs font-bold text-emerald-900 shadow",children:"Since 2022"})]})]})})}),l.jsx("section",{id:"values",className:"py-14",children:l.jsxs("div",{className:"container",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-emerald-700 text-sm font-semibold",children:"Our Core"}),l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-emerald-900",children:"Values"}),l.jsx("div",{className:"mt-2 h-1 w-16 bg-yellow-400 rounded mx-auto"})]}),l.jsxs("div",{className:"mt-8 grid gap-5 md:grid-cols-3",children:[l.jsxs("div",{className:"rounded-2xl ring-1 ring-gray-200 bg-white p-6 shadow-sm",children:[l.jsx("div",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-yellow-400 text-emerald-900 font-bold",children:"♻️"}),l.jsx("h3",{className:"mt-4 text-lg font-semibold text-emerald-900",children:"Sustainability"}),l.jsx("p",{className:"mt-2 text-[15px] leading-relaxed text-gray-700",children:"Ethical, eco-friendly practices at the core, so fashion feels good on you and the planet."})]}),l.jsxs("div",{className:"rounded-2xl ring-1 ring-gray-200 bg-white p-6 shadow-sm",children:[l.jsx("div",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-yellow-400 text-emerald-900 font-bold",children:"🪡"}),l.jsx("h3",{className:"mt-4 text-lg font-semibold text-emerald-900",children:"Craft & Heritage"}),l.jsx("p",{className:"mt-2 text-[15px] leading-relaxed text-gray-700",children:"Designs that celebrate African identity, artistry, and stories stitched with intention."})]}),l.jsxs("div",{className:"rounded-2xl ring-1 ring-gray-200 bg-white p-6 shadow-sm",children:[l.jsx("div",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-yellow-400 text-emerald-900 font-bold",children:"🤝"}),l.jsx("h3",{className:"mt-4 text-lg font-semibold text-emerald-900",children:"Women Empowerment"}),l.jsx("p",{className:"mt-2 text-[15px] leading-relaxed text-gray-700",children:"We support artisans, build communities, and foster economic independence for women."})]})]})]})}),l.jsx("section",{id:"mission-vision",className:"py-14 bg-emerald-50",children:l.jsxs("div",{className:"container",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-emerald-700 text-sm font-semibold",children:"Why we exist"}),l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-emerald-900",children:"Mission & Vision"}),l.jsx("div",{className:"mt-2 h-1 w-16 bg-yellow-400 rounded mx-auto"})]}),l.jsxs("div",{className:"mt-8 grid gap-6 md:grid-cols-2",children:[l.jsxs("article",{className:"rounded-2xl ring-1 ring-gray-200 bg-white p-6 md:p-8 shadow-sm",children:[l.jsx("div",{className:"inline-flex items-center gap-2 rounded-full bg-yellow-400 px-3 py-1 text-xs font-semibold text-emerald-900 ring-1 ring-yellow-300",children:"🎯 Mission"}),l.jsx("h3",{className:"mt-4 text-2xl font-bold text-emerald-900",children:"Sustainable style, African pride."}),l.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[l.jsx("span",{className:"inline-flex rounded-full bg-yellow-100 text-emerald-900 px-3 py-1 text-[11px] font-semibold ring-1 ring-yellow-200",children:"“Sustainable style, African pride.”"}),l.jsx("span",{className:"inline-flex rounded-full bg-yellow-100 text-emerald-900 px-3 py-1 text-[11px] font-semibold ring-1 ring-yellow-200",children:"“Eco-friendly fashion, rooted in culture.”"})]}),l.jsx("p",{className:"mt-4 text-[15px] leading-relaxed text-gray-700",children:"At BeAfrique, our mission is to craft eco-friendly and sustainable ready-to-wear designs that celebrate African heritage and identity. We promote cultural awareness with timeless pieces that inspire Africans in the diaspora to embrace their roots, while welcoming everyone who appreciates the beauty and artistry of African fashion. Our commitment is to people and the planet, ensuring every design uplifts culture, fosters pride, and supports a more sustainable future."})]}),l.jsxs("article",{className:"rounded-2xl ring-1 ring-gray-200 bg-white p-6 md:p-8 shadow-sm",children:[l.jsx("div",{className:"inline-flex items-center gap-2 rounded-full bg-yellow-400 px-3 py-1 text-xs font-semibold text-emerald-900 ring-1 ring-yellow-300",children:"🌍 Vision"}),l.jsx("h3",{className:"mt-4 text-2xl font-bold text-emerald-900",children:"Bridging cultures through conscious fashion."}),l.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[l.jsx("span",{className:"inline-flex rounded-full bg-yellow-100 text-emerald-900 px-3 py-1 text-[11px] font-semibold ring-1 ring-yellow-200",children:"“Bridging cultures through conscious fashion.”"}),l.jsx("span",{className:"inline-flex rounded-full bg-yellow-100 text-emerald-900 px-3 py-1 text-[11px] font-semibold ring-1 ring-yellow-200",children:"“Where African heritage meets sustainable living.”"})]}),l.jsx("p",{className:"mt-4 text-[15px] leading-relaxed text-gray-700",children:"Our vision is to become a leading global brand in sustainable African fashion bridging cultures, empowering communities, and setting new standards for ethical style. We aspire to a world where African inspired fashion is embraced universally not only as a statement of identity but as a movement toward conscious, responsible living."})]})]})]})}),l.jsx("section",{className:"py-14",children:l.jsxs("div",{className:"container grid gap-10 md:grid-cols-2 items-start",children:[l.jsxs("div",{className:"order-2 md:order-1",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-emerald-900",children:"Our Story"}),l.jsx("div",{className:"mt-2 h-1 w-16 bg-yellow-400 rounded"}),l.jsxs("div",{className:"mt-6 space-y-4 text-[15px] leading-relaxed text-gray-700",children:[l.jsx("p",{children:"Be Afrique was born from a love of African fashion and a passion for sustainability. We create eco-friendly, sustainable ready-to-wear designs that celebrate African heritage and identity, inviting the world to wear culture with pride while caring for the planet."}),l.jsx("p",{children:"Clothing is more than fabric; it’s a reflection of identity, culture, and values. Our journey began with a vision: to keep the diaspora connected to home while welcoming everyone to celebrate the artistry of African design. Every piece carries a story of tradition, pride, and belonging."}),l.jsx("p",{children:"Our mission goes beyond style. We protect people and planet by crafting with responsible materials and mindful production. Be Afrique is a movement to embrace identity, champion sustainability, and celebrate African culture everywhere."})]}),l.jsx("div",{className:"mt-8",children:l.jsxs("a",{href:"/values",className:"inline-flex items-center gap-2 rounded-full bg-yellow-400 px-6 py-3 text-sm font-semibold text-emerald-900 hover:bg-yellow-500",children:["Learn more about our values ",l.jsx("span",{"aria-hidden":!0,children:"→"})]})})]}),l.jsx("div",{className:"order-1 md:order-2",children:l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"overflow-hidden rounded-2xl ring-1 ring-gray-200 shadow-sm",children:l.jsx("img",{src:P0,alt:"Our Values",className:"w-full h-full object-cover"})}),l.jsx("div",{className:"pointer-events-none absolute inset-0 rounded-2xl bg-gradient-to-t from-black/30 via-transparent to-transparent"})]})})]})}),l.jsx("section",{className:"py-10 bg-emerald-50",children:l.jsx("div",{className:"container",children:l.jsx("div",{className:"grid grid-cols-3 gap-4",children:[{label:"Years in Business",value:"3+"},{label:"Women Empowered",value:"2,000+"},{label:"Reviews",value:"65+"}].map(t=>l.jsxs("div",{className:"rounded-2xl bg-white ring-1 ring-gray-200 p-5 text-center",children:[l.jsx("p",{className:"text-3xl font-bold text-emerald-900",children:t.value}),l.jsx("p",{className:"text-xs font-semibold text-emerald-900/70 mt-1",children:t.label})]},t.label))})})}),l.jsx("section",{className:"py-14 bg-emerald-900 text-emerald-50",children:l.jsxs("div",{className:"container grid gap-6 md:grid-cols-2 items-center",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl md:text-3xl font-bold",children:"Join the movement—wear culture with pride."}),l.jsx("p",{className:"mt-2 text-sm md:text-base text-emerald-100/90",children:"Explore our latest drops or learn how we’re empowering women and communities."})]}),l.jsxs("div",{className:"flex flex-wrap gap-3 md:justify-end",children:[l.jsx("a",{href:"/catalogue",className:"inline-flex items-center gap-2 rounded-full bg-yellow-400 px-6 py-3 text-sm font-semibold text-emerald-900 hover:bg-yellow-500",children:"Shop Catalogue"}),l.jsx("a",{href:"/what-we-do#women",className:"inline-flex items-center gap-2 rounded-full border border-emerald-200/40 px-6 py-3 text-sm font-semibold text-emerald-50 hover:bg-emerald-800",children:"Our Impact"})]})]})})]})}function ZD(){const[t,e]=R.useState("idle"),[n,r]=R.useState(null);async function s(i){i.preventDefault(),e("sending"),r(null);const o=new FormData(i.currentTarget);o.set("_subject",`New inquiry from ${o.get("firstName")||"Website"}`),o.get("email")&&o.set("_replyto",String(o.get("email")));try{const u=await fetch("https://formspree.io/f/xrbyajzj",{method:"POST",headers:{Accept:"application/json"},body:o}),c=await u.json().catch(()=>({}));u.ok?(e("ok"),i.target.reset()):(e("err"),r((c==null?void 0:c.errors)&&c.errors.map(d=>d.message).join(", ")||"Failed to send. Please try again."))}catch(u){e("err"),r((u==null?void 0:u.message)||"Network error. Please try again.")}}return l.jsx("div",{className:"container py-12",children:l.jsxs("div",{className:"grid md:grid-cols-2 gap-12",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsx("h1",{className:"text-3xl md:text-4xl font-semibold text-center md:text-left text-gray-900",children:"Get in Touch"}),l.jsx("p",{className:"mt-2 text-gray-600 text-lg text-center md:text-left",children:"We'd love to hear from you. Schedule a free consultation or drop us a message."}),l.jsxs("ul",{className:"mt-6 space-y-4 text-gray-700 text-lg",children:[l.jsxs("li",{children:[l.jsx("strong",{children:"📞 Phone:"})," ",Ge.phone]}),l.jsxs("li",{children:[l.jsx("strong",{children:"📧 Email:"})," ",Ge.email]}),l.jsxs("li",{children:[l.jsx("strong",{children:"🏢 Address:"})," ",Ge.address]})]}),l.jsx("a",{href:`https://wa.me/${Ge.whatsapp}`,target:"_blank",rel:"noreferrer",className:"inline-block mt-6 rounded-lg bg-green-600 text-white px-6 py-3 text-lg font-semibold hover:bg-green-700 transition",children:"Chat with Us on WhatsApp"})]}),l.jsxs("form",{onSubmit:s,className:"p-8 rounded-2xl border bg-white shadow-xl space-y-6",children:[l.jsx("h2",{className:"text-2xl font-semibold text-gray-900 text-center",children:"Send Us a Message"}),l.jsx("input",{type:"text",name:"_gotcha",className:"hidden",tabIndex:-1,autoComplete:"off"}),l.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[l.jsx("input",{name:"firstName",placeholder:"First Name",required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 text-lg focus:outline-none focus:ring-2 focus:ring-green-600"}),l.jsx("input",{name:"lastName",placeholder:"Last Name",className:"border border-gray-300 rounded-lg px-4 py-2 text-lg focus:outline-none focus:ring-2 focus:ring-green-600"})]}),l.jsx("input",{name:"email",type:"email",placeholder:"Your Email",required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 text-lg w-full focus:outline-none focus:ring-2 focus:ring-green-600"}),l.jsx("input",{name:"phone",placeholder:"Phone (optional)",className:"border border-gray-300 rounded-lg px-4 py-2 text-lg w-full focus:outline-none focus:ring-2 focus:ring-green-600"}),l.jsx("textarea",{name:"message",placeholder:"Your Message",required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 text-lg w-full h-40 focus:outline-none focus:ring-2 focus:ring-green-600"}),l.jsx("button",{disabled:t==="sending",className:`w-full text-white py-3 text-lg font-semibold rounded-lg transition
              ${t==="sending"?"bg-green-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"}`,children:t==="sending"?"Sending…":"Send Message"}),t==="ok"&&l.jsx("p",{className:"text-emerald-700 text-center",children:"Thanks! We’ll get back to you shortly."}),t==="err"&&l.jsx("p",{className:"text-red-600 text-center",children:n})]})]})})}async function eO(t){var o;const e=[];if((o=t.items)!=null&&o.length||e.push("Cart is empty."),t.items.forEach((u,c)=>{u.slug||e.push(`Item ${c+1} is missing slug.`),(!u.qty||u.qty<1)&&e.push(`Item ${c+1} has invalid qty.`)}),e.length)throw new Error(e.join(" "));const n=window.location.origin,r=await fetch("https://beafrique-server.vercel.app/api/createCheckoutSession",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...t,returnUrl:n})}),s=await r.text();if(!r.ok)throw new Error((()=>{var u;try{return(u=JSON.parse(s))==null?void 0:u.error}catch{return s}})()||`HTTP ${r.status}`);const{url:i}=JSON.parse(s);if(!i)throw new Error("Server did not return a checkout URL");window.location.href=i}function tO(){const{items:t,setQty:e,remove:n,clear:r}=Ia(),s=Ge==null?void 0:Ge.currencySymbol,[i,o]=R.useState(!1),[u,c]=R.useState(null),d=t.reduce((y,w)=>y+(w.price||0)*w.qty,0),f=R.useMemo(()=>{const y=new Date,w=D=>String(D).padStart(2,"0");return`BA-${y.getFullYear()}${w(y.getMonth()+1)}${w(y.getDate())}-${w(y.getHours())}${w(y.getMinutes())}`},[]),[m,g]=R.useState({name:"",phone:"",email:"",address:"",city:"",state:""}),[T,b]=R.useState(!1);if(!t.length)return l.jsxs("div",{className:"container py-12",children:[l.jsx("p",{children:"Your cart is empty."}),l.jsx(oe,{to:"/products",className:"mt-4 inline-block px-4 py-2 rounded bg-brand text-white",children:"Shop products"})]});`${Ge.name}${f}${t.map(y=>`• ${y.name??y.slug}${y.size?` (UK ${y.size})`:""} ×${y.qty} = ${s}${((y.price||0)*y.qty).toLocaleString()}`).join(`
`)}${s}${d.toLocaleString()}${m.name||"-"}${m.phone||"-"}${m.email||"-"}${m.address||"-"}${m.city||"-"}${m.state||"-"}`;const C=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m.email.trim()),k=m.name.trim().length>1&&C&&T&&t.every(y=>!!y.slug&&y.qty>0),E=async()=>{if(c(null),!k){c("Please fill name & a valid email, and accept the terms.");return}try{o(!0);const y={items:t.map(w=>({slug:w.slug,qty:w.qty,size:w.size??void 0,color:w.color??void 0,amount:Math.round(Number(w.price||0)*100),currency:"gbp"})),orderId:f,email:m.email};console.log("[checkout] payload",y),await eO(y)}catch(y){c((y==null?void 0:y.message)||"Could not start checkout"),o(!1)}};return l.jsxs("div",{className:"container py-10 grid lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"lg:col-span-2",children:[l.jsx("h1",{className:"text-2xl md:text-3xl font-bold",children:"Checkout"}),l.jsx("div",{className:"mt-6 space-y-4",children:t.map(y=>l.jsxs("div",{className:"p-4 rounded-xl border flex items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[y.image&&l.jsx("img",{src:y.image,alt:y.name||y.slug,className:"h-16 w-16 rounded-lg object-cover border"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:y.name||y.slug}),l.jsxs("p",{className:"text-sm text-gray-600",children:[y.size?`UK ${y.size} • `:"",s,(y.price||0).toLocaleString()]})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("input",{type:"number",min:1,value:y.qty,onChange:w=>e(y.slug,y.size??null,y.color??null,Math.max(1,Number(w.target.value||1))),className:"w-20 border rounded-lg px-3 py-2"}),l.jsx("button",{onClick:()=>n(y.slug,y.size??null,y.color??null),className:"text-red-600 hover:underline",children:"Remove"})]})]},`${y.slug}-${y.size??""}-${y.color??""}`))}),l.jsxs("div",{className:"mt-8 p-6 rounded-xl border",children:[l.jsx("p",{className:"font-semibold",children:"Shipping information"}),l.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 mt-3",children:[l.jsx("input",{placeholder:"Full name *",value:m.name,onChange:y=>g({...m,name:y.target.value}),className:"border rounded-lg px-3 h-11"}),l.jsx("input",{placeholder:"Phone",value:m.phone,onChange:y=>g({...m,phone:y.target.value}),className:"border rounded-lg px-3 h-11"}),l.jsx("input",{placeholder:"Email *",value:m.email,onChange:y=>g({...m,email:y.target.value}),className:"border rounded-lg px-3 h-11 sm:col-span-2"}),l.jsx("input",{placeholder:"Address line",value:m.address,onChange:y=>g({...m,address:y.target.value}),className:"border rounded-lg px-3 h-11 sm:col-span-2"}),l.jsx("input",{placeholder:"City",value:m.city,onChange:y=>g({...m,city:y.target.value}),className:"border rounded-lg px-3 h-11"}),l.jsx("input",{placeholder:"State / County",value:m.state,onChange:y=>g({...m,state:y.target.value}),className:"border rounded-lg px-3 h-11"})]}),l.jsxs("label",{className:"flex items-start gap-2 mt-3 text-sm",children:[l.jsx("input",{type:"checkbox",checked:T,onChange:y=>b(y.target.checked)}),l.jsxs("span",{children:["I agree to the ",l.jsx(oe,{to:"/terms",className:"underline",children:"Terms"})," &"," ",l.jsx(oe,{to:"/returns",className:"underline",children:"Returns Policy"}),"."]})]}),u&&l.jsx("p",{className:"mt-3 text-sm text-red-600",children:u})]})]}),l.jsxs("aside",{className:"h-fit p-6 rounded-xl border bg-white shadow-sm",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"font-semibold text-lg",children:"Order summary"}),l.jsx("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded-full",children:f})]}),l.jsxs("div",{className:"flex justify-between mt-2 text-sm text-gray-700",children:[l.jsx("span",{children:"Subtotal"}),l.jsxs("span",{children:[s,d.toLocaleString()]})]}),l.jsxs("div",{className:"flex justify-between text-sm text-gray-700 mt-1",children:[l.jsx("span",{children:"Shipping"}),l.jsx("span",{children:"Calculated at fulfillment"})]}),l.jsxs("div",{className:"border-t mt-3 pt-3 flex justify-between font-semibold",children:[l.jsx("span",{children:"Total"}),l.jsxs("span",{children:[s,d.toLocaleString()]})]}),l.jsx("button",{onClick:E,disabled:i,className:`mt-6 w-full rounded-lg px-5 py-3 text-white ${i?"bg-emerald-400 cursor-not-allowed":"bg-emerald-600 hover:bg-emerald-700"}`,children:i?"Redirecting…":"Pay with Card (Secure)"}),l.jsx("p",{className:"mt-4 text-xs text-gray-500",children:"Card payments are processed securely by Stripe. Your items are reserved for 24h for bank transfers."})]})]})}function nO(){const t=Iw;return l.jsxs("div",{className:"bg-white",children:[l.jsxs("section",{className:"relative isolate overflow-hidden bg-emerald-900 text-emerald-50",children:[l.jsx("div",{className:`pointer-events-none absolute inset-0 -z-10 opacity-70 [background:
          radial-gradient(700px_700px_at_0%_0%,rgba(250,204,21,0.12),transparent_60%),
          radial-gradient(700px_700px_at_100%_100%,rgba(255,255,255,0.08),transparent_60%)]`}),l.jsx("div",{className:"container py-12 md:py-16",children:l.jsxs("div",{className:"text-center max-w-3xl mx-auto",children:[l.jsx("span",{className:"inline-flex items-center gap-2 rounded-full bg-yellow-400 px-3 py-1 text-xs font-semibold text-emerald-900 ring-1 ring-yellow-300",children:"What we do"}),l.jsx("h1",{className:"mt-4 text-3xl md:text-5xl font-bold leading-tight tracking-tight",children:"Conscious fashion services,crafted with care"}),l.jsx("p",{className:"mt-3 text-sm md:text-base text-emerald-100/90",children:"From ready-to-wear and bespoke fittings to corporate styling and education, we design beautiful pieces rooted in African heritage responsibly made for people and planet."}),l.jsxs("div",{className:"mt-6 flex flex-wrap justify-center gap-3",children:[l.jsx(oe,{to:"/catalogue",className:"inline-flex items-center gap-2 rounded-full bg-yellow-400 px-6 py-3 text-sm font-semibold text-emerald-900 hover:bg-yellow-500",children:"Shop catalogue"}),l.jsx(oe,{to:"/contact",className:"inline-flex items-center gap-2 rounded-full border border-emerald-200/40 px-6 py-3 text-sm font-semibold text-emerald-50 hover:bg-emerald-800",children:"Book a consultation"})]})]})})]}),l.jsx("section",{className:"py-14",children:l.jsxs("div",{className:"container",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-emerald-700 text-sm font-semibold",children:"What we offer"}),l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-emerald-900",children:"Our Services"}),l.jsx("div",{className:"mt-2 h-1 w-16 bg-yellow-400 rounded mx-auto"})]}),l.jsx("div",{className:"mt-8 grid gap-5 md:grid-cols-2 lg:grid-cols-3",children:[{icon:l.jsx(hb,{className:"w-5 h-5"}),title:"Ready-to-Wear",text:"Seasonal drops with timeless silhouettes, premium finishing, and versatile styling.",link:"/catalogue",cta:"View collection"},{icon:l.jsx(My,{className:"w-5 h-5"}),title:"Bespoke & Fittings",text:"Made-to-measure pieces, studio fittings, and personalized adjustments for perfect fit.",link:"/contact",cta:"Start your fitting"},{icon:l.jsx(xb,{className:"w-5 h-5"}),title:"Corporate / Styling",text:"Capsule uniforms, shoots, and event styling for teams, productions, and campaigns.",link:"/contact",cta:"Enquire"},{icon:l.jsx(ub,{className:"w-5 h-5"}),title:"Alterations & Repairs",text:"Fine alterations, mends, and refreshes to extend the life of the garments you love.",link:"/contact",cta:"Request a repair"},{icon:l.jsx(qN,{className:"w-5 h-5"}),title:"Bridal & Occasion",text:"Custom bridal and special-occasion looks that honor culture and elevate your moment.",link:"/contact",cta:"Design my look"},{icon:l.jsx(KN,{className:"w-5 h-5"}),title:"Workshops & Mentorship",text:"Hands-on learning for aspiring designers—skills, sustainability, and business basics.",link:"/about#mission-vision",cta:"Learn more"}].map(e=>l.jsxs("article",{className:"rounded-2xl ring-1 ring-gray-200 bg-white p-6 shadow-sm transition hover:shadow-md",children:[l.jsx("div",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-yellow-400 text-emerald-900 ring-1 ring-yellow-300",children:e.icon}),l.jsx("h3",{className:"mt-4 text-lg font-semibold text-emerald-900",children:e.title}),l.jsx("p",{className:"mt-2 text-[15px] leading-relaxed text-gray-700",children:e.text}),l.jsx("div",{className:"mt-4",children:l.jsxs(oe,{to:e.link,className:"inline-flex items-center gap-2 text-emerald-900 hover:underline text-sm font-semibold",children:[e.cta," ",l.jsx("span",{"aria-hidden":!0,children:"→"})]})})]},e.title))})]})}),l.jsx("section",{className:"py-14 bg-emerald-50",children:l.jsxs("div",{className:"container",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-emerald-700 text-sm font-semibold",children:"Simple & transparent"}),l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-emerald-900",children:"How it works"}),l.jsx("div",{className:"mt-2 h-1 w-16 bg-yellow-400 rounded mx-auto"})]}),l.jsx("div",{className:"mt-8 grid gap-5 md:grid-cols-5",children:[{icon:l.jsx(hw,{className:"w-5 h-5"}),title:"Consult",text:"Share your vision, timeline, and budget."},{icon:l.jsx(My,{className:"w-5 h-5"}),title:"Design",text:"We sketch, source, and confirm details."},{icon:l.jsx(qh,{className:"w-5 h-5"}),title:"Fitting",text:"Measurements and try-ons for precision."},{icon:l.jsx(Hh,{className:"w-5 h-5"}),title:"Make",text:"Mindful production with quality control."},{icon:l.jsx(fw,{className:"w-5 h-5"}),title:"Deliver",text:"Pickup or shipping—track & enjoy."}].map((e,n)=>l.jsxs("div",{className:"rounded-2xl bg-white ring-1 ring-gray-200 p-5 text-center shadow-sm",children:[l.jsx("div",{className:"mx-auto flex h-10 w-10 items-center justify-center rounded-full bg-yellow-400 text-emerald-900 ring-1 ring-yellow-300",children:e.icon}),l.jsxs("div",{className:"mt-3 text-xs font-semibold text-emerald-700",children:["Step ",n+1]}),l.jsx("h3",{className:"mt-1 text-emerald-900 font-semibold",children:e.title}),l.jsx("p",{className:"mt-1 text-xs text-gray-600",children:e.text})]},e.title))})]})}),l.jsx("section",{className:"py-12 bg-emerald-900 text-emerald-50",children:l.jsx("div",{className:"container",children:l.jsx("div",{className:"grid gap-6 md:grid-cols-3",children:[{icon:l.jsx(Hh,{className:"w-5 h-5"}),title:"Ethical materials",text:"Responsible sourcing and skin-friendly fabrics."},{icon:l.jsx(ob,{className:"w-5 h-5"}),title:"Low-waste patterns",text:"Smart cutting, repairs, and circular ideas."},{icon:l.jsx(qh,{className:"w-5 h-5"}),title:"Fair work",text:"Respect, training, and uplift for artisans."}].map(e=>l.jsxs("div",{className:"rounded-2xl bg-white/5 ring-1 ring-emerald-800 p-6",children:[l.jsx("div",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-yellow-400 text-emerald-900 ring-1 ring-yellow-300",children:e.icon}),l.jsx("h3",{className:"mt-4 text-lg font-semibold text-white",children:e.title}),l.jsx("p",{className:"mt-2 text-sm text-emerald-100/90",children:e.text})]},e.title))})})}),l.jsxs("section",{id:"faqs",className:"py-14 bg-white",children:[l.jsx("div",{className:"container",children:l.jsxs("div",{className:"max-w-3xl mx-auto",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-emerald-900 text-center",children:"FAQs"}),l.jsxs("div",{className:"mt-8 divide-y divide-emerald-100",children:[l.jsxs("div",{className:"py-6",children:[l.jsxs("p",{className:"font-semibold text-emerald-900",children:[l.jsx("span",{className:"mr-2 select-none",children:"–"}),"Do we have a pick-up location?"]}),l.jsxs("p",{className:"mt-2 text-[15px] leading-7 text-gray-700",children:["Yes. You can walk in to pick up your order and make payment at our UK studio:",l.jsx("br",{}),l.jsx("span",{className:"font-medium text-emerald-900",children:"24 Jubilee Road, Southsea, Portsmouth, PO40JE, United Kingdom"}),"."]})]}),l.jsxs("div",{className:"py-6",children:[l.jsxs("p",{className:"font-semibold text-emerald-900",children:[l.jsx("span",{className:"mr-2 select-none",children:"–"}),"How long does delivery take?"]}),l.jsxs("p",{className:"mt-2 text-[15px] leading-7 text-gray-700",children:["UK orders typically arrive within ",l.jsx("span",{className:"font-medium",children:"2–5 business days"}),". International delivery takes ",l.jsx("span",{className:"font-medium",children:"7–10 business days"}),". You’ll receive tracking details once your order ships."]})]}),l.jsxs("div",{className:"py-6",children:[l.jsxs("p",{className:"font-semibold text-emerald-900",children:[l.jsx("span",{className:"mr-2 select-none",children:"–"}),"What sizes do you offer?"]}),l.jsxs("p",{className:"mt-2 text-[15px] leading-7 text-gray-700",children:["We offer sizes from ",l.jsx("span",{className:"font-medium",children:"Small to 3XL"}),". Each product page includes a size guide to help you find your perfect fit."]})]}),l.jsxs("div",{className:"py-6",children:[l.jsxs("p",{className:"font-semibold text-emerald-900",children:[l.jsx("span",{className:"mr-2 select-none",children:"–"}),"Are your outfits ready-made or custom?"]}),l.jsxs("p",{className:"mt-2 text-[15px] leading-7 text-gray-700",children:["Most designs are ",l.jsx("span",{className:"font-medium",children:"ready-to-wear"}),", but we also offer custom sizing for select pieces. If you’d like a custom fit, please contact us before placing an order."]})]}),l.jsxs("div",{className:"py-6",children:[l.jsxs("p",{className:"font-semibold text-emerald-900",children:[l.jsx("span",{className:"mr-2 select-none",children:"–"}),"How do I care for my outfit?"]}),l.jsxs("p",{className:"mt-2 text-[15px] leading-7 text-gray-700",children:["To maintain quality, we recommend ",l.jsx("span",{className:"font-medium",children:"dry cleaning"})," or gentle hand washing with mild detergent. Always follow the care label on your garment."]})]})]})]})}),l.jsx("a",{href:`https://wa.me/${Ge.whatsapp}?text=Hi%20there%2C%20I%20have%20a%20question%20about%20your%20products.`,target:"_blank",rel:"noreferrer","aria-label":"Chat on WhatsApp",className:"fixed bottom-6 right-4 z-40 inline-flex h-12 w-12 items-center justify-center rounded-full bg-[#25D366] shadow-lg ring-1 ring-black/5",children:l.jsx(t,{className:"h-6 w-6 text-white"})})]}),l.jsx("section",{className:"py-14 bg-gradient-to-b from-emerald-50/60 to-white",children:l.jsxs("div",{className:"container grid gap-6 md:grid-cols-2 items-center",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-emerald-900",children:"Ready to create something special?"}),l.jsx("p",{className:"mt-2 text-sm md:text-base text-gray-700",children:"Share your ideas and timeline—let’s design a piece that fits your story and your life."})]}),l.jsxs("div",{className:"flex flex-wrap gap-3 md:justify-end",children:[l.jsx(oe,{to:"/contact",className:"inline-flex items-center gap-2 rounded-full bg-yellow-400 px-6 py-3 text-sm font-semibold text-emerald-900 hover:bg-yellow-500",children:"Book a consultation"}),l.jsx(oe,{to:"/catalogue",className:"inline-flex items-center gap-2 rounded-full border border-emerald-600 px-6 py-3 text-sm font-semibold text-emerald-900 hover:bg-emerald-50",children:"Browse catalogue"})]})]})})]})}function lT(){const[t,e]=R.useState([]),[n,r]=R.useState(!0),[s,i]=R.useState(null);if(R.useEffect(()=>{(async()=>{try{r(!0),i(null);const c=cp(tp(Fn,"products"),xE("is_active","==",!0)),f=(await pp(c)).docs.map(m=>m.data());e(f)}catch(c){i(c.message||"Failed to load catalogue")}finally{r(!1)}})()},[]),n)return l.jsx("div",{className:"container py-10",children:"Loading…"});if(s)return l.jsxs("div",{className:"container py-10 text-red-600",children:["Error: ",s]});if(!t.length)return l.jsx("div",{className:"container py-10",children:"No products yet."});const o=t.map(c=>({slug:c.slug,name:c.title,image:c.primary_image_url||""})),u=c=>{const d=t.find(f=>f.slug===c.slug);return(d==null?void 0:d.uk_url)||void 0};return l.jsxs("div",{className:"container py-10",children:[l.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-6",children:"Catalogue"}),l.jsx(aT,{items:o,getOutsideLink:u})]})}function rO(){return l.jsx(lT,{})}const sO="/assets/pic4-JP2lHRKH.jpeg";function iO(){const t=Ge==null?void 0:Ge.name,e=Ge==null?void 0:Ge.whatsapp;return l.jsxs("div",{className:"bg-white",children:[l.jsx("section",{className:"bg-emerald-900 text-emerald-50",children:l.jsx("div",{className:"container py-12 md:py-16",children:l.jsxs("div",{className:"grid gap-8 md:grid-cols-2 items-center ",children:[l.jsxs("div",{className:"lg:mt-[-5em] mt-[2em]",children:[l.jsx("span",{className:"inline-flex items-center gap-2 rounded-full bg-yellow-400 px-3 py-1 text-xs font-semibold text-emerald-900 ring-1 ring-yellow-300",children:"Founder Story"}),l.jsx("h1",{className:"mt-4 text-3xl md:text-5xl font-bold leading-tight tracking-tight",children:"From grassroots tailoring to a global movement"}),l.jsxs("p",{className:"mt-3 text-sm md:text-base text-emerald-100/90 max-w-xl",children:["Bukonla’s journey—from Unilorin to the UK—shapes ",t,": a sustainable fashion house celebrating African identity, empowering women, and designing for the planet."]}),l.jsxs("div",{className:"mt-4 flex flex-wrap gap-3",children:[l.jsx("a",{href:`https://wa.me/${e}?text=Hello%20${encodeURIComponent(t)}%2C%20I%27d%20love%20to%20learn%20more%20about%20your%20story.`,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full bg-yellow-400 px-6 py-3 text-sm font-semibold text-emerald-900 hover:bg-yellow-500",children:"Chat on WhatsApp"}),l.jsx("a",{href:"/catalogue",className:"inline-flex items-center gap-2 rounded-full border border-emerald-200/40 px-6 py-3 text-sm font-semibold text-emerald-50 hover:bg-emerald-800",children:"Explore the collection"})]})]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"overflow-hidden rounded-3xl ring-1 ring-emerald-800 shadow-sm",children:l.jsx("img",{src:sO,alt:"Bukonla, founder of Be Afrique",className:" w-full object-cover"})}),l.jsx("div",{className:"absolute -top-3 -right-3 rounded-full bg-yellow-400 px-3 py-1 text-xs font-bold text-emerald-900 shadow",children:"Based in the UK"})]})]})})}),l.jsx("section",{className:"py-14",children:l.jsx("div",{className:"container",children:l.jsx("div",{className:"grid gap-5 md:grid-cols-3",children:[{icon:"🪡",title:"Craft & Heritage",text:"Rooted in African identity and artisanal traditions—pieces that carry stories of home and pride."},{icon:"♻️",title:"Sustainability",text:"Eco-friendly materials, mindful production, and circular ideas—style that cares for people and planet."},{icon:"🤝",title:"Empowerment",text:"A movement for women and communities—skills, dignity, and opportunity stitched into every seam."}].map(n=>l.jsxs("div",{className:"rounded-2xl ring-1 ring-gray-200 bg-white p-6 shadow-sm",children:[l.jsx("div",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-yellow-400 text-emerald-900 font-bold",children:n.icon}),l.jsx("h3",{className:"mt-4 text-lg font-semibold text-emerald-900",children:n.title}),l.jsx("p",{className:"mt-2 text-[15px] leading-relaxed text-gray-700",children:n.text})]},n.title))})})}),l.jsx("section",{className:"py-14 bg-emerald-50",children:l.jsxs("div",{className:"container",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-emerald-700 text-sm font-semibold",children:"Milestones"}),l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-emerald-900",children:"The Journey"}),l.jsx("div",{className:"mt-2 h-1 w-16 bg-yellow-400 rounded mx-auto"})]}),l.jsxs("div",{className:"mt-10 grid gap-10 md:grid-cols-2",children:[l.jsxs("ol",{className:"relative border-l border-emerald-200 pl-6 space-y-8",children:[l.jsxs("li",{children:[l.jsx("div",{className:"absolute -left-2 top-1 h-4 w-4 rounded-full bg-yellow-400 ring-2 ring-white"}),l.jsx("h3",{className:"text-emerald-900 font-semibold",children:"2013 — Unilorin"}),l.jsx("p",{className:"mt-1 text-[15px] text-gray-700",children:"Early roots in tailoring; the spark for fashion as identity and purpose."})]}),l.jsxs("li",{children:[l.jsx("div",{className:"absolute -left-2 top-[92px] h-4 w-4 rounded-full bg-yellow-400 ring-2 ring-white"}),l.jsx("h3",{className:"text-emerald-900 font-semibold",children:"Training — Silk & Purple, Datina Designs"}),l.jsx("p",{className:"mt-1 text-[15px] text-gray-700",children:"Refined craft at two of Nigeria’s respected fashion houses."})]}),l.jsxs("li",{children:[l.jsx("div",{className:"absolute -left-2 top-[184px] h-4 w-4 rounded-full bg-yellow-400 ring-2 ring-white"}),l.jsx("h3",{className:"text-emerald-900 font-semibold",children:"2019 — Le Soughtout"}),l.jsx("p",{className:"mt-1 text-[15px] text-gray-700",children:"First registered business; “Mummy & Daughter” line celebrates bonds and sustainability."})]})]}),l.jsxs("ol",{className:"relative border-l border-emerald-200 pl-6 space-y-8",children:[l.jsxs("li",{children:[l.jsx("div",{className:"absolute -left-2 top-1 h-4 w-4 rounded-full bg-yellow-400 ring-2 ring-white"}),l.jsx("h3",{className:"text-emerald-900 font-semibold",children:"2020 — Author"}),l.jsxs("p",{className:"mt-1 text-[15px] text-gray-700",children:[l.jsx("em",{children:"Make Massive Income Sewing from Home"}),": empowering creative entrepreneurship."]})]}),l.jsxs("li",{children:[l.jsx("div",{className:"absolute -left-2 top-[92px] h-4 w-4 rounded-full bg-yellow-400 ring-2 ring-white"}),l.jsx("h3",{className:"text-emerald-900 font-semibold",children:"2021 — Recognition"}),l.jsx("p",{className:"mt-1 text-[15px] text-gray-700",children:"Brand Award: Most Promising SME of the Year."})]}),l.jsxs("li",{children:[l.jsx("div",{className:"absolute -left-2 top-[184px] h-4 w-4 rounded-full bg-yellow-400 ring-2 ring-white"}),l.jsx("h3",{className:"text-emerald-900 font-semibold",children:"2022–2025 — UK"}),l.jsxs("p",{className:"mt-1 text-[15px] text-gray-700",children:["University of Portsmouth (MSc); thesis on tech & sustainability. 2025: ",t," launches in the UK."]})]})]})]})]})}),l.jsx("section",{className:"py-14",children:l.jsxs("div",{className:"container grid gap-10 md:grid-cols-2 items-start",children:[l.jsxs("div",{className:"order-2 md:order-1",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-emerald-900",children:"The Vision Behind the Label"}),l.jsx("div",{className:"mt-2 h-1 w-16 bg-yellow-400 rounded"}),l.jsxs("div",{className:"mt-6 space-y-4 text-[15px] leading-relaxed text-gray-700",children:[l.jsxs("p",{children:[t," creates sustainable ready-to-wear that celebrates African heritage and identity. We invite the world to wear culture with pride—while respecting the earth we share."]}),l.jsx("p",{children:"Clothing is more than fabric; it’s memory, meaning, and belonging. Our designs reflect stories of tradition and community, made with eco-friendly materials and mindful production."}),l.jsxs("p",{children:["Innovation meets culture in unexpected ways—like upcycling ",l.jsx("strong",{children:"snail shells"})," into textural details, turning waste into beauty and narrative."]})]})]}),l.jsx("div",{className:"order-1 md:order-2",children:l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"overflow-hidden rounded-2xl ring-1 ring-gray-200 shadow-sm",children:l.jsx("img",{src:Im,alt:"Founder portrait",className:"w-full h-full object-cover"})}),l.jsx("div",{className:"pointer-events-none absolute inset-0 rounded-2xl bg-gradient-to-t from-black/30 via-transparent to-transparent"})]})})]})}),l.jsx("section",{className:"py-10",children:l.jsx("div",{className:"container",children:l.jsxs("blockquote",{className:"relative overflow-hidden rounded-2xl bg-emerald-900 p-8 text-emerald-50 ring-1 ring-emerald-800",children:[l.jsx("div",{className:"absolute -top-6 -left-6 h-24 w-24 rounded-full bg-yellow-400/20 blur-2xl"}),l.jsx("p",{className:"text-lg md:text-xl leading-relaxed",children:"“Fashion can be beautiful and responsible. Our work bridges continents—honoring African heritage while designing a more sustainable future.”"}),l.jsx("footer",{className:"mt-4 text-sm text-emerald-100/80",children:"— Bukonla, Founder"})]})})}),l.jsx("section",{className:"py-10 bg-emerald-50",children:l.jsx("div",{className:"container",children:l.jsx("div",{className:"grid grid-cols-3 gap-4",children:[{label:"Years in Craft",value:"10+"},{label:"Women Empowered",value:"2,000+"},{label:"Collections & Reviews",value:"65+"}].map(n=>l.jsxs("div",{className:"rounded-2xl bg-white ring-1 ring-gray-200 p-5 text-center",children:[l.jsx("p",{className:"text-3xl font-bold text-emerald-900",children:n.value}),l.jsx("p",{className:"text-xs font-semibold text-emerald-900/70 mt-1",children:n.label})]},n.label))})})}),l.jsx("section",{className:"py-14 bg-emerald-900 text-emerald-50",children:l.jsxs("div",{className:"container grid gap-6 md:grid-cols-2 items-center",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl md:text-3xl font-bold",children:"Join the movement—wear culture with pride."}),l.jsx("p",{className:"mt-2 text-sm md:text-base text-emerald-100/90",children:"Explore new drops, read our values, or partner with us on sustainable initiatives."})]}),l.jsxs("div",{className:"flex flex-wrap gap-3 md:justify-end",children:[l.jsx("a",{href:"/catalogue",className:"inline-flex items-center gap-2 rounded-full bg-yellow-400 px-6 py-3 text-sm font-semibold text-emerald-900 hover:bg-yellow-500",children:"Shop Catalogue"}),l.jsx("a",{href:"/about#mission-vision",className:"inline-flex items-center gap-2 rounded-full border border-emerald-200/40 px-6 py-3 text-sm font-semibold text-emerald-50 hover:bg-emerald-800",children:"Mission & Vision"})]})]})})]})}const oO="/assets/pic6-CUlXgC52.jpeg",aO="/assets/pic7-W2OeXP0k.jpeg",lO="/assets/Oshopic-BjbI9D1f.jpeg",uO=[{name:"Osho Ademola Joel",role:"Strategic Advisor & Team Lead",photo:lO},{name:"Bukonla Sowale",role:"creative director",photo:Im},{name:"Adeola Ayorimde",role:"production manager",photo:aO},{name:"Amaka Patrick",role:"social media manager",photo:oO}];function cO(){return l.jsxs("div",{className:"bg-white",children:[l.jsx("section",{className:"bg-emerald-900 text-emerald-50",children:l.jsx("div",{className:"container py-10 md:py-14",children:l.jsxs("div",{className:"max-w-3xl",children:[l.jsx("span",{className:"inline-flex items-center gap-2 rounded-full bg-yellow-400 px-3 py-1 text-xs font-semibold text-emerald-900 ring-1 ring-yellow-300",children:"Our Team"}),l.jsx("h1",{className:"mt-4 text-3xl md:text-5xl font-bold leading-tight tracking-tight",children:"People who stitch culture into every seam"}),l.jsx("p",{className:"mt-3 text-sm md:text-base text-emerald-100/90",children:"A small, mighty team crafting conscious fashion—rooted in African heritage and designed for the planet."})]})})}),l.jsx("section",{className:"py-14",children:l.jsxs("div",{className:"container",children:[l.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:uO.map(t=>{var e,n,r;return l.jsxs("article",{className:"group overflow-hidden rounded-2xl ring-1 ring-gray-200 bg-white shadow-sm transition hover:shadow-md",children:[l.jsxs("div",{className:"relative aspect-[4/5] overflow-hidden",children:[l.jsx("img",{src:t.photo,alt:`${t.name}, ${t.role}`,className:"h-full w-full object-cover transition duration-500 group-hover:scale-[1.03]"}),l.jsx("span",{className:"absolute top-3 left-3 rounded-full bg-yellow-400 px-3 py-1 text-xs font-semibold text-emerald-900 shadow",children:"Team"}),l.jsx("div",{className:"pointer-events-none absolute inset-0 bg-gradient-to-t from-black/25 via-transparent to-transparent"})]}),l.jsxs("div",{className:"p-5",children:[l.jsx("h3",{className:"text-lg font-semibold text-emerald-900",children:t.name}),l.jsx("p",{className:"text-sm font-medium text-emerald-700",children:t.role}),t.bio&&l.jsx("p",{className:"mt-2 text-[15px] leading-relaxed text-gray-700",children:t.bio}),(((e=t.socials)==null?void 0:e.linkedin)||((n=t.socials)==null?void 0:n.instagram)||((r=t.socials)==null?void 0:r.email))&&l.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[t.socials.linkedin&&l.jsx("a",{href:t.socials.linkedin,target:"_blank",rel:"noreferrer",className:"inline-flex h-9 w-9 items-center justify-center rounded-full ring-1 ring-gray-200 hover:bg-emerald-50","aria-label":`${t.name} on LinkedIn`,children:l.jsx(XN,{className:"h-4 w-4 text-emerald-900"})}),t.socials.instagram&&l.jsx("a",{href:t.socials.instagram,target:"_blank",rel:"noreferrer",className:"inline-flex h-9 w-9 items-center justify-center rounded-full ring-1 ring-gray-200 hover:bg-emerald-50","aria-label":`${t.name} on Instagram`,children:l.jsx(QN,{className:"h-4 w-4 text-emerald-900"})}),t.socials.email&&l.jsx("a",{href:`mailto:${t.socials.email}`,className:"inline-flex h-9 w-9 items-center justify-center rounded-full ring-1 ring-gray-200 hover:bg-emerald-50","aria-label":`Email ${t.name}`,children:l.jsx(eb,{className:"h-4 w-4 text-emerald-900"})})]})]})]},t.name)})}),l.jsxs("div",{className:"mt-10 grid items-center gap-4 rounded-2xl bg-emerald-900 p-6 text-emerald-50 md:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg md:text-xl font-bold",children:"Want to collaborate or partner?"}),l.jsx("p",{className:"mt-1 text-sm text-emerald-100/90",children:"Press, partnerships, or mentorship, our team would love to hear from you."})]}),l.jsx("div",{className:"md:text-right",children:l.jsx(oe,{to:"/contact",className:"inline-flex items-center gap-2 rounded-full bg-yellow-400 px-6 py-3 text-sm font-semibold text-emerald-900 hover:bg-yellow-500","aria-label":"Go to contact page",children:"Get in touch →"})})]})]})})]})}const dO=[{slug:"afara-maxi-dress",name:"Afara Maxi Dress",price:48e3,image:new URL("/assets/buk1-C5UGe4R4.webp",import.meta.url).href,category:"long-dresses",sizes:["S","M","L","XL"],description:"Timeless silhouette in premium fabric with elegant flow and structured fit."},{slug:"orente-two-piece",name:"Orente Two‑Piece",price:42e3,image:new URL("/assets/buk2-E3iEPJVS.webp",import.meta.url).href,category:"two-piece",sizes:["S","M","L"],description:"Versatile set with tailored lines and day‑to‑night elegance."},{slug:"adire-wrap-top",name:"Adire Wrap Top",price:28e3,image:new URL("/assets/buk3-B61Tn9RI.webp",import.meta.url).href,category:"tops",sizes:["S","M","L","XL"],description:"Statement wrap top with heritage pattern and modern silhouette."},{slug:"afara-maxi-dress",name:"Afara Maxi Dress",price:48e3,image:new URL("/assets/buk4-Bw_ahjkR.webp",import.meta.url).href,category:"long-dresses",sizes:["S","M","L","XL"],description:"Timeless silhouette in premium fabric with elegant flow and structured fit."}],hO=_w()(xw((t,e)=>({staticItems:dO,userItems:[],add:n=>t({userItems:[n,...e().userItems]}),all:()=>[...e().userItems,...e().staticItems]}),{name:"beafrique-products"})),fO=[{id:"long-dresses",name:"Long Dresses"},{id:"two-piece",name:"Two-Piece Sets"},{id:"tops",name:"Tops"},{id:"accessories",name:"Accessories"}];function mO(){const t=ac(),e=hO(x=>x.add),[n,r]=R.useState(""),[s,i]=R.useState(""),[o,u]=R.useState("long-dresses"),[c,d]=R.useState(""),[f,m]=R.useState("S,M,L"),[g,T]=R.useState(""),[b,C]=R.useState(!1),[k,E]=R.useState(!1),[y,w]=R.useState(""),D=x=>x.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)+/g,""),L=async x=>{var v;if(x){w(""),C(!0);try{const I=new FormData;I.append("file",x),I.append("upload_preset",pl.uploadPreset),pl.folder&&I.append("folder",pl.folder);const N=await fetch(`https://api.cloudinary.com/v1_1/${pl.cloudName}/image/upload`,{method:"POST",body:I}),A=await N.json();if(!N.ok)throw new Error(((v=A.error)==null?void 0:v.message)||"Upload failed");const P=A.secure_url,S=P.indexOf("/upload/"),ge=S>-1?P.slice(0,S+8)+"f_auto,q_auto,c_fill"+P.slice(S+8):P;T(ge)}catch(I){w(I.message||"Upload error")}finally{C(!1)}}},F=async x=>{if(x.preventDefault(),w(""),!n||!s||!g){w("Name, price and image are required.");return}E(!0);try{const v={slug:D(n),name:n,price:Number(s),image:g,category:o,sizes:f.split(",").map(I=>I.trim()).filter(Boolean),description:c||"—"};e(v),t("/catalogue")}catch(v){w(v.message||"Save failed")}finally{E(!1)}};return l.jsxs("div",{className:"container py-10",children:[l.jsx("h1",{className:"text-2xl md:text-3xl font-bold",children:"Add New Product"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"Upload image to Cloudinary and publish to your catalogue."}),l.jsxs("form",{onSubmit:F,className:"mt-6 grid lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"lg:col-span-1",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Product image"}),l.jsxs("div",{className:"mt-2 rounded-xl border-dashed border-2 p-4 text-center",children:[l.jsx("input",{type:"file",accept:"image/*",onChange:x=>{var v;return L((v=x.target.files)==null?void 0:v[0])},className:"block w-full text-sm"}),b&&l.jsx("p",{className:"mt-3 text-sm text-gray-500",children:"Uploading…"}),g&&l.jsx("div",{className:"mt-3 rounded-xl overflow-hidden",children:l.jsx("img",{src:g,alt:"preview",className:"w-full aspect-[4/5] object-cover"})})]}),g&&l.jsxs("p",{className:"mt-2 text-xs text-gray-500 break-all",children:["URL: ",g]})]}),l.jsxs("div",{className:"lg:col-span-2 grid sm:grid-cols-2 gap-4 content-start",children:[l.jsxs("div",{className:"sm:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),l.jsx("input",{className:"mt-1 w-full h-11 rounded-lg border px-3",value:n,onChange:x=>r(x.target.value),placeholder:"Afara Maxi Dress",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Price (NGN)"}),l.jsx("input",{type:"number",min:0,className:"mt-1 w-full h-11 rounded-lg border px-3",value:s,onChange:x=>i(x.target.value===""?"":Number(x.target.value)),placeholder:"48000",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Category"}),l.jsx("select",{className:"mt-1 w-full h-11 rounded-lg border px-3 bg-white",value:o,onChange:x=>u(x.target.value),children:fO.map(x=>l.jsx("option",{value:x.id,children:x.name},x.id))})]}),l.jsxs("div",{className:"sm:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Available sizes (comma-separated)"}),l.jsx("input",{className:"mt-1 w-full h-11 rounded-lg border px-3",value:f,onChange:x=>m(x.target.value),placeholder:"XS,S,M,L,XL"})]}),l.jsxs("div",{className:"sm:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),l.jsx("textarea",{className:"mt-1 w-full rounded-lg border px-3 py-2",rows:4,value:c,onChange:x=>d(x.target.value),placeholder:"Timeless silhouette in premium fabric with elegant flow and structured fit."})]}),y&&l.jsx("div",{className:"sm:col-span-2 text-sm text-red-600",children:y}),l.jsxs("div",{className:"sm:col-span-2 flex gap-3",children:[l.jsx("button",{type:"submit",disabled:k||b,className:"rounded-lg bg-green-600 text-white px-5 py-3 hover:bg-green-700 disabled:opacity-60",children:k?"Saving…":"Publish Product"}),l.jsx("button",{type:"button",onClick:()=>t("/catalogue"),className:"rounded-lg border px-5 py-3 hover:bg-gray-50",children:"Cancel"})]})]})]})]})}function pO(){return l.jsxs("section",{className:"relative isolate",children:[l.jsx("div",{className:`pointer-events-none absolute inset-0 -z-10 opacity-70 [background:
        radial-gradient(600px_600px_at_0%_0%,rgba(250,204,21,0.08),transparent_60%),
        radial-gradient(800px_800px_at_100%_100%,rgba(16,185,129,0.08),transparent_60%)]`}),l.jsxs("div",{className:"container py-12 md:py-16",children:[l.jsxs("div",{className:"max-w-3xl",children:[l.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-yellow-100 text-emerald-800 px-3 py-1 text-xs font-semibold ring-1 ring-yellow-200",children:[l.jsx(BN,{className:"h-3.5 w-3.5"})," Store Policy"]}),l.jsx("h1",{className:"mt-3 text-3xl md:text-4xl font-bold text-emerald-900",children:"Refund & Returns Policy"}),l.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Last updated: Jan 2025"})]}),l.jsxs("div",{className:"mt-8 grid gap-6 md:grid-cols-3",children:[l.jsxs("div",{className:"md:col-span-2 rounded-2xl bg-white ring-1 ring-gray-200 p-6 shadow-sm",children:[l.jsx("h2",{className:"text-lg font-semibold text-emerald-900",children:"What is our returns policy?"}),l.jsxs("p",{className:"mt-2 text-[15px] leading-7 text-gray-700",children:["You may return your order within ",l.jsx("span",{className:"font-semibold",children:"5 days"})," of receiving it for a refund, exchange, or store credit (subject to the conditions below)."]}),l.jsx("h3",{className:"mt-6 font-semibold text-emerald-900",children:"Conditions for returns"}),l.jsxs("ul",{className:"mt-2 list-disc pl-5 space-y-2 text-[15px] leading-7 text-gray-700",children:[l.jsxs("li",{children:["Items must be ",l.jsx("strong",{children:"unused, unworn, unwashed"}),", and in their original condition."]}),l.jsxs("li",{children:["All ",l.jsx("strong",{children:"tags/labels"})," and the original ",l.jsx("strong",{children:"packaging"})," must be included."]}),l.jsxs("li",{children:["Returns with ",l.jsx("strong",{children:"stains"}),", ",l.jsx("strong",{children:"odours"})," (e.g., perfume, smoke, sweat), signs of wear, or missing tags/packaging will not be accepted."]})]}),l.jsx("h3",{className:"mt-6 font-semibold text-emerald-900",children:"Faulty / “Not as Described” items"}),l.jsxs("p",{className:"mt-2 text-[15px] leading-7 text-gray-700",children:["If an item is faulty, damaged, or not as described, you are entitled to a ",l.jsx("strong",{children:"full refund or replacement"}),". We will cover the return postage for approved claims."]}),l.jsx("div",{className:"mt-4 rounded-xl bg-emerald-50 ring-1 ring-emerald-100 p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(dw,{className:"h-5 w-5 text-emerald-800 mt-0.5"}),l.jsxs("div",{className:"text-[15px] leading-7 text-emerald-900/90",children:[l.jsx("p",{className:"font-semibold",children:"Evidence required"}),l.jsxs("ul",{className:"mt-1 list-disc pl-5 space-y-1",children:[l.jsx("li",{children:"Clear photographic or video evidence of the fault/damage."}),l.jsx("li",{children:"A brief description of the issue and when it was noticed."})]}),l.jsx("p",{className:"mt-2 text-emerald-900/80",children:"If evidence is not provided, we may reject your claim. All returned items are inspected on arrival. If a claim is determined to be false, we reserve the right to refuse a refund and return the item back to you."})]})]})}),l.jsx("h3",{className:"mt-6 font-semibold text-emerald-900",children:"Can I exchange for a different size?"}),l.jsxs("ul",{className:"mt-2 list-disc pl-5 space-y-2 text-[15px] leading-7 text-gray-700",children:[l.jsx("li",{children:"Yes—size exchanges are accepted if the item is unworn, unwashed, and in original condition."}),l.jsxs("li",{children:["Customer must keep the ",l.jsx("strong",{children:"proof of postage"})," and ",l.jsx("strong",{children:"tracking number"}),"."]}),l.jsx("li",{children:"If a return goes missing in transit, we can only process a refund/exchange if tracking confirms it was sent. If tracking doesn’t show delivery to us, please contact the courier directly to resolve the issue."})]}),l.jsx("h3",{className:"mt-6 font-semibold text-emerald-900",children:"Non-returnable items"}),l.jsxs("p",{className:"mt-2 text-[15px] leading-7 text-gray-700",children:["For hygiene and customisation reasons, ",l.jsx("strong",{children:"made-to-measure"})," items, ",l.jsx("strong",{children:"final-sale"})," items, and ",l.jsx("strong",{children:"intimate apparel"})," (where applicable) cannot be returned unless faulty."]}),l.jsx("h3",{className:"mt-6 font-semibold text-emerald-900",children:"How to start a return"}),l.jsxs("ol",{className:"mt-2 list-decimal pl-5 space-y-2 text-[15px] leading-7 text-gray-700",children:[l.jsx("li",{children:"Contact us within 5 days of delivery (WhatsApp or email) with your order ID and reason."}),l.jsx("li",{children:"Provide photos/video if the item is faulty or not as described."}),l.jsx("li",{children:"We’ll confirm approval and share the return address and instructions."}),l.jsx("li",{children:"Send the item back using a tracked service and keep proof of postage."})]}),l.jsx("h3",{className:"mt-6 font-semibold text-emerald-900",children:"Refund timeline"}),l.jsxs("p",{className:"mt-2 text-[15px] leading-7 text-gray-700",children:["Approved refunds are processed within ",l.jsx("strong",{children:"3–7 business days"})," of receiving and inspecting the item, back to your original payment method or as store credit (as agreed)."]}),l.jsx("div",{className:"mt-6 rounded-xl bg-white ring-1 ring-gray-200 p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(UN,{className:"h-5 w-5 text-emerald-800 mt-0.5"}),l.jsx("p",{className:"text-[15px] leading-7 text-gray-700",children:"This policy does not affect your statutory rights. For assistance, message us on WhatsApp or email our support team."})]})})]}),l.jsxs("aside",{className:"h-fit rounded-2xl bg-emerald-900 text-emerald-50 ring-1 ring-emerald-800 p-6 shadow-sm",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Need help?"}),l.jsxs("div",{className:"mt-3 space-y-2 text-sm",children:[l.jsxs("p",{children:["WhatsApp:"," ",l.jsx("a",{href:"https://wa.me/447733729418",className:"underline hover:no-underline",children:"+44 7733 729 418"})]}),l.jsxs("p",{children:["Email:"," ",l.jsx("a",{href:"mailto:Bukonla@beafrique.com",className:"underline hover:no-underline",children:"Bukonla@beafrique.com"})]})]}),l.jsxs("div",{className:"mt-5 rounded-xl bg-white/10 ring-1 ring-emerald-800 p-4",children:[l.jsx("p",{className:"text-xs uppercase tracking-wide text-emerald-200 font-semibold",children:"Return address"}),l.jsxs("p",{className:"mt-1 text-sm",children:["24 Jubilee Road, Southsea",l.jsx("br",{}),"Portsmouth, PO40JE, United Kingdom"]})]}),l.jsxs("div",{className:"mt-5 flex flex-wrap gap-2",children:[l.jsx("a",{href:"https://wa.me/447733729418?text=Hi%20Be%20Afrique%2C%20I%27d%20like%20to%20start%20a%20return.%20My%20order%20ID%20is%20____.",target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full bg-yellow-400 px-5 py-2.5 text-sm font-semibold text-emerald-900 hover:bg-yellow-500",children:"Start a return on WhatsApp →"}),l.jsx(oe,{to:"/contact",className:"inline-flex items-center gap-2 rounded-full border border-emerald-200 px-5 py-2.5 text-sm font-semibold text-emerald-50 hover:bg-emerald-800",children:"Contact support"})]})]})]})]})]})}function gO(){return l.jsxs("div",{className:"p-3 border-b flex justify-between items-center",children:[l.jsx("div",{className:"font-semibold",children:"Admin"}),l.jsx("button",{className:"text-sm underline",onClick:()=>WE(Bu),children:"Sign out"})]})}function j0({children:t}){const[e,n]=R.useState("loading");return R.useEffect(()=>r3(Bu,async s=>{var o;if(!s){n("signedout");return}const i=await mp(Qs(Fn,"roles",s.uid));n(i.exists()&&((o=i.data())==null?void 0:o.admin)===!0?"ok":"no")}),[]),e==="loading"?l.jsx("div",{className:"p-6",children:"Checking admin…"}):e==="signedout"?l.jsx(sw,{to:"/admin/sign-in",replace:!0}):e==="no"?l.jsxs("div",{className:"p-6",children:[l.jsx("p",{className:"mb-3",children:"You’re signed in, but not authorized for admin."}),l.jsx("button",{className:"underline",onClick:()=>WE(Bu),children:"Sign out"})]}):t}const yO="dbl85m2kz",vO="beafrique",_O="beafrique";async function D0(t,e){var u,c;const n=`https://api.cloudinary.com/v1_1/${yO}/upload`,r=new FormData;r.append("upload_preset",vO),r.append("folder",_O),e&&r.append("public_id",e),r.append("file",t);const s=await fetch(n,{method:"POST",body:r}),i=await s.text();if(!s.ok)try{throw new Error(((c=(u=JSON.parse(i))==null?void 0:u.error)==null?void 0:c.message)||`Cloudinary ${s.status}`)}catch{throw new Error(`Cloudinary ${s.status}: ${i}`)}const o=JSON.parse(i);return{url:o.secure_url,publicId:o.public_id}}function Kd(t){return t.toLowerCase().trim().replace(/['"]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)+/g,"")}function O0(t){return t.split(/[,|\n]+/g).map(e=>e.trim()).filter(Boolean)}function Gd(t=8,e=20,n=2){const r=[];for(let s=t;s<=e;s+=n)r.push(String(s));return r}function xO(){const[t,e]=R.useState(""),[n,r]=R.useState(""),[s,i]=R.useState("Be-Afrique"),[o,u]=R.useState("Be-Afrique"),[c,d]=R.useState("unisex"),[f,m]=R.useState(""),[g,T]=R.useState(180),[b,C]=R.useState(!1),[k,E]=R.useState(""),[y,w]=R.useState(Gd(8,20).join(", ")),[D,L]=R.useState("Olive"),[F,x]=R.useState(null),[v,I]=R.useState([]),[N,A]=R.useState(!1),[P,S]=R.useState(null),[ge,Te]=R.useState(null),[Ye,Lt]=R.useState(null),z=R.useMemo(()=>F?URL.createObjectURL(F):"",[F]),G=R.useMemo(()=>v.map(W=>URL.createObjectURL(W)),[v]);R.useEffect(()=>()=>{z&&URL.revokeObjectURL(z),G.forEach(W=>URL.revokeObjectURL(W))},[z,G]),R.useEffect(()=>{if(!n)return;const W=Kd(n);(!t||t===Kd(t))&&e(W)},[n]),R.useEffect(()=>{if(!t)return;let W=!1;return(async()=>{const le=Qs(Fn,"products",t),rt=await mp(le);W||Lt(rt.exists()?{id:rt.id}:null)})(),()=>{W=!0}},[t]);const J=W=>{W!=null&&W.length&&I(le=>[...le,...Array.from(W)])},ce=W=>{I(le=>le.filter((rt,Kr)=>Kr!==W))},fe=async W=>{if(W.preventDefault(),Te(null),S(null),!t)return Te("Please provide a slug (e.g. linen-shirt-olive).");if(!n)return Te("Please provide a product title.");if(!F)return Te("Please choose a main image.");if(b&&k!==""&&Number(k)<=Number(g))return Te("Compare-at must be greater than the main price when 'On sale' is checked.");try{A(!0);const le=await D0(F,`${t}/main`);let rt=[];v.length&&(rt=await Promise.all(v.map((Rn,Ma)=>D0(Rn,`${t}/img-${Ma+1}`))));const Kr=O0(y),La=O0(D),Lc=Math.round(Number(g)*100),Va=k!==""?Math.round(Number(k)*100):null,Fi={slug:t,title:n,brand:s,collection:o,gender:c,description:f,min_price_cents:Lc,has_sale:!!b,sizes:Kr,colors:La,primary_image_url:le.url,primary_public_id:le.publicId,image_urls:rt.map(Rn=>Rn.url),gallery_public_ids:rt.map(Rn=>Rn.publicId),is_active:!0,created_at:i0(),currency:"GBP"};Va&&b&&(Fi.compare_at_cents=Va),await Zj(Qs(Fn,"products",t),Fi),S(Ye?"Updated product!":"Created product!"),Lt({id:t}),x(null),I([])}catch(le){Te((le==null?void 0:le.message)||"Failed to save product")}finally{A(!1)}},Vt=async()=>{if(t&&confirm(`Hide "${t}" from the catalogue?`))try{A(!0),S(null),Te(null),await e4(Qs(Fn,"products",t),{is_active:!1,deleted_at:i0()}),S("Product hidden (soft deleted).")}catch(W){Te(W.message||"Soft delete failed")}finally{A(!1)}},Re=async()=>{if(t&&confirm(`Permanently delete "${t}" document? Images on Cloudinary will remain.`))try{A(!0),S(null),Te(null),await t4(Qs(Fn,"products",t)),S("Product document deleted."),Lt(null),r(""),m(""),x(null),I([])}catch(W){Te(W.message||"Hard delete failed")}finally{A(!1)}};return l.jsx("div",{className:"min-h-screen w-full flex items-start md:items-center justify-center bg-gray-50 py-10",children:l.jsxs("form",{onSubmit:fe,className:"space-y-6 border p-6 md:p-8 rounded-2xl max-w-3xl w-full bg-white shadow-sm mx-4",children:[l.jsxs("header",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-xl md:text-2xl font-bold",children:"Add / Edit Product"}),Ye&&l.jsxs("span",{className:"text-xs px-2 py-1 rounded bg-amber-100 text-amber-800",children:["Editing: ",Ye.id]})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm mb-1",children:"Title"}),l.jsx("input",{className:"border px-3 py-2 w-full rounded",value:n,onChange:W=>r(W.target.value),placeholder:"Linen Shirt - Olive"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm mb-1",children:"Slug"}),l.jsx("input",{className:`border px-3 py-2 w-full rounded ${Ye?"border-amber-400 bg-amber-50":""}`,value:t,onChange:W=>e(Kd(W.target.value)),placeholder:"linen-shirt-olive"}),Ye&&l.jsx("p",{className:"text-xs text-amber-700 mt-1",children:"A product with this slug exists — saving will update it."})]})]}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm mb-1",children:"Brand"}),l.jsx("input",{className:"border px-3 py-2 w-full rounded",value:s,onChange:W=>i(W.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm mb-1",children:"Collection"}),l.jsx("input",{className:"border px-3 py-2 w-full rounded",value:o,onChange:W=>u(W.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm mb-1",children:"Gender"}),l.jsxs("select",{className:"border px-3 py-2 w-full rounded",value:c,onChange:W=>d(W.target.value),children:[l.jsx("option",{value:"women",children:"women"}),l.jsx("option",{value:"men",children:"men"}),l.jsx("option",{value:"unisex",children:"unisex"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm mb-1",children:"Description"}),l.jsx("textarea",{className:"border px-3 py-2 w-full rounded min-h-[80px]",value:f,onChange:W=>m(W.target.value),placeholder:"Breathable premium linen"})]}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm mb-1",children:"Price (£)"}),l.jsx("input",{type:"number",step:"0.01",className:"border px-3 py-2 w-full rounded",value:g,onChange:W=>T(parseFloat(W.target.value||"0"))}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Saved as pence in ",l.jsx("code",{children:"min_price_cents"}),"."]})]}),l.jsxs("div",{className:"flex items-end gap-2",children:[l.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[l.jsx("input",{type:"checkbox",checked:b,onChange:W=>C(W.target.checked)}),"On sale"]}),l.jsx("input",{type:"number",step:"0.01",className:"border px-3 py-2 w-full rounded",placeholder:"Compare-at (£)",disabled:!b,value:k,onChange:W=>E(W.target.value===""?"":parseFloat(W.target.value))})]})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("label",{className:"block text-sm mb-1",children:"Sizes (CSV or new lines)"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{type:"button",className:"text-xs px-2 py-1 rounded border",onClick:()=>w(Gd(8,20).join(", ")),children:"Fill 8–20"}),l.jsx("button",{type:"button",className:"text-xs px-2 py-1 rounded border",onClick:()=>w(Gd(8,24).join(", ")),children:"8–24"})]})]}),l.jsx("textarea",{className:"border px-3 py-2 w-full rounded",value:y,onChange:W=>w(W.target.value),placeholder:"8, 10, 12, 14, 16, 18, 20"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"UK sizes — defaults to 8 and above."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm mb-1",children:"Colors (CSV or new lines)"}),l.jsx("textarea",{className:"border px-3 py-2 w-full rounded",value:D,onChange:W=>L(W.target.value),placeholder:"Olive, Black, Purple Ankara"})]})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm mb-2",children:"Main image"}),l.jsx("input",{type:"file",accept:"image/*",onChange:W=>{var le;return x(((le=W.target.files)==null?void 0:le[0])||null)}}),z&&l.jsx("div",{className:"mt-2 aspect-[3/4] rounded overflow-hidden border bg-gray-50",children:l.jsx("img",{src:z,alt:"preview",className:"w-full h-full object-cover"})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm mb-2",children:"Gallery images (upload multiple)"}),l.jsx("input",{multiple:!0,type:"file",accept:"image/*",onChange:W=>J(W.target.files)}),!!G.length&&l.jsx("div",{className:"mt-2 grid grid-cols-4 gap-2",children:G.map((W,le)=>l.jsxs("div",{className:"relative aspect-square rounded overflow-hidden border bg-gray-50",children:[l.jsx("img",{src:W,alt:"",className:"w-full h-full object-cover"}),l.jsx("button",{type:"button",className:"absolute top-1 right-1 text-xs bg-white/90 rounded px-1",onClick:()=>ce(le),children:"×"})]},le))})]})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[l.jsx("button",{disabled:N,className:"px-4 py-2 bg-emerald-600 text-white rounded",children:N?"Saving…":Ye?"Update Product":"Add Product"}),Ye&&l.jsx("button",{type:"button",disabled:N,onClick:Vt,className:"px-4 py-2 rounded border border-amber-500 text-amber-700",children:"Hide (soft delete)"}),Ye&&l.jsx("button",{type:"button",disabled:N,onClick:Re,className:"px-4 py-2 rounded border border-red-600 text-red-700",children:"Delete (hard)"}),P&&l.jsx("span",{className:"text-emerald-700 text-sm",children:P}),ge&&l.jsx("span",{className:"text-red-600 text-sm",children:ge})]}),l.jsxs("p",{className:"text-xs text-gray-500",children:["Will save to: ",l.jsxs("code",{children:["products/",t||"…"]})]})]})})}function wO(){return l.jsxs("div",{children:[l.jsx(gO,{}),l.jsxs("div",{className:"p-6",children:[l.jsx("h1",{className:"text-xl font-bold mb-4",children:"Add Product"}),l.jsx(xO,{})]})]})}function EO(){const[t,e]=R.useState(""),[n,r]=R.useState(""),[s,i]=R.useState(null),[o,u]=R.useState(!1),c=ac(),d=async f=>{f.preventDefault();try{u(!0),i(null),await e3(Bu,t,n),c("/admin")}catch(m){i(m.message||"Sign-in failed")}finally{u(!1)}};return l.jsxs("form",{onSubmit:d,className:"max-w-sm m-8 space-y-3",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Admin Sign In"}),l.jsx("input",{className:"border px-3 py-2 w-full",placeholder:"Email",value:t,onChange:f=>e(f.target.value)}),l.jsx("input",{type:"password",className:"border px-3 py-2 w-full",placeholder:"Password",value:n,onChange:f=>r(f.target.value)}),l.jsx("button",{disabled:o,className:"px-4 py-2 bg-emerald-600 text-white rounded",children:o?"…":"Sign in"}),s&&l.jsx("p",{className:"text-red-600 text-sm",children:s})]})}function TO(){const{items:t,setQty:e,remove:n,clear:r}=Ia(),s=t.length>0;return l.jsxs("div",{className:"container py-10",children:[l.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-6",children:"Your cart"}),!s&&l.jsx("p",{children:"Your cart is empty."}),s&&l.jsxs(l.Fragment,{children:[l.jsx("ul",{className:"divide-y border rounded-2xl bg-white",children:t.map(i=>l.jsxs("li",{className:"p-4 flex gap-4 items-center",children:[l.jsx("div",{className:"w-20 h-24 bg-gray-100 rounded overflow-hidden",children:i.image?l.jsx("img",{src:i.image,className:"w-full h-full object-cover"}):null}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-semibold",children:i.title||i.slug}),l.jsxs("div",{className:"text-sm text-gray-500",children:[i.color?l.jsxs(l.Fragment,{children:["Colour: ",i.color," · "]}):null,i.size?l.jsxs(l.Fragment,{children:["Size: ",i.size]}):null]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{className:"px-2 py-1 border rounded",onClick:()=>e(i.slug,i.size??null,i.color??null,Math.max(1,i.qty-1)),children:"-"}),l.jsx("input",{className:"w-12 text-center border rounded py-1",value:i.qty,onChange:o=>e(i.slug,i.size??null,i.color??null,Math.max(1,parseInt(o.target.value||"1",10)))}),l.jsx("button",{className:"px-2 py-1 border rounded",onClick:()=>e(i.slug,i.size??null,i.color??null,i.qty+1),children:"+"})]}),l.jsx("button",{className:"ml-4 text-red-600 text-sm",onClick:()=>n(i.slug,i.size??null,i.color??null),children:"Remove"})]},`${i.slug}-${i.size}-${i.color}`))}),l.jsxs("div",{className:"mt-6 flex gap-3",children:[l.jsx(oe,{to:"/checkout",className:"px-5 py-3 rounded bg-emerald-600 text-white",children:"Checkout"}),l.jsx("button",{onClick:r,className:"px-5 py-3 rounded border",children:"Clear cart"})]})]})]})}function IO(){const t=new URLSearchParams(cn().search),e=t.get("oid"),n=t.get("sid");return l.jsxs("div",{className:"container mx-auto px-4 py-16",children:[l.jsx("h1",{className:"text-2xl font-bold text-emerald-900",children:"Payment successful 🎉"}),l.jsxs("p",{className:"mt-2 text-gray-700",children:["Order: ",e]}),l.jsxs("p",{className:"text-gray-700",children:["Session: ",n]}),l.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"We’ll email your receipt shortly."})]})}function SO(){return l.jsxs("div",{className:"container mx-auto px-4 py-16",children:[l.jsx("h1",{className:"text-2xl font-bold text-emerald-900",children:"Checkout canceled"}),l.jsx("p",{className:"mt-2 text-gray-700",children:"You can try again or continue shopping."})]})}function NO(){return l.jsx(zA,{children:l.jsxs(eN,{children:[l.jsx(Ue,{path:"/",element:l.jsx(KD,{})}),l.jsx(Ue,{path:"/about",element:l.jsx(XD,{})}),l.jsx(Ue,{path:"/our-team",element:l.jsx(cO,{})}),l.jsx(Ue,{path:"/what-we-do",element:l.jsx(nO,{})}),l.jsx(Ue,{path:"/catalogue",element:l.jsx(rO,{})}),l.jsx(Ue,{path:"/contact",element:l.jsx(ZD,{})}),l.jsx(Ue,{path:"/client",element:l.jsx(iO,{})}),l.jsx(Ue,{path:"/refund-policy",element:l.jsx(pO,{})}),l.jsx(Ue,{path:"/checkout",element:l.jsx(tO,{})}),l.jsx(Ue,{path:"/cart",element:l.jsx(TO,{})}),l.jsx(Ue,{path:"/admin/sign-in",element:l.jsx(EO,{})}),l.jsx(Ue,{path:"/admin",element:l.jsx(j0,{children:l.jsx(wO,{})})}),l.jsx(Ue,{path:"/admin/products/new",element:l.jsx(j0,{children:l.jsx(mO,{})})}),l.jsx(Ue,{path:"/products/:slug",element:l.jsx(JD,{})}),l.jsx(Ue,{path:"/products",element:l.jsx(lT,{})}),l.jsx(Ue,{path:"*",element:l.jsx(sw,{to:"/",replace:!0})}),"// e.g. in App.tsx",l.jsx(Ue,{path:"/checkout/success",element:l.jsx(IO,{})}),l.jsx(Ue,{path:"/checkout/cancel",element:l.jsx(SO,{})})]})})}function bO(){const{pathname:t,search:e,hash:n}=cn();return R.useEffect(()=>{n||window.scrollTo({top:0,left:0,behavior:"auto"})},[t,e,n]),null}Gx(document.getElementById("root")).render(l.jsx(R.StrictMode,{children:l.jsxs(TN,{children:[l.jsx(bO,{}),l.jsx(Rw,{children:l.jsx(NO,{})})]})}));
